(window.jsonpFunction=window.jsonpFunction||[]).push([[1],{1:function(e,t,n){"use strict";function r(e){return e.indexOf("iPhone")!==-1||e.indexOf("Android")!==-1}function o(e,t){var n=navigator.mimeTypes;for(var r in n)if(n[r][e]===t)return!0;return!1}function v(e){return Object(e)===e&&typeof e!="function"&&!Array.isArray(e)}function m(e){return!Array.isArray(e)&&e-Number.parseFloat(e)+1>=0}function g(e){return Array.isArray(e)?e.length===0:v(e)?Object.keys(e).length===0:!e}function y(e){return e instanceof Event||e.originalEvent instanceof Event}function b(e){return e>=0}function w(e){return typeof e=="string"||e instanceof String}function E(e){return w(e)&&!!e.match(/^((https?|ftp|rtsp|mms):\/\/)(([0-9a-z_!~*'().&=+$%-]+: )?[0-9a-z_!~*'().&=+$%-]+@)?(([0-9]{1,3}\.){3}[0-9]{1,3}|([0-9a-z_!~*'()-]+\.)*([0-9a-z][0-9a-z-]{0,61})?[0-9a-z]\.[a-z]{2,6}|localhost)(:[0-9]{1,4})?((\/?)|(\/[0-9a-z_!~*'().;?:@&=+$,%#-]+)+\/?)$/i)}function S(e){return w(e)&&!!e.match(/^((https):\/\/)(([0-9a-z_!~*'().&=+$%-]+: )?[0-9a-z_!~*'().&=+$%-]+@)?(([0-9]{1,3}\.){3}[0-9]{1,3}|([0-9a-z_!~*'()-]+\.)*([0-9a-z][0-9a-z-]{0,61})?[0-9a-z]\.[a-z]{2,6}|localhost)(:[0-9]{1,4})?((\/?)|(\/[0-9a-z_!~*'().;?:@&=+$,%#-]+)+\/?)$/i)}function x(e,t){var n=Math.max(e.xmin,t.xmin),r=Math.max(e.ymin,t.ymin),i=Math.min(e.xmax,t.xmax),s=Math.min(e.ymax,t.ymax);return n>i||r>s}function T(e,t){var n=Math.max(e.xmin,t.xmin),r=Math.max(e.ymin,t.ymin),i=Math.min(e.xmax,t.xmax),s=Math.min(e.ymax,t.ymax);return n===i||r===s}function N(e,t){var n=Math.max(e.xmin,t.xmin),r=Math.max(e.ymin,t.ymin),i=Math.min(e.xmax,t.xmax),s=Math.min(e.ymax,t.ymax);return n<i&&r<s}function C(e,t){return e.xmin>t.xmin&&e.xmax<t.xmax&&e.ymin>t.ymin&&e.ymax<t.ymax}function k(e,t){if(!e||!t||!e.hasChildNodes())return!1;var n=e.childNodes;for(var r=n.length-1;r>-1;r--)if(n[r].isSameNode(t))return!0;return!1}function L(e,t){while(t.parentNode){t=t.parentNode;if(t===e)return!0}return!1}function A(e){if(!e)return!1;var t=e.replace(/&#8203;|\u200B/g,"").match(/<[^<>]+>[^<>]+<[^<>]+>/g);return Boolean(t)}function O(e,t){var n=!1;e:for(var r=e.length-1;r>-1;r--){var i=e[r].elements;for(var s=i.length-1;s>-1;s--)if(i[s].type==="plugin-iframe"&&(!t||i[s].src&&i[s].src.match(t))){n=!0;break e}}return n}function M(e){return m(e)?e+"px":"0px"}function _(e,t){var n=t?Number.parseInt(e,10):Number.parseFloat(e);return Number.isNaN(n)?0:n}function D(e){return encodeURI(e.toString())}function P(e){var t=_(e.top),n=_(e.left),r=n+_(rt(e,"width")),i=t+_(rt(e,"height"));return{top:t,left:n,right:r,bottom:i}}function H(e){return{top:M(e.top),left:M(e.left),width:M(e.right-e.left),height:M(e.bottom-e.top)}}function B(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:location.search,t={};return!e||e.length<2?t:(e=e.slice(1),e=e.split("&"),e.map(function(e){e=e.split("="),t[e[0]]=e[1]}),t)}function j(e){var t=[];for(var n in e)t.push(n+"="+e[n]);return"?"+t.join("&")}function F(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"image/png";e=e.split(",")[1],e=window.atob(e);var n=new Uint8Array(e.length);for(var r=0;r<e.length;r++)n[r]=e.charCodeAt(r);var i=new Blob([n],{type:t});return i}function I(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(e){t(new Uint8Array(e.target.result))},r.readAsArrayBuffer(e)})}function q(e){var t=document.createElement("pre"),n=document.createTextNode(e);return t.appendChild(n),t.innerHTML}function R(e){var t=document.createElement("div");return t.innerHTML=e,t.innerText.trim()}function U(e,t,n){var r,i=0;return function(){for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];var a=this,f=function(){i=Date.now(),e.apply(a,o)},l=Date.now()-i,c=n&&!r||l>=t;clearTimeout(r),c?f():r=setTimeout(f,t-l)}}function z(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}function W(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}function X(){return new Promise(function(e){if(!document.getElementById("editor-loader")){e();return}setTimeout(function(){$("#editor-loader").addClass("leave"),setTimeout(function(){$("#editor-loader").addClass("remove"),e()},550)},500)})}function V(){var e=function t(e){e.preventDefault(),document.removeEventListener("contextmenu",t)};document.addEventListener("contextmenu",e)}function J(e){if(Array.isArray(e))return e.map(function(e){return J(e)});if(v(e)){var t={};for(var n in e)t[n]=J(e[n]);return t}return e}function K(e,t,n){if(!e||!t||!v(t))return!1;for(var r in t)v(t[r])?e[r]?K(e[r],t[r],n):n?n(e,r,t[r]):e[r]=t[r]:n?n(e,r,t[r]):e[r]=t[r];return e}function Q(e){var t=e.parentElement,n=e.outerHTML;while(t.parentElement)n=t.outerHTML.replace(t.innerHTML,n),t=t.parentElement;return n}function G(){}function Y(e,t,n){var r=!1,i=t.length;e=~~e;if(t.length<1)return r;if(e<t[0].n-n||e>t[i-1]+n)return r;var s=Math.abs(e-t[0].n);for(var o=0;o<i;o++){var u=e-t[o].n;if(Math.abs(u)>s)return r;Math.abs(u)<=n&&(r=Object.assign({},t[o],{delta:u}))}return r}function Z(e){if(!!g(e.children))return g(e.innerText)?!1:e;var t=e.children;for(var n in t){var r=Z(t[n]);if(r)return r}}function et(){return tt()+tt()+"-"+tt()+"-"+tt()+"-"+tt()+"-"+tt()+tt()+tt()}function tt(){return((1+Math.random())*65536|0).toString(16).substring(1)}function nt(e,t){return e[t]==="auto"?e["_"+t]?e["_"+t]:0:e[t]}function rt(e,t){return _(nt(e,t))+2*(_(e["border-width"])||0)+2*(_(e.padding)||0)}function it(e){return e.offsetHeight-2*(_(e.style.borderWidth)||0)-2*(_(e.style.padding)||0)}function st(e){return e.offsetWidth-2*(_(e.style.borderWidth)||0)-2*(_(e.style.padding)||0)}function ot(e,t){return e*(t.scale||t.zoom||1)}function ut(e,t,n,r){return m(e.left)&&(e.left=at(e.left,t.left,n),r&&(e.left=M(e.left))),m(e.top)&&(e.top=at(e.top,t.top,n),r&&(e.top=M(e.top))),m(e.width)&&(e.width=ot(e.width,n),r&&(e.width=M(e.width))),m(e.height)&&(e.height=ot(e.height,n),r&&(e.height=M(e.height))),e}function at(e,t,n){return n.scale?e=e*n.scale+t:n.zoom?e=(e+t)*n.zoom:e+=t,e}function ft(e){return new Promise(function(t,n){try{var r=new Image;r.onload=function(){window.getImageColorContext||(window.getImageColorCanvas=document.createElement("canvas"),window.getImageColorCanvas.width=document.body.clientWidth,window.getImageColorCanvas.height=window.innerHeight,window.getImageColorContext=window.getImageColorCanvas.getContext("2d"));var e=window.getImageColorContext;e.clearRect(0,0,r.width,r.height),e.drawImage(r,0,0,r.width,r.height);var n=e.getImageData(0,0,r.width,r.height).data,i=0,s=0,o=0,u=0,a=0,f=0,l=0,c,h;for(var p=0;p<n.length;p+=4)i++,u+=n[p],a+=n[p+1],f+=n[p+2],l+=n[p+3],h=.299*n[p]+.7152*n[p+1]+.0722*n[p+2],c=h-o,s+=c*c,o+=c/i;var d=Math.sqrt(s/i)/255;o/=255,u/=i||1,a/=i||1,f/=i||1,l/=(i||1)/255,t({color:"rgb("+u+", "+a+", "+f+")",complex:d>.3,dark:o<.5,opacity:l})},r.crossOrigin="",r.src=e}catch(i){console.error(i),n(i)}})}n.d(t,"s",function(){return r}),n.d(t,"q",function(){return i}),n.d(t,"t",function(){return c}),n.d(t,"r",function(){return d}),n.d(t,"B",function(){return v}),n.d(t,"A",function(){return m}),n.d(t,"w",function(){return g}),n.d(t,"x",function(){return y}),n.d(t,"C",function(){return b}),n.d(t,"E",function(){return w}),n.d(t,"F",function(){return E}),n.d(t,"y",function(){return S}),n.d(t,"z",function(){return N}),n.d(t,"v",function(){return C}),n.d(t,"u",function(){return k}),n.d(t,"D",function(){return L}),n.d(t,"p",function(){return A}),n.d(t,"o",function(){return O}),n.d(t,"L",function(){return M}),n.d(t,"M",function(){return _}),n.d(t,"N",function(){return P}),n.d(t,"K",function(){return H}),n.d(t,"J",function(){return B}),n.d(t,"c",function(){return F}),n.d(t,"f",function(){return q}),n.d(t,"g",function(){return R}),n.d(t,"d",function(){return U}),n.d(t,"G",function(){return z}),n.d(t,"h",function(){return W}),n.d(t,"I",function(){return X}),n.d(t,"a",function(){return V}),n.d(t,"e",function(){return J}),n.d(t,"H",function(){return K}),n.d(t,"l",function(){return Q}),n.d(t,"i",function(){return Y}),n.d(t,"j",function(){return Z}),n.d(t,"O",function(){return et}),n.d(t,"k",function(){return rt}),n.d(t,"m",function(){return it}),n.d(t,"n",function(){return st}),n.d(t,"b",function(){return ut});var i=typeof window!="undefined"&&Object.prototype.toString.call(window)!=="[object Object]",s=i&&navigator.userAgent.indexOf("Safari")!==-1&&navigator.userAgent.indexOf("Chrome")===-1,u=i&&/micromessenger/.test(navigator.userAgent.toLowerCase()),a=i&&navigator.userAgent.indexOf("Chrome")!==-1&&navigator.mimeTypes&&o("type","application/vnd.chromium.remoting-viewer"),f=i&&window.ActiveXObject!==undefined,l=i&&navigator.userAgent.indexOf("Firefox")!==-1,c=i&&(navigator.userAgent.indexOf("Windows")!==-1||navigator.userAgent.indexOf("Macintosh")!==-1),h=i&&navigator.userAgent.indexOf("Macintosh")!==-1,p=i&&navigator.userAgent.indexOf("iPad")!==-1,d=i&&r(navigator.userAgent)},158:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"c",function(){return o});var r={"plugin-text":"文本","plugin-image":"图片","plugin-shape":"形状","plugin-line":"线条","plugin-code":"代码","plugin-iframe":"iframe","plugin-table":"表格","plugin-group":"组","plugin-highlighter":"高亮","plugin-math":"公式","plugin-tabledata":"图表"},i={MODIFY_LOCKED:"不能修改被锁对象的样式",NEED_UNLOCKED:"选中未被锁定的元素或者组才可进行此操作",NEED_UNLOCKED_CHAIN:"选中多个未被锁定的元素或者组才可进行此操作",SHARE_WITHOUT_SAVE:"保存幻灯片后才可以分享哦",EXPORT_WITHOUT_SAVE:"保存幻灯片后才可以导出哦"},s={USE_ALT:"你可以在点击的同时按下alt/opt键选择组内元素哦",LEAVE_WITHOUT_SAVE:"你正在编辑的slide尚未保存，确定要离开吗？"},o={EXPORT_WITHOUT_LOGIN:"导出功能需要登录后才能使用。",SAVE_WITHOU_LOGIN:"云端保存功能只有登录后方可使用。",CREATE_WITHOU_LOGIN:"通过模版创建PPT功能只有在登录后才能使用",UPLOAD_IMAGE_WITHOUT_LOGIN:"登录才可以上传图片。",EDITER_PPT_NOW:"PPT创建成功是否现在就去编辑？",YOURS_TEMPLATE_WITHOUT_LOGIN:"我的模板功能需要登录后才能使用。",ADD_TEMPLATE_WITHOUT_LOGIN:"模板功能需要登录后才能使用。",COLLECT_WITHOUT_LOGIN:"收藏功能需要登录后才能使用。",HAS_UNLOGIN_SLIDE:"检测到您浏览器中存有未登录时创建的幻灯片，是否继续编辑？",RESERVER_UNLOGIN_SLIDE:"检测到未登录时创建的幻灯片页数较多，是否需要保留以便日后编辑？",NEED_LOGIN:"是否需要登录呢？"},u={SAVE_TITLE:"离线数据云端保存成功～",SAVE_SLIDE_INFO:"的设置云端保存成功～",SAVE_SLIDE_CONFIG:"的数据云端保存成功～"}},161:function(e,t,n){"use strict";function p(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;t&&e.dispatch("MARKOPERATION"),a&&clearTimeout(a),a=setTimeout(function(){o.a.$emit("auto-save")},2e3)}function d(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},r=n.force,i=r===void 0?!1:r,s=n.replace,o=s===void 0?!1:s;f++;if(u||i)u=!1,setTimeout(function(){u=!0},1e3),t.dispatch("PUSHSHADOW",Object.assign(h,{replace:o})),o||p(t),h={};!t.state.editor.pageIndex&&!t.state.editor.coverEdited&&t.dispatch("EDITEDITOR",{data:{coverEdited:!0}})}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e,t){return B(e)||H(e,t)||P()}function P(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function H(e,t){var n=[],r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){n.push(u.value);if(t&&n.length===t)break}}catch(a){i=!0,s=a}finally{try{!r&&o["return"]!=null&&o["return"]()}finally{if(i)throw s}}return n}function B(e){if(Array.isArray(e))return e}function j(e){return q(e)||I(e)||F()}function F(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function I(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function q(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function R(e,t){var n=t.slide;Object(b.H)(e.slide,L.check(n),y.a.set)}function U(e,t){var n=t.data;Object(b.H)(e.slide.config,n,y.a.set)}function z(e,t){var n=t.data;Object(b.H)(e.slide,n,y.a.set)}function W(e,t){var n=t.pageIndex,r=n===void 0?e.editor.pageIndex:n,i=t.data,s=t.add,o=s===void 0?!1:s;if(o)if(i instanceof Array){var u;(u=e.slide.pages).splice.apply(u,[r,0].concat(j(i)))}else e.slide.pages.splice(r,0,i);else y.a.set(e.slide.pages,r,i)}function X(e,t){t=Math.max(0,Math.min(t,e.slide.pages.length-1)),y.a.set(e.editor,"pageIndex",t)}function V(e,t){var n=t.pageIndex,r=n===void 0?e.editor.pageIndex:n,i=t.notes,s=t.init,o=s===void 0?!1:s;if(o)e.editor.latestNotes=i;else{var u=e.slide.pages[r];y.a.set(u,"notes",i),i?y.a.set(e.editor.latestNotes,u.id,i):y.a["delete"](e.editor.latestNotes,u.id)}}function $(e,t){var n=t.pageIndex,r=n===void 0?e.editor.pageIndex:n,i=t.data;Object(b.H)(e.slide.pages[r],i,y.a.set)}function J(e,t){var n=t.a,r=t.b;n=Math.min(Math.max(n,0),e.slide.pages.length-1),r=Math.min(Math.max(r,0),e.slide.pages.length-1);var i=e.slide.pages[n];y.a.set(e.slide.pages,n,e.slide.pages[r]),y.a.set(e.slide.pages,r,i)}function K(e,t){var n=t.selectedIndice,r=t.toIndex,i=t.pos;i==="after"&&r++,n=n.slice(),n.sort(function(e,t){return t-e});var s=0,o=!0,u=!1,a=undefined;try{for(var f=n[Symbol.iterator](),l;!(o=(l=f.next()).done);o=!0){var c=l.value;c<r&&s++}}catch(h){u=!0,a=h}finally{try{!o&&f["return"]!=null&&f["return"]()}finally{if(u)throw a}}var p=e.slide.pages,d=[],v=!0,m=!1,g=undefined;try{for(var y=n[Symbol.iterator](),b;!(v=(b=y.next()).done);v=!0){var w=b.value,E=p.splice(w,1),S=D(E,1),x=S[0];d.unshift(x)}}catch(h){m=!0,g=h}finally{try{!v&&y["return"]!=null&&y["return"]()}finally{if(m)throw g}}var T=r-s;p.splice.apply(p,[T,0].concat(d))}function Q(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:e.editor.pageIndex;e.slide.pages.length>1&&e.slide.pages.splice(t,1)}function G(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=t.group,r=t.pageIndex,i=r===void 0?e.editor.pageIndex:r,s=e.slide.pages[i];s.groups?y.a.set(s.groups,n.id,n):y.a.set(s,"groups",_({},n.id,n))}function Y(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=t.pageIndex,r=n===void 0?e.editor.pageIndex:n,i=e.slide.pages[r],s=Object(b.e)(i.groups);for(var o in s)s[o].elements=[];i.elements.forEach(function(e,t){e.group&&s[e.group].elements.push(t)}),Object(b.H)(i.groups,s,y.a.set)}function Z(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=t.groupIndex,r=n===void 0?e.editor.groupIndex:n,i=t.pageIndex,s=i===void 0?e.editor.pageIndex:i,o=e.slide.pages[s],u=o.groups&&o.groups[r];if(Object(b.w)(u))return;var a=o.elements,f=u.elements.reduce(function(e,t){var n=Object(b.N)(a[t].styles);return Object.keys(n).forEach(function(t){if(e[t]===undefined){e[t]=n[t];return}t.match(/top|left/)?e[t]=Math.min(e[t],n[t]):e[t]=Math.max(e[t],n[t])}),e},{});Object(b.H)(u.styles,Object(b.K)(f),y.a.set)}function et(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=t.groupIndex,r=n===void 0?e.editor.groupIndex:n,i=t.pageIndex,s=i===void 0?e.editor.pageIndex:i,o=e.slide.pages[s];y.a["delete"](o.groups,r),Object(b.w)(o.groups)&&y.a["delete"](o,"groups")}function tt(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=t.group,r=t.groupIndex,i=r===void 0?e.editor.groupIndex:r,s=t.pageIndex,o=s===void 0?e.editor.pageIndex:s;Object(b.H)(e.slide.pages[o].groups[i],n,y.a.set)}function nt(e,t){var n=t.elementIndex,r=n===void 0?e.editor.elementIndex:n,i=t.groupIndex,s=i===void 0?e.editor.groupIndex:i,o=t.pageIndex,u=o===void 0?e.editor.pageIndex:o,a=e.slide.pages[u].groups[s].elements,f=a.indexOf(r);f>-1?a.splice(f,1):(a.push(r),a.sort(function(e,t){return e-t}))}function rt(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=t.pageIndex,r=n===void 0?e.editor.pageIndex:n,i=t.elementIndex,s=i===void 0?e.editor.elementIndex:i,o=t.element,u=o===void 0?{}:o;y.a.set(e.slide.pages[r].elements,s,u)}function it(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=t.pageIndex,r=n===void 0?e.editor.pageIndex:n,i=t.elementIndex,s=i===void 0?e.editor.elementIndex:i,o=t.level,u=t.delta,a=u===void 0?1:u,f=t.batch,l=f===void 0?[]:f,c=e.slide.pages[r].groups,h=e.slide.pages[r].elements;a=Object(b.A)(o)?(~~o+1-o)/(l.length+1):a;var p=h.map(function(e,t){return{index:t,level:e.styles["z-index"]}});Object(b.A)(o)&&(Object(b.w)(l)&&p[s]?p[s].level=o:l.reduce(function(e,t){return p[t].level=e,e+a},o+a));if(!Object(b.w)(c))for(var d in c){var v=c[d],m=v.elements.reduce(function(e,t){return Math.max(e,p[t].level)},0);p.push({index:v.id,level:m?m+a/2:v.styles["z-index"]})}p.sort(function(e,t){return e.level-t.level}),p.forEach(function(e,t){Object(b.E)(e.index)?c[e.index].styles["z-index"]=t+11:h[e.index].styles["z-index"]=t+11})}function st(e,t){var n=t.pageIndex,r=n===void 0?e.editor.pageIndex:n,i=t.elements,s=i===void 0?[]:i;e.slide.pages[r].elements=e.slide.pages[r].elements.concat(s)}function ot(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=t.pageIndex,r=n===void 0?e.editor.pageIndex:n,i=t.elementIndex,s=i===void 0?e.editor.elementIndex:i,o=t.data,u=o===void 0?{}:o;Object(b.H)(e.slide.pages[r].elements[s],u,function(e,t,n){e[t]===undefined&&y.a.set(e,t,n)})}function ut(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=t.pageIndex,r=n===void 0?e.editor.pageIndex:n,i=t.elementIndex,s=i===void 0?e.editor.elementIndex:i;e.slide.pages[r].elements.splice(s,1)}function at(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=t.pageIndex,r=n===void 0?e.editor.pageIndex:n,i=t.elementIndex,s=i===void 0?e.editor.elementIndex:i,o=t.data;Object(b.H)(e.slide.pages[r].elements[s],o,y.a["delete"])}function ft(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=t.pageIndex,r=n===void 0?e.editor.pageIndex:n,i=t.elementIndex,s=i===void 0?e.editor.elementIndex:i,o=t.data,u=o===void 0?{}:o,a=t.method,f=a===void 0?y.a.set:a;Object(b.H)(e.slide.pages[r].elements[s],u,f)}function lt(e,t){var n=t.type;e.type=n}function ct(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=t.elementIndex,r=n===void 0?-1:n,i=t.pageIndex,s=i===void 0?e.editor.pageIndex:i,o=t.groupIndex,u=o===void 0?!1:o;s=Math.max(0,Math.min(s,e.slide.pages.length-1));var a=e.slide.pages[s].elements,f=e.slide.pages[s].groups;r=Math.max(-1,Math.min(r,a.length-1)),a[r]&&a[r].group&&(u=a[r].group),u=f&&f[u]?u:!1,y.a.set(e.editor,"elementIndex",r),y.a.set(e.editor,"pageIndex",s),y.a.set(e.editor,"groupIndex",u)}function ht(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=t.pageIndex,r=n===void 0?e.editor.pageIndex:n,i=t.groupIndex,s=i===void 0?e.editor.groupIndex:i,o=t.data;Object(b.H)(e.slide.pages[r].groups[s],o,y.a["delete"])}function pt(e,t){var n=t.data;Object(b.H)(e.editor,n,y.a.set)}function dt(e,t){var n=e.slide.pages[e.editor.pageIndex],r=n.elements,i=e.editor.chain,s=i.indexOf(t);if(s>-1){i.splice(s,1),i.length===1&&(Object(b.A)(i[0])?e.editor.elementIndex=i[0]:e.editor.groupIndex=i[0],i.pop());return}var o=n.groups;if(Object(b.A)(t)){if(r[t].group){var u=i.indexOf(r[t].group);u>-1&&i.splice(u,1)}i.push(t)}else{o[t].elements.forEach(function(e){var t=i.indexOf(e);t>-1&&i.splice(t,1)});if(Object(b.w)(i)){e.editor.groupIndex=t;return}i.push(t)}i.sort(function(e,t){return(r[e]||o[e]).styles["z-index"]-(r[t]||o[t]).styles["z-index"]})}function vt(e){e.editor.operation++}function mt(){}function yt(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};t.replace||(e.slide._t=Date.now());var n=Et(e,t);if(e.shadow.x){var r=e.shadow.x;e.shadow.z.length>32&&e.shadow.z.shift(),t.replace||e.shadow.z.push(r),e.shadow.x=n}else e.shadow.x=n;e.shadow.y.length>0&&(e.shadow.y=[]);var i=e.editor.slideInfo;gt&&w.a.setSlide(Object.assign({},i,{slide_config:n.slide}),i.slide_id||(A.c?"noSave":"noLogin"),i.user_name||!A.c&&"noLogin"),gt++}function bt(e){if(e.shadow.z.length>0){var t=e.shadow.z.pop(),n=e.shadow.x;e.shadow.y.push(n),St(e,t,n)}}function wt(e){if(e.shadow.y.length>0){var t=e.shadow.y.pop(),n=e.shadow.x;e.shadow.z.push(n),St(e,t,n)}}function Et(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return Object.assign({slide:Object(b.e)(e.slide),t:e.slide._t,pageIndex:e.editor.pageIndex},t)}function St(e,t,n){var r=e.editor;r.elementIndex=-1,r.groupIndex=!1,r.chain=[];if(!Object(b.w)(e.editor.latestNotes)||!Object(b.w)(e.editor.latestAudios)){var i=e.editor.latestNotes,s=e.editor.latestAudios;t.slide.pages=t.slide.pages.map(function(e){return i[e.id]&&(e.notes=i[e.id]),s[e.id]&&(e.audio=s[e.id]),e})}Object.assign(t.slide,{colors:e.slide.colors,font:e.slide.font,config:e.slide.config}),e.slide=Object(b.e)(t.slide),e.shadow.x=t,t.pageIndex!==e.editor.pageIndex&&y.a.nextTick(function(){M.a.slide(t.pageIndex)}),t.revealSync&&y.a.nextTick(function(){M.a.sync()});if(gt){var o=e.editor.slideInfo;w.a.setSlide(Object.assign({},o,{slide_config:e.slide}),o.slide_id||(A.c?"noSave":"noLogin"),o.user_name||!A.c&&"noLogin")}gt++}n.r(t);var r={};n.r(r),n.d(r,"SETSLIDE",function(){return R}),n.d(r,"EDITCONFIG",function(){return U}),n.d(r,"EDITSLIDE",function(){return z}),n.d(r,"SETPAGE",function(){return W}),n.d(r,"SETPAGESELECTED",function(){return X}),n.d(r,"SETPAGENOTES",function(){return V}),n.d(r,"EDITPAGE",function(){return $}),n.d(r,"CHANGEPAGEORDER",function(){return J}),n.d(r,"CHANGEPAGESORDER",function(){return K}),n.d(r,"DELPAGE",function(){return Q}),n.d(r,"SETGROUP",function(){return G}),n.d(r,"BUILDGROUPS",function(){return Y}),n.d(r,"BUILDGROUPSTYLES",function(){return Z}),n.d(r,"DELGROUP",function(){return et}),n.d(r,"EDITGROUP",function(){return tt}),n.d(r,"MODIFYGROUPELEMENTS",function(){return nt}),n.d(r,"SETELEMENT",function(){return rt}),n.d(r,"CHANGEELEMENTZINDEX",function(){return it}),n.d(r,"CONCATELEMENTS",function(){return st}),n.d(r,"COMPLEMENTELEMENT",function(){return ot}),n.d(r,"DELELEMENTBYINDEX",function(){return ut}),n.d(r,"DELELEMENTATTR",function(){return at}),n.d(r,"EDITELEMENT",function(){return ft}),n.d(r,"SETTYPE",function(){return lt}),n.d(r,"SETELEMENTSELECTED",function(){return ct}),n.d(r,"DELGROUPATTR",function(){return ht}),n.d(r,"EDITEDITOR",function(){return pt}),n.d(r,"MODIFYCHAIN",function(){return dt}),n.d(r,"MARKOPERATION",function(){return vt}),n.d(r,"MARKTRANSACTION",function(){return mt}),n.d(r,"PUSHSHADOW",function(){return yt}),n.d(r,"POPSHADOW",function(){return bt}),n.d(r,"REDOSHADOW",function(){return wt});var i=n(474),s=n.n(i),o=n(2),u=!0,a=null,f=0,l=0,c=0,h={},v=function(t){t.subscribe(function(e,n){switch(e.type){case"SETPAGE":case"EDITPAGE":h.revealSync=!0,d(e,t);break;case"CHANGEPAGEORDER":case"DELPAGE":case"MARKTRANSACTION":case"SETELEMENT":d(e,t);break;case"SETPAGENOTES":e.payload[0].init||p(t);break;case"EDITSLIDE":case"EDITCONFIG":case"CHECKFRAGMENT":p(t);break;case"MARKOPERATION":p(t,!1);break;case"SETPAGESELECTED":n.editor.pageIndex!==c&&(c=n.editor.pageIndex,d(e,t,{force:!0,replace:l===f}),l=f)}})},m=[v],g=n(9),y=n.n(g),b=n(1),w=n(90),E=n(422),S=n.n(E),x=n(158),k=function(){function e(){T(this,e),this.converters={2:function(t){return t.pages.forEach(function(e){e.numbers=e.numbers||{};var n=e.color||t.colors.color;e.elements=e.elements.map(function(t){var r=t.type;e.numbers[r]=e.numbers[r]||0;var i=++e.numbers[r];return t.name=t.name||(r!=="plugin-text"?x.b[r]+i:undefined),r==="plugin-line"&&S.a.equals(t.stroke,n)&&delete t.stroke,t})}),t}},this.currentVersion=parseInt(Object.keys(this.converters).sort(function(e,t){return t-e})[0],10)}return C(e,[{key:"check",value:function(t){var n=this;t.version=t.version||0;if(t.version<this.currentVersion){var r=Object.keys(this.converters).filter(function(e){return e>t.version}).sort(function(e,t){return e-t}).map(function(e){return n.converters[e]});t=r.reduce(function(e,t){return t(e)},t),t.version=this.currentVersion}return t}}]),e}(),L=new k,A=n(64),O=n(35),M=n.n(O),gt=0,xt=n(417),Tt={state:xt.b,mutations:r,plugins:m},Nt=t["default"]=new s.a.Store(Tt)},2:function(e,t,n){"use strict";var r=n(9),i=n.n(r);t.a=new i.a},35:function(e,t,n){function i(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?i=function(t){return typeof t}:i=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(e)}var r;(function(i,s){i=i||(typeof window!="undefined"&&Object.prototype.toString.call(window)==="[object Object]"?window:{}),r=function(){return i.Reveal=s(),i.Reveal}.call(t,n,t,e),r===undefined||!(e.exports=r)})(this,function(){function H(t){B();if(!S.transforms2d&&!S.transforms3d){document.body.setAttribute("class","no-transforms");var n=G(document.getElementsByTagName("img")),r=G(document.getElementsByTagName("iframe")),i=n.concat(r);for(var s=0,o=i.length;s<o;s++){var u=i[s];u.getAttribute("data-src")&&(u.setAttribute("src",u.getAttribute("data-src")),u.removeAttribute("data-src"))}return}E.wrapper=document.querySelector(".reveal"),E.slides=document.querySelector(".reveal .slides"),window.addEventListener("load",yt,!1);var f=e.getQueryHash();typeof f["dependencies"]!="undefined"&&delete f.dependencies,Q(a,t),Q(a,f),at(),j()}function B(){x=/(iphone|ipod|ipad|android)/gi.test(u),T=/chrome/i.test(u)&&!/edge/i.test(u);var e=document.createElement("div");S.transforms3d="WebkitPerspective"in e.style||"MozPerspective"in e.style||"msPerspective"in e.style||"OPerspective"in e.style||"perspective"in e.style,S.transforms2d="WebkitTransform"in e.style||"MozTransform"in e.style||"msTransform"in e.style||"OTransform"in e.style||"transform"in e.style,S.requestAnimationFrameMethod=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,S.requestAnimationFrame=typeof S.requestAnimationFrameMethod=="function",S.canvas=!!document.createElement("canvas").getContext,S.overviewTransitions=!/Version\/[\d\.]+.*Safari/.test(u),S.zoom="zoom"in e.style&&!x&&(T||/Version\/[\d\.]+.*Safari/.test(u))}function j(){function r(){t.length&&head.js.apply(null,t),F()}function i(e){head.ready(e.src.match(/([\w\d_\-]*)\.?js$|[^\\\/]*$/i)[0],function(){typeof e.callback=="function"&&e.callback.apply(this),--n===0&&r()})}var e=[],t=[],n=0;for(var s=0,o=a.dependencies.length;s<o;s++){var u=a.dependencies[s];if(!u.condition||u.condition())u.async?t.push(u.src):e.push(u.src),i(u)}e.length?(n=e.length,head.js.apply(null,e)):r()}function F(){I(),V(),U(),It(),$(),fn(),Kt(!0),setTimeout(function(){E.slides.classList.remove("no-transition"),f=!0,lt("ready",{indexh:p,indexv:d,currentSlide:m})},1),ut()&&(K(),document.readyState==="complete"?R():window.addEventListener("load",R))}function I(){E.slides.classList.add("no-transition"),E.background=z(E.wrapper,"div","backgrounds",null),E.progress=z(E.wrapper,"div","progress","<span></span>"),E.progressbar=E.progress.querySelector("span"),z(E.wrapper,"aside","controls",'<button class="navigate-left" aria-label="previous slide"></button><button class="navigate-right" aria-label="next slide"></button><button class="navigate-up" aria-label="above slide"></button><button class="navigate-down" aria-label="below slide"></button>'),E.slideNumber=z(E.wrapper,"div","slide-number",""),E.speakerNotes=z(E.wrapper,"div","speaker-notes",null),E.speakerNotes.setAttribute("data-prevent-swipe",""),z(E.wrapper,"div","pause-overlay",null),E.controls=document.querySelector(".reveal .controls"),E.theme=document.querySelector("#theme"),E.wrapper.setAttribute("role","application"),E.controlsLeft=G(document.querySelectorAll(".navigate-left")),E.controlsRight=G(document.querySelectorAll(".navigate-right")),E.controlsUp=G(document.querySelectorAll(".navigate-up")),E.controlsDown=G(document.querySelectorAll(".navigate-down")),E.controlsPrev=G(document.querySelectorAll(".navigate-prev")),E.controlsNext=G(document.querySelectorAll(".navigate-next")),E.statusDiv=q()}function q(){var e=document.getElementById("aria-status-div");return e||(e=document.createElement("div"),e.style.position="absolute",e.style.height="1px",e.style.width="1px",e.style.overflow="hidden",e.style.clip="rect( 1px, 1px, 1px, 1px )",e.setAttribute("id","aria-status-div"),e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),E.wrapper.appendChild(e)),e}function R(){var e=wt(window.innerWidth,window.innerHeight),t=Math.floor(e.width*(1+a.margin)),i=Math.floor(e.height*(1+a.margin)),s=e.width,o=e.height;nt("@page{size:"+t+"px "+i+"px; margin: 0;}"),nt(".reveal section>img, .reveal section>video, .reveal section>iframe{max-width: "+s+"px; max-height:"+o+"px}"),document.body.classList.add("print-pdf"),document.body.style.width=t+"px",document.body.style.height=i+"px",G(E.wrapper.querySelectorAll(r)).forEach(function(e,t){e.setAttribute("data-index-h",t),e.classList.contains("stack")&&G(e.querySelectorAll("section")).forEach(function(e,n){e.setAttribute("data-index-h",t),e.setAttribute("data-index-v",n)})}),G(E.wrapper.querySelectorAll(n)).forEach(function(e){if(e.classList.contains("stack")===!1){var n=(t-s)/2,r=(i-o)/2,u=st(e),f=Math.max(Math.ceil(u/i),1);if(f===1&&a.center||e.classList.contains("center"))r=Math.max((i-u)/2,0);e.style.left=n+"px",e.style.top=r+"px",e.style.width=s+"px";var l=e.querySelector(".slide-background");l&&(l.style.width=t+"px",l.style.height=i*f+"px",l.style.top=-r+"px",l.style.left=-n+"px");if(a.showNotes){var c=mn(e);if(c){var h=8,p=document.createElement("div");p.classList.add("speaker-notes"),p.classList.add("speaker-notes-pdf"),p.innerHTML=c,p.style.left=h-n+"px",p.style.bottom=h-r+"px",p.style.width=t-h*2+"px",e.appendChild(p)}}if(a.slideNumber){var d=parseInt(e.getAttribute("data-index-h"),10)+1,v=parseInt(e.getAttribute("data-index-v"),10)+1,m=document.createElement("div");m.classList.add("slide-number"),m.classList.add("slide-number-pdf"),m.innerHTML=$t(d,".",v),l.appendChild(m)}}}),G(E.wrapper.querySelectorAll(n+" .fragment")).forEach(function(e){e.classList.add("visible")})}function U(){setInterval(function(){if(E.wrapper.scrollTop!==0||E.wrapper.scrollLeft!==0)E.wrapper.scrollTop=0,E.wrapper.scrollLeft=0},1e3)}function z(e,t,n,r){var i=e.querySelectorAll("."+n);for(var s=0;s<i.length;s++){var o=i[s];if(o.parentNode===e)return o}var u=document.createElement(t);return u.classList.add(n),typeof r=="string"&&(u.innerHTML=r),e.appendChild(u),u}function W(){var e=ut();E.background.innerHTML="",E.background.classList.add("no-transition"),G(E.wrapper.querySelectorAll(r)).forEach(function(t){var n;e?n=X(t,t):n=X(t,E.background),G(t.querySelectorAll("section")).forEach(function(t){e?X(t,t):X(t,n),n.classList.add("stack")})}),a.parallaxBackgroundImage?(E.background.style.backgroundImage='url("'+a.parallaxBackgroundImage+'")',E.background.style.backgroundSize=a.parallaxBackgroundSize,setTimeout(function(){E.wrapper.classList.add("has-parallax-background")},1)):(E.background.style.backgroundImage="",E.wrapper.classList.remove("has-parallax-background"))}function X(e,t){var n={background:e.getAttribute("data-background"),backgroundSize:e.getAttribute("data-background-size"),backgroundImage:e.getAttribute("data-background-image"),backgroundVideo:e.getAttribute("data-background-video"),backgroundIframe:e.getAttribute("data-background-iframe"),backgroundColor:e.getAttribute("data-background-color"),backgroundRepeat:e.getAttribute("data-background-repeat"),backgroundPosition:e.getAttribute("data-background-position"),backgroundTransition:e.getAttribute("data-background-transition"),opacity:e.getAttribute("data-opacity")},r=document.createElement("div");r.className="slide-background "+e.className.replace(/present|past|future/,""),n.background&&(/^(http|file|\/\/)/gi.test(n.background)||/\.(svg|png|jpg|jpeg|gif|bmp)$/gi.test(n.background)?e.setAttribute("data-background-image",n.background):r.style.background=n.background),(n.background||n.backgroundColor||n.backgroundImage||n.backgroundVideo||n.backgroundIframe)&&r.setAttribute("data-background-hash",n.background+n.backgroundSize+n.backgroundImage+n.backgroundVideo+n.backgroundIframe+n.backgroundColor+n.backgroundRepeat+n.backgroundPosition+n.backgroundTransition),n.backgroundSize&&(r.style.backgroundSize=n.backgroundSize),n.backgroundColor&&(r.style.backgroundColor=n.backgroundColor),n.backgroundRepeat&&(r.style.backgroundRepeat=n.backgroundRepeat),n.backgroundPosition&&(r.style.backgroundPosition=n.backgroundPosition),n.backgroundTransition&&r.setAttribute("data-background-transition",n.backgroundTransition),n.opacity&&(r.style.opacity=n.opacity),t.appendChild(r),e.classList.remove("has-dark-background"),e.classList.remove("has-light-background");var i=window.getComputedStyle(r).backgroundColor;if(i){var s=rt(i);s&&s.a!==0&&(it(i)<128?e.classList.add("has-dark-background"):e.classList.add("has-light-background"))}return r}function V(){a.postMessage&&window.addEventListener("message",function(t){var n=t.data;typeof n=="string"&&n.charAt(0)==="{"&&n.charAt(n.length-1)==="}"&&(n=JSON.parse(n),n.method&&typeof e[n.method]=="function"&&e[n.method].apply(e,n.args))},!1)}function $(e){var t=E.wrapper.querySelectorAll(n).length;E.wrapper.classList.remove(a.transition),i(e)==="object"&&Q(a,e),S.transforms3d===!1&&(a.transition="linear"),E.wrapper.classList.add(a.transition),E.wrapper.setAttribute("data-transition-speed",a.transitionSpeed),E.wrapper.setAttribute("data-background-transition",a.backgroundTransition),E.controls.style.display=a.controls?"block":"none",E.progress.style.display=a.progress?"block":"none",E.slideNumber.style.display=a.slideNumber&&!ut()?"block":"none",a.shuffle&&Rt(),a.rtl?E.wrapper.classList.add("rtl"):E.wrapper.classList.remove("rtl"),a.center?E.wrapper.classList.add("center"):E.wrapper.classList.remove("center"),a.pause===!1&&_t(),a.showNotes?E.speakerNotes.classList.add("visible"):E.speakerNotes.classList.remove("visible"),a.mouseWheel?(document.addEventListener("DOMMouseScroll",zn,!1),document.addEventListener("mousewheel",zn,!1)):(document.removeEventListener("DOMMouseScroll",zn,!1),document.removeEventListener("mousewheel",zn,!1)),a.rollingLinks?ct():ht(),a.previewLinks?pt():(dt(),pt("[data-preview-link]")),A&&(A.destroy(),A=null),t>1&&a.autoSlide&&a.autoSlideStoppable&&S.canvas&&S.requestAnimationFrame&&(A=new rr(E.wrapper,function(){return Math.min(Math.max((Date.now()-M)/L,0),1)}),A.on("click",nr),_=!1),a.fragments===!1&&G(E.slides.querySelectorAll(".fragment")).forEach(function(e){e.classList.add("visible"),e.classList.remove("current-fragment")}),Ft()}function J(){k=!0,window.addEventListener("hashchange",Gn,!1),window.addEventListener("resize",Yn,!1),a.touch&&(E.wrapper.addEventListener("touchstart",jn,!1),E.wrapper.addEventListener("touchmove",Fn,!1),E.wrapper.addEventListener("touchend",In,!1),window.navigator.pointerEnabled?(E.wrapper.addEventListener("pointerdown",qn,!1),E.wrapper.addEventListener("pointermove",Rn,!1),E.wrapper.addEventListener("pointerup",Un,!1)):window.navigator.msPointerEnabled&&(E.wrapper.addEventListener("MSPointerDown",qn,!1),E.wrapper.addEventListener("MSPointerMove",Rn,!1),E.wrapper.addEventListener("MSPointerUp",Un,!1))),a.keyboard&&(document.addEventListener("keydown",Bn,!1),document.addEventListener("keypress",Hn,!1)),a.progress&&E.progress&&E.progress.addEventListener("click",Wn,!1);if(a.focusBodyOnPageVisibilityChange){var e;"hidden"in document?e="visibilitychange":"msHidden"in document?e="msvisibilitychange":"webkitHidden"in document&&(e="webkitvisibilitychange"),e&&document.addEventListener(e,Zn,!1)}var t=["touchstart","click"];u.match(/android/gi)&&(t=["touchstart"]),t.forEach(function(e){E.controlsLeft.forEach(function(t){t.addEventListener(e,Xn,!1)}),E.controlsRight.forEach(function(t){t.addEventListener(e,Vn,!1)}),E.controlsUp.forEach(function(t){t.addEventListener(e,$n,!1)}),E.controlsDown.forEach(function(t){t.addEventListener(e,Jn,!1)}),E.controlsPrev.forEach(function(t){t.addEventListener(e,Kn,!1)}),E.controlsNext.forEach(function(t){t.addEventListener(e,Qn,!1)})})}function K(){k=!1,document.removeEventListener("keydown",Bn,!1),document.removeEventListener("keypress",Hn,!1),window.removeEventListener("hashchange",Gn,!1),window.removeEventListener("resize",Yn,!1),E.wrapper.removeEventListener("touchstart",jn,!1),E.wrapper.removeEventListener("touchmove",Fn,!1),E.wrapper.removeEventListener("touchend",In,!1),window.navigator.pointerEnabled?(E.wrapper.removeEventListener("pointerdown",qn,!1),E.wrapper.removeEventListener("pointermove",Rn,!1),E.wrapper.removeEventListener("pointerup",Un,!1)):window.navigator.msPointerEnabled&&(E.wrapper.removeEventListener("MSPointerDown",qn,!1),E.wrapper.removeEventListener("MSPointerMove",Rn,!1),E.wrapper.removeEventListener("MSPointerUp",Un,!1)),a.progress&&E.progress&&E.progress.removeEventListener("click",Wn,!1),["touchstart","click"].forEach(function(e){E.controlsLeft.forEach(function(t){t.removeEventListener(e,Xn,!1)}),E.controlsRight.forEach(function(t){t.removeEventListener(e,Vn,!1)}),E.controlsUp.forEach(function(t){t.removeEventListener(e,$n,!1)}),E.controlsDown.forEach(function(t){t.removeEventListener(e,Jn,!1)}),E.controlsPrev.forEach(function(t){t.removeEventListener(e,Kn,!1)}),E.controlsNext.forEach(function(t){t.removeEventListener(e,Qn,!1)})})}function Q(e,t){for(var n in t)e[n]=t[n]}function G(e){return Array.prototype.slice.call(e)}function Y(e){if(typeof e=="string"){if(e==="null")return null;if(e==="true")return!0;if(e==="false")return!1;if(e.match(/^\d+$/))return parseFloat(e)}return e}function Z(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}function et(e,t){e.style.WebkitTransform=t,e.style.MozTransform=t,e.style.msTransform=t,e.style.transform=t}function tt(e){typeof e.layout=="string"&&(w.layout=e.layout),typeof e.overview=="string"&&(w.overview=e.overview),w.layout?et(E.slides,w.layout+" "+w.overview):et(E.slides,w.overview)}function nt(e){var t=document.createElement("style");t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(t)}function rt(e){var t=e.match(/^#([0-9a-f]{3})$/i);if(t&&t[1])return t=t[1],{r:parseInt(t.charAt(0),16)*17,g:parseInt(t.charAt(1),16)*17,b:parseInt(t.charAt(2),16)*17};var n=e.match(/^#([0-9a-f]{6})$/i);if(n&&n[1])return n=n[1],{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16)};var r=e.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i);if(r)return{r:parseInt(r[1],10),g:parseInt(r[2],10),b:parseInt(r[3],10)};var i=e.match(/^rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\,\s*([\d]+|[\d]*.[\d]+)\s*\)$/i);return i?{r:parseInt(i[1],10),g:parseInt(i[2],10),b:parseInt(i[3],10),a:parseFloat(i[4])}:null}function it(e){return typeof e=="string"&&(e=rt(e)),e?(e.r*299+e.g*587+e.b*114)/1e3:null}function st(e){var t=0;if(e){var n=0;G(e.childNodes).forEach(function(e){typeof e.offsetTop=="number"&&e.style&&(window.getComputedStyle(e).position==="absolute"&&(n+=1),t=Math.max(t,e.offsetTop+e.offsetHeight))}),n===0&&(t=e.offsetHeight)}return t}function ot(e,t){t=t||0;if(e){var n,r=e.style.height;return e.style.height="0px",n=t-e.parentNode.offsetHeight,e.style.height=r+"px",n}return t}function ut(){return/print-pdf/gi.test(window.location.search)}function at(){a.hideAddressBar&&x&&(window.addEventListener("load",ft,!1),window.addEventListener("orientationchange",ft,!1))}function ft(){setTimeout(function(){window.scrollTo(0,1)},10)}function lt(e,t){var n=document.createEvent("HTMLEvents",1,2);n.initEvent(e,!0,!0),Q(n,t),E.wrapper.dispatchEvent(n),a.postMessageEvents&&window.parent!==window.self&&window.parent.postMessage(JSON.stringify({namespace:"reveal",eventName:e,state:gn()}),"*")}function ct(){if(S.transforms3d&&!("msPerspective"in document.body.style)){var e=E.wrapper.querySelectorAll(n+" a");for(var t=0,r=e.length;t<r;t++){var i=e[t];if(i.textContent&&!i.querySelector("*")&&(!i.className||!i.classList.contains(i,"roll"))){var s=document.createElement("span");s.setAttribute("data-title",i.text),s.innerHTML=i.innerHTML,i.classList.add("roll"),i.innerHTML="",i.appendChild(s)}}}}function ht(){var e=E.wrapper.querySelectorAll(n+" a.roll");for(var t=0,r=e.length;t<r;t++){var i=e[t],s=i.querySelector("span");s&&(i.classList.remove("roll"),i.innerHTML=s.innerHTML)}}function pt(e){var t=G(document.querySelectorAll(e?e:"a"));t.forEach(function(e){/^(http|www)/gi.test(e.getAttribute("href"))&&e.addEventListener("click",tr,!1)})}function dt(){var e=G(document.querySelectorAll("a"));e.forEach(function(e){/^(http|www)/gi.test(e.getAttribute("href"))&&e.removeEventListener("click",tr,!1)})}function vt(e){gt(),E.overlay=document.createElement("div"),E.overlay.classList.add("overlay"),E.overlay.classList.add("overlay-preview"),E.wrapper.appendChild(E.overlay),E.overlay.innerHTML=["<header>",'<a class="close" href="#"><span class="icon"></span></a>','<a class="external" href="'+e+'" target="_blank" rel="noopener noreferrer"><span class="icon"></span></a>',"</header>",'<div class="spinner"></div>','<div class="viewport">','<iframe src="'+e+'"></iframe>',"</div>"].join(""),E.overlay.querySelector("iframe").addEventListener("load",function(e){E.overlay.classList.add("loaded")},!1),E.overlay.querySelector(".close").addEventListener("click",function(e){gt(),e.preventDefault()},!1),E.overlay.querySelector(".external").addEventListener("click",function(e){gt()},!1),setTimeout(function(){E.overlay.classList.add("visible")},1)}function mt(){if(a.help){gt(),E.overlay=document.createElement("div"),E.overlay.classList.add("overlay"),E.overlay.classList.add("overlay-help"),E.wrapper.appendChild(E.overlay);var e='<p class="title">快捷键</p><br/>';e+="<table><th>按键</th><th>行为</th>";for(var t in P)e+="<tr><td>"+t+"</td><td>"+P[t]+"</td></tr>";e+="</table>",E.overlay.innerHTML=["<header>",'<a class="close" href="#"><span class="icon"></span></a>',"</header>",'<div class="viewport">','<div class="viewport-inner">'+e+"</div>","</div>"].join(""),E.overlay.querySelector(".close").addEventListener("click",function(e){gt(),e.preventDefault()},!1),setTimeout(function(){E.overlay.classList.add("visible")},1)}}function gt(){E.overlay&&(E.overlay.parentNode.removeChild(E.overlay),E.overlay=null)}function yt(){if(E.wrapper&&!ut()){var e=wt(),t=20;bt(a.width,a.height,t),E.slides.style.width=e.width+"px",E.slides.style.height=e.height+"px",b=Math.min(e.presentationWidth/e.width,e.presentationHeight/e.height),b=Math.max(b,a.minScale),b=Math.min(b,a.maxScale),b===1?(E.slides.style.zoom="",E.slides.style.left="",E.slides.style.top="",E.slides.style.bottom="",E.slides.style.right="",tt({layout:""})):b>1&&S.zoom?(E.slides.style.zoom=b,E.slides.style.left="",E.slides.style.top="",E.slides.style.bottom="",E.slides.style.right="",tt({layout:""})):(E.slides.style.zoom="",E.slides.style.left="50%",E.slides.style.top="50%",E.slides.style.bottom="auto",E.slides.style.right="auto",tt({layout:"translate(-50%, -50%) scale("+b+")"}));var r=G(E.wrapper.querySelectorAll(n));for(var i=0,s=r.length;i<s;i++){var o=r[i];if(o.style.display==="none")continue;a.center||o.classList.contains("center")?o.classList.contains("stack")?o.style.top=0:o.style.top=Math.max((e.height-st(o))/2-t,0)+"px":o.style.top=""}Xt(),Qt()}}function bt(e,t,n){G(E.slides.querySelectorAll("section > .stretch")).forEach(function(n){var r=ot(n,t);if(/(img|video)/gi.test(n.nodeName)){var i=n.naturalWidth||n.videoWidth,s=n.naturalHeight||n.videoHeight,o=Math.min(e/i,r/s);n.style.width=i*o+"px",n.style.height=s*o+"px"}else n.style.width=e+"px",n.style.height=r+"px"})}function wt(e,t){var n={width:a.width,height:a.height,presentationWidth:e||E.wrapper.offsetWidth,presentationHeight:t||E.wrapper.offsetHeight};return n.presentationWidth-=n.presentationWidth*a.margin,n.presentationHeight-=n.presentationHeight*a.margin,typeof n.width=="string"&&/%$/.test(n.width)&&(n.width=parseInt(n.width,10)/100*n.presentationWidth),typeof n.height=="string"&&/%$/.test(n.height)&&(n.height=parseInt(n.height,10)/100*n.presentationHeight),n}function Et(e,t){i(e)==="object"&&typeof e.setAttribute=="function"&&e.setAttribute("data-previous-indexv",t||0)}function St(e){if(i(e)==="object"&&typeof e.setAttribute=="function"&&e.classList.contains("stack")){var t=e.hasAttribute("data-start-indexv")?"data-start-indexv":"data-previous-indexv";return parseInt(e.getAttribute(t)||0,10)}return 0}function xt(){if(a.overview&&!Lt()){l=!0,E.wrapper.classList.add("overview"),E.wrapper.classList.remove("overview-deactivating"),S.overviewTransitions&&setTimeout(function(){E.wrapper.classList.add("overview-animated")},1),Tn(),E.slides.appendChild(E.background),G(E.wrapper.querySelectorAll(n)).forEach(function(e){e.classList.contains("stack")||e.addEventListener("click",er,!0)});var e=70,t=wt();c=t.width+e,h=t.height+e,a.rtl&&(c=-c),zt(),Tt(),Nt(),yt(),lt("overviewshown",{indexh:p,indexv:d,currentSlide:m})}}function Tt(){G(E.wrapper.querySelectorAll(r)).forEach(function(e,t){e.setAttribute("data-index-h",t),et(e,"translate3d("+t*c+"px, 0, 0)"),e.classList.contains("stack")&&G(e.querySelectorAll("section")).forEach(function(e,n){e.setAttribute("data-index-h",t),e.setAttribute("data-index-v",n),et(e,"translate3d(0, "+n*h+"px, 0)")})}),G(E.background.childNodes).forEach(function(e,t){et(e,"translate3d("+t*c+"px, 0, 0)"),G(e.querySelectorAll(".slide-background")).forEach(function(e,t){et(e,"translate3d(0, "+t*h+"px, 0)")})})}function Nt(){tt({overview:["translateX("+ -p*c+"px)","translateY("+ -d*h+"px)","translateZ("+(window.innerWidth<400?-1e3:-2500)+"px)"].join(" ")})}function Ct(){a.overview&&(l=!1,E.wrapper.classList.remove("overview"),E.wrapper.classList.remove("overview-animated"),E.wrapper.classList.add("overview-deactivating"),setTimeout(function(){E.wrapper.classList.remove("overview-deactivating")},1),E.wrapper.appendChild(E.background),G(E.wrapper.querySelectorAll(n)).forEach(function(e){et(e,""),e.removeEventListener("click",er,!0)}),G(E.background.querySelectorAll(".slide-background")).forEach(function(e){et(e,"")}),tt({overview:""}),jt(p,d),yt(),xn(),lt("overviewhidden",{indexh:p,indexv:d,currentSlide:m}))}function kt(e){typeof e=="boolean"?e?xt():Ct():Lt()?Ct():xt()}function Lt(){return l}function At(e){return e=e?e:m,e&&e.parentNode&&!!e.parentNode.nodeName.match(/section/i)}function Ot(){var e=document.documentElement,t=e.requestFullscreen||e.webkitRequestFullscreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen;t&&t.apply(e)}function Mt(){if(a.pause){var e=E.wrapper.classList.contains("paused");Tn(),E.wrapper.classList.add("paused"),e===!1&&lt("paused")}}function _t(){var e=E.wrapper.classList.contains("paused");E.wrapper.classList.remove("paused"),xn(),e&&lt("resumed")}function Dt(e){typeof e=="boolean"?e?Mt():_t():Pt()?_t():Mt()}function Pt(){return E.wrapper.classList.contains("paused")}function Ht(e){typeof e=="boolean"?e?Cn():Nn():_?Cn():Nn()}function Bt(){return!!L&&!_}function jt(e,t,n,i){v=m;var u=E.wrapper.querySelectorAll(r);t===undefined&&!Lt()&&(t=St(u[e])),v&&v.parentNode&&v.parentNode.classList.contains("stack")&&Et(v.parentNode,d);var a=y.concat();y.length=0;var f=p||0,l=d||0;p=Ut(r,e===undefined?p:e),d=Ut(s,t===undefined?d:t),zt(),yt();e:for(var c=0,h=y.length;c<h;c++){for(var g=0;g<a.length;g++)if(a[g]===y[c]){a.splice(g,1);continue e}document.documentElement.classList.add(y[c]),lt(y[c])}while(a.length)document.documentElement.classList.remove(a.pop());Lt()&&Nt();var b=u[p],w=b.querySelectorAll("section");m=w[d]||b,typeof n!="undefined"&&wn(n);var S=p!==f||d!==l;S?lt("slidechanged",{indexh:p,indexv:d,previousSlide:v,currentSlide:m,origin:i}):v=null,v&&(v.classList.remove("present"),v.setAttribute("aria-hidden","true"),E.wrapper.querySelector(o).classList.contains("present")&&setTimeout(function(){var e=G(E.wrapper.querySelectorAll(r+".stack")),t;for(t in e)e[t]&&Et(e[t],0)},0));if(S||!v)sn(v),nn(m);E.statusDiv.textContent=m.textContent,Jt(),Xt(),Kt(),Qt(),Vt(),Wt(),cn(),xn()}function Ft(){K(),J(),yt(),L=a.autoSlide,xn(),W(),cn(),qt(),Jt(),Xt(),Kt(!0),Vt(),zt(),Wt(),tn(),nn(m),Lt()&&Tt()}function It(){var e=G(E.wrapper.querySelectorAll(r));e.forEach(function(e){var t=G(e.querySelectorAll("section"));t.forEach(function(e,t){t>0&&(e.classList.remove("present"),e.classList.remove("past"),e.classList.add("future"),e.setAttribute("aria-hidden","true"))})})}function qt(){var e=G(E.wrapper.querySelectorAll(r));e.forEach(function(e){var t=G(e.querySelectorAll("section"));t.forEach(function(e,t){bn(e.querySelectorAll(".fragment"))}),t.length===0&&bn(e.querySelectorAll(".fragment"))})}function Rt(){var e=G(E.wrapper.querySelectorAll(r));e.forEach(function(t){E.slides.insertBefore(t,e[Math.floor(Math.random()*e.length)])})}function Ut(e,t){var n=G(E.wrapper.querySelectorAll(e)),r=n.length,i=ut();if(r){a.loop&&(t%=r,t<0&&(t=r+t)),t=Math.max(Math.min(t,r-1),0);for(var s=0;s<r;s++){var o=n[s],u=a.rtl&&!At(o);o.classList.remove("past"),o.classList.remove("present"),o.classList.remove("future"),o.setAttribute("hidden",""),o.setAttribute("aria-hidden","true"),o.querySelector("section")&&o.classList.add("stack");if(i){o.classList.add("present");continue}if(s<t){o.classList.add(u?"future":"past");if(a.fragments){var f=G(o.querySelectorAll(".fragment"));while(f.length){var l=f.pop();l.classList.add("visible"),l.classList.remove("current-fragment")}}}else if(s>t){o.classList.add(u?"past":"future");if(a.fragments){var c=G(o.querySelectorAll(".fragment.visible"));while(c.length){var h=c.pop();h.classList.remove("visible"),h.classList.remove("current-fragment")}}}}n[t].classList.add("present"),n[t].removeAttribute("hidden"),n[t].removeAttribute("aria-hidden");var p=n[t].getAttribute("data-state");p&&(y=y.concat(p.split(" ")))}else t=0;return t}function zt(){var e=G(E.wrapper.querySelectorAll(r)),t=e.length,n,i;if(t&&typeof p!="undefined"){var s=Lt()?10:a.viewDistance;x&&(s=Lt()?6:2),ut()&&(s=Number.MAX_VALUE);for(var o=0;o<t;o++){var u=e[o],f=G(u.querySelectorAll("section")),l=f.length;n=Math.abs((p||0)-o)||0,a.loop&&(n=Math.abs(((p||0)-o)%(t-s))||0),n<s?Gt(u):Yt(u);if(l){var c=St(u);for(var h=0;h<l;h++){var v=f[h];i=o===(p||0)?Math.abs((d||0)-h):Math.abs(h-c),n+i<s?Gt(v):Yt(v)}}}}}function Wt(){a.showNotes&&E.speakerNotes&&m&&!ut()&&(E.speakerNotes.innerHTML=mn()||"")}function Xt(){a.progress&&E.progressbar&&(E.progressbar.style.width=un()*E.wrapper.offsetWidth+"px")}function Vt(){if(a.slideNumber&&E.slideNumber){var e=[],t="h.v";typeof a.slideNumber=="string"&&(t=a.slideNumber);switch(t){case"c":e.push(on()+1);break;case"c/t":e.push(on()+1,"/",pn());break;case"h/v":e.push(p+1),At()&&e.push("/",d+1);break;default:e.push(p+1),At()&&e.push(".",d+1)}E.slideNumber.innerHTML=$t(e[0],e[1],e[2])}}function $t(e,t,n){return typeof n=="number"&&!isNaN(n)?'<span class="slide-number-a">'+e+"</span>"+'<span class="slide-number-delimiter">'+t+"</span>"+'<span class="slide-number-b">'+n+"</span>":'<span class="slide-number-a">'+e+"</span>"}function Jt(){var e=Zt(),t=en();E.controlsLeft.concat(E.controlsRight).concat(E.controlsUp).concat(E.controlsDown).concat(E.controlsPrev).concat(E.controlsNext).forEach(function(e){e.classList.remove("enabled"),e.classList.remove("fragmented")}),e.left&&E.controlsLeft.forEach(function(e){e.classList.add("enabled")}),e.right&&E.controlsRight.forEach(function(e){e.classList.add("enabled")}),e.up&&E.controlsUp.forEach(function(e){e.classList.add("enabled")}),e.down&&E.controlsDown.forEach(function(e){e.classList.add("enabled")}),(e.left||e.up)&&E.controlsPrev.forEach(function(e){e.classList.add("enabled")}),(e.right||e.down)&&E.controlsNext.forEach(function(e){e.classList.add("enabled")}),m&&(t.prev&&E.controlsPrev.forEach(function(e){e.classList.add("fragmented","enabled")}),t.next&&E.controlsNext.forEach(function(e){e.classList.add("fragmented","enabled")}),At(m)?(t.prev&&E.controlsUp.forEach(function(e){e.classList.add("fragmented","enabled")}),t.next&&E.controlsDown.forEach(function(e){e.classList.add("fragmented","enabled")})):(t.prev&&E.controlsLeft.forEach(function(e){e.classList.add("fragmented","enabled")}),t.next&&E.controlsRight.forEach(function(e){e.classList.add("fragmented","enabled")})))}function Kt(e){var t=null,n=a.rtl?"future":"past",r=a.rtl?"past":"future";G(E.background.childNodes).forEach(function(i,s){i.classList.remove("past"),i.classList.remove("present"),i.classList.remove("future"),s<p?i.classList.add(n):s>p?i.classList.add(r):(i.classList.add("present"),t=i),(e||s===p)&&G(i.querySelectorAll(".slide-background")).forEach(function(e,n){e.classList.remove("past"),e.classList.remove("present"),e.classList.remove("future"),n<d?e.classList.add("past"):n>d?e.classList.add("future"):(e.classList.add("present"),s===p&&(t=e))})});if(g){var i=g.querySelector("video");i&&i.pause()}if(t){var s=t.querySelector("video");if(s){var o=function c(){s.currentTime=0,s.play(),s.removeEventListener("loadeddata",c)};s.readyState>1?o():s.addEventListener("loadeddata",o)}var u=t.style.backgroundImage||"";/\.gif/i.test(u)&&(t.style.backgroundImage="",window.getComputedStyle(t).opacity,t.style.backgroundImage=u);var f=g?g.getAttribute("data-background-hash"):null,l=t.getAttribute("data-background-hash");l&&l===f&&t!==g&&E.background.classList.add("no-transition"),g=t}m&&["has-light-background","has-dark-background"].forEach(function(e){m.classList.contains(e)?E.wrapper.classList.add(e):E.wrapper.classList.remove(e)}),setTimeout(function(){E.background.classList.remove("no-transition")},1)}function Qt(){if(a.parallaxBackgroundImage){var e=E.wrapper.querySelectorAll(r),t=E.wrapper.querySelectorAll(s),n=E.background.style.backgroundSize.split(" "),i,o;n.length===1?i=o=parseInt(n[0],10):(i=parseInt(n[0],10),o=parseInt(n[1],10));var u=E.background.offsetWidth,f=e.length,l,c;typeof a.parallaxBackgroundHorizontal=="number"?l=a.parallaxBackgroundHorizontal:l=f>1?(i-u)/(f-1):0,c=l*p*-1;var h=E.background.offsetHeight,v=t.length,m,g;typeof a.parallaxBackgroundVertical=="number"?m=a.parallaxBackgroundVertical:m=(o-h)/(v-1),g=v>0?m*d*1:0,E.background.style.backgroundPosition=c+"px "+ -g+"px"}}function Gt(e){e.style.display="block",G(e.querySelectorAll("img[data-src], video[data-src], audio[data-src]")).forEach(function(e){e.setAttribute("src",e.getAttribute("data-src")),e.removeAttribute("data-src")}),G(e.querySelectorAll("video, audio")).forEach(function(e){var t=0;G(e.querySelectorAll("source[data-src]")).forEach(function(e){e.setAttribute("src",e.getAttribute("data-src")),e.removeAttribute("data-src"),t+=1}),t>0&&e.load()});var t=hn(e),n=vn(t.h,t.v);if(n){n.style.display="block";if(n.hasAttribute("data-loaded")===!1){n.setAttribute("data-loaded","true");var r=e.getAttribute("data-background-image"),i=e.getAttribute("data-background-video"),s=e.hasAttribute("data-background-video-loop"),o=e.hasAttribute("data-background-video-muted"),u=e.getAttribute("data-background-iframe");if(r)n.style.backgroundImage="url("+r+")";else if(i&&!an()){var a=document.createElement("video");s&&a.setAttribute("loop",""),o&&(a.muted=!0),i.split(",").forEach(function(e){a.innerHTML+='<source src="'+e+'">'}),n.appendChild(a)}else if(u){var f=document.createElement("iframe");f.setAttribute("src",u),f.style.width="100%",f.style.height="100%",f.style.maxHeight="100%",f.style.maxWidth="100%",n.appendChild(f)}}}}function Yt(e){e.style.display="none";var t=hn(e),n=vn(t.h,t.v);n&&(n.style.display="none")}function Zt(){var e=E.wrapper.querySelectorAll(r),t=E.wrapper.querySelectorAll(s),n={left:p>0||a.loop,right:p<e.length-1||a.loop,up:d>0,down:d<t.length-1};if(a.rtl){var i=n.left;n.left=n.right,n.right=i}return n}function en(){if(m&&a.fragments){var e=m.querySelectorAll(".fragment"),t=m.querySelectorAll(".fragment:not(.visible)");return{prev:e.length-t.length>0,next:!!t.length}}return{prev:!1,next:!1}}function tn(){var e=function(t,n,r){G(E.slides.querySelectorAll("iframe["+t+'*="'+n+'"]')).forEach(function(e){var n=e.getAttribute(t);n&&n.indexOf(r)===-1&&e.setAttribute(t,n+(/\?/.test(n)?"&":"?")+r)})};e("src","youtube.com/embed/","enablejsapi=1"),e("data-src","youtube.com/embed/","enablejsapi=1"),e("src","player.vimeo.com/","api=1"),e("data-src","player.vimeo.com/","api=1")}function nn(e){e&&!an()&&(G(e.querySelectorAll('img[src$=".gif"]')).forEach(function(e){e.setAttribute("src",e.getAttribute("src"))}),G(e.querySelectorAll("video, audio")).forEach(function(e){e.hasAttribute("data-autoplay")&&typeof e.play=="function"&&e.play()}),G(e.querySelectorAll("iframe[src]")).forEach(function(e){rn({target:e})}),G(e.querySelectorAll("iframe[data-src]")).forEach(function(e){e.getAttribute("src")!==e.getAttribute("data-src")&&(e.removeEventListener("load",rn),e.addEventListener("load",rn),e.setAttribute("src",e.getAttribute("data-src")))}))}function rn(e){var t=e.target;/youtube\.com\/embed\//.test(t.getAttribute("src"))&&t.hasAttribute("data-autoplay")?t.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*"):/player\.vimeo\.com\//.test(t.getAttribute("src"))&&t.hasAttribute("data-autoplay")?t.contentWindow.postMessage('{"method":"play"}',"*"):t.contentWindow.postMessage("slide:start","*")}function sn(e){e&&e.parentNode&&(G(e.querySelectorAll("video, audio")).forEach(function(e){!e.hasAttribute("data-ignore")&&typeof e.pause=="function"&&e.pause()}),G(e.querySelectorAll("iframe")).forEach(function(e){e.contentWindow.postMessage("slide:stop","*"),e.removeEventListener("load",rn)}),G(e.querySelectorAll('iframe[src*="youtube.com/embed/"]')).forEach(function(e){!e.hasAttribute("data-ignore")&&typeof e.contentWindow.postMessage=="function"&&e.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}),G(e.querySelectorAll('iframe[src*="player.vimeo.com/"]')).forEach(function(e){!e.hasAttribute("data-ignore")&&typeof e.contentWindow.postMessage=="function"&&e.contentWindow.postMessage('{"method":"pause"}',"*")}),G(e.querySelectorAll("iframe[data-src]")).forEach(function(e){e.setAttribute("src","about:blank"),e.removeAttribute("src")}))}function on(){var e=G(E.wrapper.querySelectorAll(r)),t=0;e:for(var n=0;n<e.length;n++){var i=e[n],s=G(i.querySelectorAll("section"));for(var o=0;o<s.length;o++){if(s[o].classList.contains("present"))break e;t++}if(i.classList.contains("present"))break;i.classList.contains("stack")===!1&&t++}return t}function un(){var e=pn(),t=on();if(m){var n=m.querySelectorAll(".fragment");if(n.length>0){var r=m.querySelectorAll(".fragment.visible"),i=.9;t+=r.length/n.length*i}}return t/(e-1)}function an(){return!!window.location.search.match(/receiver/gi)}function fn(){var t=window.location.hash,n=t.slice(2).split("/"),r=t.replace(/#|\//gi,"");if(isNaN(parseInt(n[0],10))&&r.length){var i;/^[a-zA-Z][\w:.-]*$/.test(r)&&(i=document.getElementById(r));if(i){var s=e.getIndices(i);jt(s.h,s.v)}else jt(p||0,d||0)}else{var o=parseInt(n[0],10)||0,u=parseInt(n[1],10)||0;(o!==p||u!==d)&&jt(o,u)}}function cn(e){if(a.history){clearTimeout(C);if(typeof e=="number")C=setTimeout(cn,e);else if(m){var t="/",n=m.getAttribute("id");n&&(n=n.replace(/[^a-zA-Z0-9\-\_\:\.]/g,""));if(typeof n=="string"&&n.length)t="/"+n;else{if(p>0||d>0)t+=p;d>0&&(t+="/"+d)}if(!ln||t!=="/")window.location.hash=t;ln=!1}}}function hn(e){var t=p,n=d,i;if(e){var s=At(e),o=s?e.parentNode:e,u=G(E.wrapper.querySelectorAll(r));t=Math.max(u.indexOf(o),0),n=undefined,s&&(n=Math.max(G(e.parentNode.querySelectorAll("section")).indexOf(e),0))}if(!e&&m){var a=m.querySelectorAll(".fragment").length>0;if(a){var f=m.querySelector(".current-fragment");f&&f.hasAttribute("data-fragment-index")?i=parseInt(f.getAttribute("data-fragment-index"),10):i=m.querySelectorAll(".fragment.visible").length-1}}return{h:t,v:n,f:i}}function pn(){return E.wrapper.querySelectorAll(n+":not(.stack)").length}function dn(e,t){var n=E.wrapper.querySelectorAll(r)[e],i=n&&n.querySelectorAll("section");return i&&i.length&&typeof t=="number"?i?i[t]:undefined:n}function vn(e,t){if(ut()){var n=dn(e,t);if(n){var r=n.querySelector(".slide-background");if(r&&r.parentNode===n)return r}return undefined}var i=E.wrapper.querySelectorAll(".backgrounds>.slide-background")[e],s=i&&i.querySelectorAll(".slide-background");return s&&s.length&&typeof t=="number"?s?s[t]:undefined:i}function mn(e){e=e||m;if(e.hasAttribute("data-notes"))return e.getAttribute("data-notes");var t=e.querySelector("aside.notes");return t?t.innerHTML:null}function gn(){var e=hn();return{indexh:e.h,indexv:e.v,indexf:e.f,paused:Pt(),overview:Lt()}}function yn(e){if(i(e)==="object"){jt(Y(e.indexh),Y(e.indexv),Y(e.indexf));var t=Y(e.paused),n=Y(e.overview);typeof t=="boolean"&&t!==Pt()&&Dt(t),typeof n=="boolean"&&n!==Lt()&&kt(n)}}function bn(e){e=G(e);var t=[],n=[],r=[];e.forEach(function(e,r){if(e.hasAttribute("data-fragment-index")){var i=parseInt(e.getAttribute("data-fragment-index"),10);t[i]||(t[i]=[]),t[i].push(e)}else n.push([e])}),t=t.concat(n);var i=0;return t.forEach(function(e){e.forEach(function(e){r.push(e),e.setAttribute("data-fragment-index",i)}),i++}),r}function wn(e,t){if(m&&a.fragments){var n=bn(m.querySelectorAll(".fragment"));if(n.length){if(typeof e!="number"){var r=bn(m.querySelectorAll(".fragment.visible")).pop();r?e=parseInt(r.getAttribute("data-fragment-index")||0,10):e=-1}typeof t=="number"&&(e+=t);var i=[],s=[];return G(n).forEach(function(t,n){t.hasAttribute("data-fragment-index")&&(n=parseInt(t.getAttribute("data-fragment-index"),10)),n<=e?(t.classList.contains("visible")||i.push(t),t.classList.add("visible"),t.classList.remove("current-fragment"),E.statusDiv.textContent=t.textContent,n===e&&t.classList.add("current-fragment")):(t.classList.contains("visible")&&s.push(t),t.classList.remove("visible"),t.classList.remove("current-fragment"))}),s.length&&lt("fragmenthidden",{fragment:s[0],fragments:s}),i.length&&lt("fragmentshown",{fragment:i[0],fragments:i}),Jt(),Xt(),!!i.length||!!s.length}}return!1}function En(){return wn(null,1)}function Sn(){return wn(null,-1)}function xn(){Tn();if(m){var t=m.querySelector(".current-fragment"),n=t?t.getAttribute("data-autoslide"):null,r=m.parentNode?m.parentNode.getAttribute("data-autoslide"):null,i=m.getAttribute("data-autoslide");n?L=parseInt(n,10):i?L=parseInt(i,10):r?L=parseInt(r,10):L=a.autoSlide,m.querySelectorAll(".fragment").length===0&&G(m.querySelectorAll("video, audio")).forEach(function(e){e.hasAttribute("data-autoplay")&&L&&e.duration*1e3>L&&(L=e.duration*1e3+1e3)}),L&&!_&&!Pt()&&!Lt()&&(!e.isLastSlide()||en().next||a.loop===!0)&&(O=setTimeout(function(){typeof a.autoSlideMethod=="function"?a.autoSlideMethod():_n(),xn()},L),M=Date.now()),A&&A.setPlaying(O!==-1)}}function Tn(){clearTimeout(O),O=-1}function Nn(){L&&!_&&(_=!0,lt("autoslidepaused"),clearTimeout(O),A&&A.setPlaying(!1))}function Cn(){L&&_&&(_=!1,lt("autoslideresumed"),xn())}function kn(){a.rtl?(Lt()||En()===!1)&&Zt().left&&jt(p+1):(Lt()||Sn()===!1)&&Zt().left&&jt(p-1)}function Ln(){a.rtl?(Lt()||Sn()===!1)&&Zt().right&&jt(p-1):(Lt()||En()===!1)&&Zt().right&&jt(p+1)}function An(){(Lt()||Sn()===!1)&&Zt().up&&jt(p,d-1)}function On(){(Lt()||En()===!1)&&Zt().down&&jt(p,d+1)}function Mn(){if(Sn()===!1)if(Zt().up)An();else{var e;a.rtl?e=G(E.wrapper.querySelectorAll(r+".future")).pop():e=G(E.wrapper.querySelectorAll(r+".past")).pop();if(e){var t=e.querySelectorAll("section").length-1||undefined,n=p-1;jt(n,t)}}}function _n(){En()===!1&&(Zt().down?On():a.rtl?kn():Ln())}function Dn(e){while(e&&typeof e.hasAttribute=="function"){if(e.hasAttribute("data-prevent-swipe"))return!0;e=e.parentNode}return!1}function Pn(e){a.autoSlideStoppable&&Nn()}function Hn(e){e.shiftKey&&e.charCode===63&&(E.overlay?gt():mt(!0))}function Bn(t){if(typeof a.keyboardCondition=="function"&&a.keyboardCondition()===!1)return!0;var n=_;Pn(t);var r=document.activeElement&&document.activeElement.contentEditable!=="inherit",s=document.activeElement&&document.activeElement.tagName&&/input|textarea/i.test(document.activeElement.tagName);if(r||s||t.shiftKey&&t.keyCode!==32||t.altKey||t.ctrlKey||t.metaKey)return;var o=[66,190,191],u;if(i(a.keyboard)==="object")for(u in a.keyboard)a.keyboard[u]==="togglePause"&&o.push(parseInt(u,10));if(Pt()&&o.indexOf(t.keyCode)===-1)return!1;var f=!1;if(i(a.keyboard)==="object")for(u in a.keyboard)if(parseInt(u,10)===t.keyCode){var l=a.keyboard[u];typeof l=="function"?l.apply(null,[t]):typeof l=="string"&&typeof e[l]=="function"&&e[l].call(),f=!0}if(f===!1){f=!0;switch(t.keyCode){case 80:case 33:Mn();break;case 78:case 34:_n();break;case 72:case 37:kn();break;case 76:case 39:Ln();break;case 75:case 38:An();break;case 74:case 40:On();break;case 36:jt(0);break;case 35:jt(Number.MAX_VALUE);break;case 32:Lt()?Ct():t.shiftKey?Mn():_n();break;case 13:Lt()?Ct():f=!1;break;case 58:case 59:case 66:case 190:case 191:Dt();break;case 70:Ot();break;case 65:a.autoSlideStoppable&&Ht(n);break;default:f=!1}}f?t.preventDefault&&t.preventDefault():(t.keyCode===27||t.keyCode===79)&&S.transforms3d&&(E.overlay?gt():kt(),t.preventDefault&&t.preventDefault()),xn()}function jn(e){if(Dn(e.target))return!0;D.startX=e.touches[0].clientX,D.startY=e.touches[0].clientY,D.startCount=e.touches.length,e.touches.length===2&&a.overview&&(D.startSpan=Z({x:e.touches[1].clientX,y:e.touches[1].clientY},{x:D.startX,y:D.startY}))}function Fn(e){if(Dn(e.target))return!0;if(!D.captured){Pn(e);var t=e.touches[0].clientX,n=e.touches[0].clientY;if(e.touches.length===2&&D.startCount===2&&a.overview){var r=Z({x:e.touches[1].clientX,y:e.touches[1].clientY},{x:D.startX,y:D.startY});Math.abs(D.startSpan-r)>D.threshold&&(D.captured=!0,r<D.startSpan?xt():Ct()),e.preventDefault()}else if(e.touches.length===1&&D.startCount!==2){var i=t-D.startX,s=n-D.startY;i>D.threshold&&Math.abs(i)>Math.abs(s)?(D.captured=!0,kn()):i<-D.threshold&&Math.abs(i)>Math.abs(s)?(D.captured=!0,Ln()):s>D.threshold?(D.captured=!0,An()):s<-D.threshold&&(D.captured=!0,On()),a.embedded?(D.captured||At(m))&&e.preventDefault():e.preventDefault()}}else u.match(/android/gi)&&e.preventDefault()}function In(e){D.captured=!1}function qn(e){if(e.pointerType===e.MSPOINTER_TYPE_TOUCH||e.pointerType==="touch")e.touches=[{clientX:e.clientX,clientY:e.clientY}],jn(e)}function Rn(e){if(e.pointerType===e.MSPOINTER_TYPE_TOUCH||e.pointerType==="touch")e.touches=[{clientX:e.clientX,clientY:e.clientY}],Fn(e)}function Un(e){if(e.pointerType===e.MSPOINTER_TYPE_TOUCH||e.pointerType==="touch")e.touches=[{clientX:e.clientX,clientY:e.clientY}],In(e)}function zn(e){if(Date.now()-N>600){N=Date.now();var t=e.detail||-e.wheelDelta;t>0?_n():Mn()}}function Wn(e){Pn(e),e.preventDefault();var t=G(E.wrapper.querySelectorAll(r)).length,n=Math.floor(e.clientX/E.wrapper.offsetWidth*t);a.rtl&&(n=t-n),jt(n)}function Xn(e){e.preventDefault(),Pn(),kn()}function Vn(e){e.preventDefault(),Pn(),Ln()}function $n(e){e.preventDefault(),Pn(),An()}function Jn(e){e.preventDefault(),Pn(),On()}function Kn(e){e.preventDefault(),Pn(),Mn()}function Qn(e){e.preventDefault(),Pn(),_n()}function Gn(e){fn()}function Yn(e){yt()}function Zn(e){var t=document.webkitHidden||document.msHidden||document.hidden;t===!1&&document.activeElement!==document.body&&(typeof document.activeElement.blur=="function"&&document.activeElement.blur(),document.body.focus())}function er(e){if(k&&Lt()){e.preventDefault();var t=e.target;while(t&&!t.nodeName.match(/section/gi))t=t.parentNode;if(t&&!t.classList.contains("disabled")){Ct();if(t.nodeName.match(/section/gi)){var n=parseInt(t.getAttribute("data-index-h"),10),r=parseInt(t.getAttribute("data-index-v"),10);jt(n,r)}}}}function tr(e){if(e.currentTarget&&e.currentTarget.hasAttribute("href")){var t=e.currentTarget.getAttribute("href");t&&(vt(t),e.preventDefault())}}function nr(t){e.isLastSlide()&&a.loop===!1?(jt(0,0),Cn()):_?Cn():Nn()}function rr(e,t){this.diameter=100,this.diameter2=this.diameter/2,this.thickness=6,this.playing=!1,this.progress=0,this.progressOffset=1,this.container=e,this.progressCheck=t,this.canvas=document.createElement("canvas"),this.canvas.className="playback",this.canvas.width=this.diameter,this.canvas.height=this.diameter,this.canvas.style.width=this.diameter2+"px",this.canvas.style.height=this.diameter2+"px",this.context=this.canvas.getContext("2d"),this.container.appendChild(this.canvas),this.render()}if(typeof window=="undefined"||Object.prototype.toString.call(window)==="[object Object]")return{};"use strict";var e,t="3.3.0",n=".slides section",r=".slides>section",s=".slides>section.present>section",o=".slides>section:first-of-type",u=navigator.userAgent,a={width:960,height:720,margin:0,minScale:.2,maxScale:1.5,controls:!0,progress:!0,slideNumber:!1,history:!1,keyboard:!0,keyboardCondition:null,overview:!0,center:!0,touch:!0,loop:!1,rtl:!1,shuffle:!1,fragments:!0,embedded:!1,help:!0,pause:!0,showNotes:!1,autoSlide:0,autoSlideStoppable:!0,autoSlideMethod:null,mouseWheel:!1,rollingLinks:!1,hideAddressBar:!0,previewLinks:!1,postMessage:!0,postMessageEvents:!1,focusBodyOnPageVisibilityChange:!0,transition:"slide",transitionSpeed:"default",backgroundTransition:"fade",parallaxBackgroundImage:"",parallaxBackgroundSize:"",parallaxBackgroundHorizontal:null,parallaxBackgroundVertical:null,viewDistance:3,dependencies:[]},f=!1,l=!1,c=null,h=null,p,d,v,m,g,y=[],b=1,w={layout:"",overview:""},E={},S={},x,T,N=0,C=0,k=!1,L=0,A,O=0,M=-1,_=!1,D={startX:0,startY:0,startSpan:0,startCount:0,captured:!1,threshold:40},P={"&#8594;, &#8595;, L, J, N, SPACE":"下一步","&#8592;, &#8593;, H, K, P":"上一步",Home:"首页",End:"末页","B  ,  .":"暂停",F:"全屏","ESC, O":"进入总览模式"},ln=!0;return rr.prototype.setPlaying=function(e){var t=this.playing;this.playing=e,!t&&this.playing?this.animate():this.render()},rr.prototype.animate=function(){var e=this.progress;this.progress=this.progressCheck(),e>.8&&this.progress<.2&&(this.progressOffset=this.progress),this.render(),this.playing&&S.requestAnimationFrameMethod.call(window,this.animate.bind(this))},rr.prototype.render=function(){var e=this.playing?this.progress:0,t=this.diameter2-this.thickness,n=this.diameter2,r=this.diameter2,i=28;this.progressOffset+=(1-this.progressOffset)*.1;var s=-Math.PI/2+e*Math.PI*2,o=-Math.PI/2+this.progressOffset*Math.PI*2;this.context.save(),this.context.clearRect(0,0,this.diameter,this.diameter),this.context.beginPath(),this.context.arc(n,r,t+4,0,Math.PI*2,!1),this.context.fillStyle="rgba( 0, 0, 0, 0.4 )",this.context.fill(),this.context.beginPath(),this.context.arc(n,r,t,0,Math.PI*2,!1),this.context.lineWidth=this.thickness,this.context.strokeStyle="#666",this.context.stroke(),this.playing&&(this.context.beginPath(),this.context.arc(n,r,t,o,s,!1),this.context.lineWidth=this.thickness,this.context.strokeStyle="#fff",this.context.stroke()),this.context.translate(n-i/2,r-i/2),this.playing?(this.context.fillStyle="#fff",this.context.fillRect(0,0,i/2-4,i),this.context.fillRect(i/2+4,0,i/2-4,i)):(this.context.beginPath(),this.context.translate(4,0),this.context.moveTo(0,0),this.context.lineTo(i-4,i/2),this.context.lineTo(0,i),this.context.fillStyle="#fff",this.context.fill()),this.context.restore()},rr.prototype.on=function(e,t){this.canvas.addEventListener(e,t,!1)},rr.prototype.off=function(e,t){this.canvas.removeEventListener(e,t,!1)},rr.prototype.destroy=function(){this.playing=!1,this.canvas.parentNode&&this.container.removeChild(this.canvas)},e={VERSION:t,initialize:H,configure:$,sync:Ft,slide:jt,left:kn,right:Ln,up:An,down:On,prev:Mn,next:_n,navigateFragment:wn,prevFragment:Sn,nextFragment:En,navigateTo:jt,navigateLeft:kn,navigateRight:Ln,navigateUp:An,navigateDown:On,navigatePrev:Mn,navigateNext:_n,layout:yt,shuffle:Rt,availableRoutes:Zt,availableFragments:en,toggleOverview:kt,togglePause:Dt,toggleAutoSlide:Ht,isOverview:Lt,isPaused:Pt,isAutoSliding:Bt,addEventListeners:J,removeEventListeners:K,getState:gn,setState:yn,getProgress:un,getIndices:hn,getTotalSlides:pn,getSlide:dn,getSlideBackground:vn,getSlideNotes:mn,getPreviousSlide:function(){return v},getCurrentSlide:function(){return m},getScale:function(){return b},getConfig:function(){return a},getQueryHash:function(){var t={};location.search.replace(/[A-Z0-9]+?=([\w\.%-]*)/gi,function(e){t[e.split("=").shift()]=e.split("=").pop()});for(var n in t){var r=t[n];t[n]=Y(unescape(r))}return t},isFirstSlide:function(){return p===0&&d===0},isLastSlide:function(){return m?m.nextElementSibling?!1:At(m)&&m.parentNode.nextElementSibling?!1:!0:!1},isReady:function(){return f},addEventListener:function(t,n,r){"addEventListener"in window&&(E.wrapper||document.querySelector(".reveal")).addEventListener(t,n,r)},removeEventListener:function(t,n,r){"addEventListener"in window&&(E.wrapper||document.querySelector(".reveal")).removeEventListener(t,n,r)},triggerKey:function(t){Bn({keyCode:t})},registerKeyboardShortcut:function(t,n){P[t]=n}},e})},369:function(module,__webpack_exports__,__webpack_require__){"use strict";var _util__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);Array.prototype.fill||(Array.prototype.fill=function(e){if(this==null)throw new TypeError("this is null or not defined");var t=Object(this),n=t.length>>>0,r=arguments[1],i=r>>0,s=i<0?Math.max(n+i,0):Math.min(i,n),o=arguments[2],u=o===undefined?n:o>>0,a=u<0?Math.max(n+u,0):Math.min(u,n);while(s<a)t[s]=e,s++;return t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(this==null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof t!="function")throw new TypeError("predicate must be a function");var n=Object(this),r=n.length>>>0,i=arguments[1];for(var s=0;s!==r;s++)if(t.call(i,this[s],s,n))return this[s];return undefined}}),Array.prototype.findIndex=Array.prototype.findIndex||function(evaluator,thisArg){if(!this)throw new TypeError("Array.prototype.some called on null or undefined");if(typeof evaluator!="function"){if(typeof evaluator!="string")throw new TypeError;if(!(evaluator=eval(evaluator)))throw new TypeError}var i;if(thisArg===undefined){for(i in this)if(evaluator(this[i],i,this))return i;return-1}for(i in this)if(evaluator.call(thisArg,this[i],i,this))return i;return-1},_util__WEBPACK_IMPORTED_MODULE_0__.q&&!HTMLElement.prototype.isSameNode&&(HTMLElement.prototype.isSameNode=function(e){return this===e})},372:function(e,t,n){"use strict";var r=n(167),i=n(399),s=n(394),o=n(400),u=n(369),a=n(401),f=n(370),l=n(371),c=n(402),h=n(1);if(h.q){var p=$(document.body),d=$(".Header"),v=d.find(".Header-logo--light"),m=d.find(".Header-logo--dark"),g=d.find(".Header-searchPage"),y=g.find(".Header-searchPageForm"),b=function(t){t==="light"?(v.removeClass("is-hidden"),m.addClass("is-hidden")):(v.addClass("is-hidden"),m.removeClass("is-hidden"))},w=function(){var t=$(window).scrollTop();t!==0?(d.addClass("Header--light"),b("dark")):(d.removeClass("Header--light"),b("light"))},E=function(t){t==="show"?(g.removeClass("is-hidden"),d.removeClass("Header--light"),b("light")):(g.addClass("is-hidden"),w())};p.on("click",".Header-search",function(e){E("show"),d.removeClass("showMenu")}).on("click",".Header-searchPageForm",function(e){e.stopPropagation()}).on("submit",".Header-searchPageForm",function(e){e.preventDefault();var t=y[0];t.submit(),t.reset()}).on("click",".Header-searchPageCancel",function(e){$(".Header-searchPageKw").val("")}).on("click",".Header-searchPage",function(e){E("hide"),y[0].reset()}).on("click",function(e){var t=$(e.target).closest(".Header-content").length>0,n=$(e.target).closest(".Header-fold").length>0;!t&&!n&&d.removeClass("showMenu")}).on("click",".Header-fold",function(e){E("hide"),d.toggleClass("showMenu")})}},374:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={PUBLIC:[0,3],SELF_VISIBLE:1,NEED_CODE:2,INTRANET:3}},376:function(e,t,n){"use strict";function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}var r=n(161),i=function(e,t){var n=document.createElement("div");return n.innerHTML=e.content,n.innerText},s=function(e,t){return e.code+t.occur},o=function(e,t){return e.src+t.occur},u={"plugin-text":i,"plugin-shape":s,"plugin-image":o},a=function(t){return!!u[t]},f=function(t,n,r){var i=t.styles;return{left:parseInt(i.left),top:parseInt(i.top),width:parseInt(i.width),height:parseInt(i.height)||parseInt(i._height)||"auto",rotateRad:t.rotate||0,colorRGB:i.color||"rgb(255, 255, 255)",index:n,type:t.type,signature:r,fontSize:i["font-size"]||"inherit"}},l=function(t,n){var r=u[t.type];return r?f(t,n.index,r(t,n)):{}};n.d(t,"c",function(){return m}),n.d(t,"d",function(){return g}),n.d(t,"a",function(){return y}),n.d(t,"b",function(){return b});var d=function(){function e(){c(this,e),this.counter={}}return p(e,[{key:"get",value:function(t){return t in this.counter?++this.counter[t]:(this.counter[t]=0,0)}}]),e}(),v=function(t,n){r["default"].dispatch("EDITPAGE",{pageIndex:t,data:{magicmove:n}}),r["default"].dispatch("EDITPAGE",{pageIndex:t+1,data:{magicmove_animated:n}})},m=function(t){var n=r["default"].state.slide.pages,i=n[t],s=n[t+1];v(t,!0);if(!s)return;var o=new d,u=new d,f=i.elements.filter(function(e){return e.fragment}).reduce(function(e,t){return t.index>e?t.index:e},0),c=i.elements.filter(function(e){return a(e.type)&&(!e.fragment||e.fragment&&e.fragment.index===f)}).map(function(e,t){return l(e,{index:t,occur:o.get(e.type)})}),h=s.elements.map(function(e,t){return l(e,{index:t,occur:u.get(e.type)})}).filter(function(e){return!e.animation&&!e.fragment&&a(e.type)});h.forEach(function(e){var n=c.filter(function(t){return e.signature===t.signature});if(n.length){var i=n[0],s={magicMove:{top:{from:i.top,to:e.top-i.top},left:{from:i.left,to:e.left-i.left},rotate:{from:i.rotateRad,to:e.rotateRad},width:{from:i.width,to:e.width},height:{from:i.height,to:e.height},color:{from:i.colorRGB,to:e.colorRGB},fontsize:{from:i.fontSize,to:e.fontSize}}};r["default"].dispatch("EDITELEMENT",{pageIndex:t+1,elementIndex:e.index,data:s})}else r["default"].dispatch("DELELEMENTATTR",{pageIndex:t+1,elementIndex:e.index,data:{magicMove:1}})})},g=function(t){var n=r["default"].state.slide.pages,i=n[t+1];v(t,!1);if(!i)return;i.elements.forEach(function(e,n){r["default"].dispatch("DELELEMENTATTR",{pageIndex:t+1,elementIndex:n,data:{magicMove:1}})})},y=function(t){return{left:"".concat(t.left.from,"px"),top:"".concat(t.top.from,"px"),transform:"\n              rotate(".concat(t.rotate.from,"rad)\n            "),width:"".concat(t.width.from,"px"),height:"".concat(t.height.from,"px"),color:t.color.from,"font-size":t.fontsize.from}},b=function(t,n){return{transform:"\n              translate(".concat(t.left.to,"px, ").concat(t.top.to,"px)\n              rotate(").concat(t.rotate.to,"rad)\n            "),"transition-duration":n?"0":"1s","transition-delay":n?"0":"0.1s",width:"".concat(t.width.to,"px"),height:"".concat(t.height.to,"px"),color:t.color.to,"font-size":t.fontsize.to}}},378:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n.r(t),n.d(t,"default",function(){return o});var o=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=t.warn,i=n===void 0?!0:n,s=t.needError,o=s===void 0?!1:s,u=t.tipFn;r(this,e),this.protocol=location.protocol,this.host=location.host,this.prefix=this.protocol+"//"+this.host,this.warn=i,this.needError=o,this.tipFn=u}return s(e,[{key:"GET",value:function(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},i=Object.assign({url:this.prefix+t,type:"GET",data:n,timeout:2e4,_t:Date.now()},r);return $.ajax(i).then(this.done,this.fail)}},{key:"POST",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},s=arguments.length>3?arguments[3]:undefined;r.token=SD.token;var o=Object.assign({url:this.prefix+t,type:s||"POST",data:r,timeout:2e4},i);return $.ajax(o).then(function(){return n.done.apply(n,arguments)},function(){return n.fail.apply(n,arguments)})}},{key:"PUT",value:function(t,n,r){return this.POST(t,n,r,"PUT")}},{key:"DELETE",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},i=Object.assign({url:this.prefix+t,type:"DELETE",data:{token:SD.token},contentType:!1},r);return $.ajax(i).then(function(){return n.done.apply(n,arguments)},function(){return n.fail.apply(n,arguments)})}},{key:"FORMDATA",value:function(t,n){var r=this,i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};n.append("token",SD.token);var s=Object.assign({url:this.prefix+t,type:"POST",contentType:!1,data:n,processData:!1},i);return $.ajax(s).then(function(){return r.done.apply(r,arguments)},function(){return r.fail.apply(r,arguments)})}},{key:"done",value:function(t,n,r){var i=this;return new Promise(function(e,n){return t.errno!==0?(i.warn&&(console.warn(t),t.errmsg&&i.tipFn&&i.tipFn(t.errmsg)),n(t)):e(t.data)})}},{key:"fail",value:function(t,n,r){var i=this;return new Promise(function(e,t){throw console.error(n,r),i.tipFn&&i.tipFn(r||"网络故障～～"),new Error(r||"网络故障~~")})}}]),e}()},381:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(1),i={};if(r.q){var s=n(378)["default"];i=new s({warn:!1})}var o={detail:function(){return window.SD.myself?Promise.resolve(window.SD.myself):r.q?Promise.resolve({}):i.GET("/api/user/detail")},checkunique:function(t,n){return i.GET("/api/user/checkunique",{field:t,value:n})},update:function(t){return i.POST("/api/user/update",t)},getemailcode:function(t){return i.POST("/api/user/getemailcode",{email:t})},sendmobilecode:function(t){return i.POST("/api/user/sendmobilecode",{mobile:t})},publicInfo:function(t){return r.q&&window.SD.author&&(window.SD.author.user_name===t||!t)?Promise.resolve(window.SD.author):(t=t||r.q&&window.SD.myself&&window.SD.myself.user_name,i.GET("/api/user/publicinfo",{user_name:t}))},importPDF:function(t){return i.FORMDATA("/api/slide/import",t)},search:function(t){return i.FORMDATA("/api/user/list",t)},authnRequestRegChallenge:function(){return i.GET("/api/fido2/requestRegChallenge")},authnReponseRegChallenge:function(t){return i.POST("/api/fido2/responseRegChallenge",t)},authnRequestAuthChallenge:function(){return i.GET("/api/fido2/requestAuthChallenge")},authnResponseAuthChallenge:function(t){return i.POST("/api/fido2/responseAuthChallenge",t)},authnGetDevices:function(){return i.GET("/api/fido2/devices")},authnDeleteDevice:function(t){return i.POST("/api/fido2/delete",t)}}},403:function(e,t,n){"use strict";function m(e,t){t=t||0;var n=e.charCodeAt(t);if(55296<=n&&n<=56319&&t<e.length-1){var r=n,i=e.charCodeAt(t+1);return 56320<=i&&i<=57343?(r-55296)*1024+(i-56320)+65536:r}if(56320<=n&&n<=57343&&t>=1){var s=e.charCodeAt(t-1),o=n;return 55296<=s&&s<=56319?(s-55296)*1024+(o-56320)+65536:o}return n}function g(e,t){return e===d&&t===v?!1:e===o&&t===d?!1:e===d&&t===o?!1:e===r&&t===i?!1:e===s||e===r||e===i?!0:t===s||t===r||t===i?!0:e!==f||t!==f&&t!==l&&t!==h&&t!==p?e!==h&&e!==l||t!==l&&t!==c?e!==p&&e!==c||t!==c?e===u&&t===u?!1:t===o?!1:t===a?!1:!0:!1:!1:!1}function y(e,t){t=t||0;if(t<0)return 0;if(t>=e.length-1)return e.length;var n=E(m(e,t));for(var r=t+1;r<e.length;r++){if(55296<=e.charCodeAt(r-1)&&e.charCodeAt(r-1)<=56319&&56320<=e.charCodeAt(r)&&e.charCodeAt(r)<=57343)continue;var i=E(m(e,r));if(g(n,i))return r;n=i}return e.length}function b(e){if(/^[\x20-\xFF]*$/.test(e))return e;var t=[],n=0,r;while((r=y(e,n))<e.length)t.push(e.slice(n,r)),n=r;return n<e.length&&t.push(e.slice(n)),t}function w(e){var t=0,n=0,r;while((r=y(e,n))<e.length)n=r,t++;return n<e.length&&t++,t}function E(e){return 13===e?r:10===e?i:0<=e&&e<=9||11<=e&&e<=12||14<=e&&e<=31||127<=e&&e<=159||173===e||1536<=e&&e<=1541||1564===e||1757===e||1807===e||6158===e||8203===e||8206<=e&&e<=8207||8232===e||8233===e||8234<=e&&e<=8238||8288<=e&&e<=8292||8293===e||8294<=e&&e<=8303||55296<=e&&e<=57343||65279===e||65520<=e&&e<=65528||65529<=e&&e<=65531||69821===e||113824<=e&&e<=113827||119155<=e&&e<=119162||917504===e||917505===e||917506<=e&&e<=917535||917536<=e&&e<=917631||917632<=e&&e<=917759||918e3<=e&&e<=921599?s:768<=e&&e<=879||1155<=e&&e<=1159||1160<=e&&e<=1161||1425<=e&&e<=1469||1471===e||1473<=e&&e<=1474||1476<=e&&e<=1477||1479===e||1552<=e&&e<=1562||1611<=e&&e<=1631||1648===e||1750<=e&&e<=1756||1759<=e&&e<=1764||1767<=e&&e<=1768||1770<=e&&e<=1773||1809===e||1840<=e&&e<=1866||1958<=e&&e<=1968||2027<=e&&e<=2035||2070<=e&&e<=2073||2075<=e&&e<=2083||2085<=e&&e<=2087||2089<=e&&e<=2093||2137<=e&&e<=2139||2275<=e&&e<=2306||2362===e||2364===e||2369<=e&&e<=2376||2381===e||2385<=e&&e<=2391||2402<=e&&e<=2403||2433===e||2492===e||2494===e||2497<=e&&e<=2500||2509===e||2519===e||2530<=e&&e<=2531||2561<=e&&e<=2562||2620===e||2625<=e&&e<=2626||2631<=e&&e<=2632||2635<=e&&e<=2637||2641===e||2672<=e&&e<=2673||2677===e||2689<=e&&e<=2690||2748===e||2753<=e&&e<=2757||2759<=e&&e<=2760||2765===e||2786<=e&&e<=2787||2817===e||2876===e||2878===e||2879===e||2881<=e&&e<=2884||2893===e||2902===e||2903===e||2914<=e&&e<=2915||2946===e||3006===e||3008===e||3021===e||3031===e||3072===e||3134<=e&&e<=3136||3142<=e&&e<=3144||3146<=e&&e<=3149||3157<=e&&e<=3158||3170<=e&&e<=3171||3201===e||3260===e||3263===e||3266===e||3270===e||3276<=e&&e<=3277||3285<=e&&e<=3286||3298<=e&&e<=3299||3329===e||3390===e||3393<=e&&e<=3396||3405===e||3415===e||3426<=e&&e<=3427||3530===e||3535===e||3538<=e&&e<=3540||3542===e||3551===e||3633===e||3636<=e&&e<=3642||3655<=e&&e<=3662||3761===e||3764<=e&&e<=3769||3771<=e&&e<=3772||3784<=e&&e<=3789||3864<=e&&e<=3865||3893===e||3895===e||3897===e||3953<=e&&e<=3966||3968<=e&&e<=3972||3974<=e&&e<=3975||3981<=e&&e<=3991||3993<=e&&e<=4028||4038===e||4141<=e&&e<=4144||4146<=e&&e<=4151||4153<=e&&e<=4154||4157<=e&&e<=4158||4184<=e&&e<=4185||4190<=e&&e<=4192||4209<=e&&e<=4212||4226===e||4229<=e&&e<=4230||4237===e||4253===e||4957<=e&&e<=4959||5906<=e&&e<=5908||5938<=e&&e<=5940||5970<=e&&e<=5971||6002<=e&&e<=6003||6068<=e&&e<=6069||6071<=e&&e<=6077||6086===e||6089<=e&&e<=6099||6109===e||6155<=e&&e<=6157||6313===e||6432<=e&&e<=6434||6439<=e&&e<=6440||6450===e||6457<=e&&e<=6459||6679<=e&&e<=6680||6683===e||6742===e||6744<=e&&e<=6750||6752===e||6754===e||6757<=e&&e<=6764||6771<=e&&e<=6780||6783===e||6832<=e&&e<=6845||6846===e||6912<=e&&e<=6915||6964===e||6966<=e&&e<=6970||6972===e||6978===e||7019<=e&&e<=7027||7040<=e&&e<=7041||7074<=e&&e<=7077||7080<=e&&e<=7081||7083<=e&&e<=7085||7142===e||7144<=e&&e<=7145||7149===e||7151<=e&&e<=7153||7212<=e&&e<=7219||7222<=e&&e<=7223||7376<=e&&e<=7378||7380<=e&&e<=7392||7394<=e&&e<=7400||7405===e||7412===e||7416<=e&&e<=7417||7616<=e&&e<=7669||7676<=e&&e<=7679||8204<=e&&e<=8205||8400<=e&&e<=8412||8413<=e&&e<=8416||8417===e||8418<=e&&e<=8420||8421<=e&&e<=8432||11503<=e&&e<=11505||11647===e||11744<=e&&e<=11775||12330<=e&&e<=12333||12334<=e&&e<=12335||12441<=e&&e<=12442||42607===e||42608<=e&&e<=42610||42612<=e&&e<=42621||42654<=e&&e<=42655||42736<=e&&e<=42737||43010===e||43014===e||43019===e||43045<=e&&e<=43046||43204===e||43232<=e&&e<=43249||43302<=e&&e<=43309||43335<=e&&e<=43345||43392<=e&&e<=43394||43443===e||43446<=e&&e<=43449||43452===e||43493===e||43561<=e&&e<=43566||43569<=e&&e<=43570||43573<=e&&e<=43574||43587===e||43596===e||43644===e||43696===e||43698<=e&&e<=43700||43703<=e&&e<=43704||43710<=e&&e<=43711||43713===e||43756<=e&&e<=43757||43766===e||44005===e||44008===e||44013===e||64286===e||65024<=e&&e<=65039||65056<=e&&e<=65071||65438<=e&&e<=65439||66045===e||66272===e||66422<=e&&e<=66426||68097<=e&&e<=68099||68101<=e&&e<=68102||68108<=e&&e<=68111||68152<=e&&e<=68154||68159===e||68325<=e&&e<=68326||69633===e||69688<=e&&e<=69702||69759<=e&&e<=69761||69811<=e&&e<=69814||69817<=e&&e<=69818||69888<=e&&e<=69890||69927<=e&&e<=69931||69933<=e&&e<=69940||70003===e||70016<=e&&e<=70017||70070<=e&&e<=70078||70090<=e&&e<=70092||70191<=e&&e<=70193||70196===e||70198<=e&&e<=70199||70367===e||70371<=e&&e<=70378||70400<=e&&e<=70401||70460===e||70462===e||70464===e||70487===e||70502<=e&&e<=70508||70512<=e&&e<=70516||70832===e||70835<=e&&e<=70840||70842===e||70845===e||70847<=e&&e<=70848||70850<=e&&e<=70851||71087===e||71090<=e&&e<=71093||71100<=e&&e<=71101||71103<=e&&e<=71104||71132<=e&&e<=71133||71219<=e&&e<=71226||71229===e||71231<=e&&e<=71232||71339===e||71341===e||71344<=e&&e<=71349||71351===e||71453<=e&&e<=71455||71458<=e&&e<=71461||71463<=e&&e<=71467||92912<=e&&e<=92916||92976<=e&&e<=92982||94095<=e&&e<=94098||113821<=e&&e<=113822||119141===e||119143<=e&&e<=119145||119150<=e&&e<=119154||119163<=e&&e<=119170||119173<=e&&e<=119179||119210<=e&&e<=119213||119362<=e&&e<=119364||121344<=e&&e<=121398||121403<=e&&e<=121452||121461===e||121476===e||121499<=e&&e<=121503||121505<=e&&e<=121519||125136<=e&&e<=125142||917760<=e&&e<=917999?o:127462<=e&&e<=127487?u:127995<=e&&e<=127999?v:2307===e||2363===e||2366<=e&&e<=2368||2377<=e&&e<=2380||2382<=e&&e<=2383||2434<=e&&e<=2435||2495<=e&&e<=2496||2503<=e&&e<=2504||2507<=e&&e<=2508||2563===e||2622<=e&&e<=2624||2691===e||2750<=e&&e<=2752||2761===e||2763<=e&&e<=2764||2818<=e&&e<=2819||2880===e||2887<=e&&e<=2888||2891<=e&&e<=2892||3007===e||3009<=e&&e<=3010||3014<=e&&e<=3016||3018<=e&&e<=3020||3073<=e&&e<=3075||3137<=e&&e<=3140||3202<=e&&e<=3203||3262===e||3264<=e&&e<=3265||3267<=e&&e<=3268||3271<=e&&e<=3272||3274<=e&&e<=3275||3330<=e&&e<=3331||3391<=e&&e<=3392||3398<=e&&e<=3400||3402<=e&&e<=3404||3458<=e&&e<=3459||3536<=e&&e<=3537||3544<=e&&e<=3550||3570<=e&&e<=3571||3635===e||3763===e||3902<=e&&e<=3903||3967===e||4145===e||4155<=e&&e<=4156||4182<=e&&e<=4183||4228===e||6070===e||6078<=e&&e<=6085||6087<=e&&e<=6088||6435<=e&&e<=6438||6441<=e&&e<=6443||6448<=e&&e<=6449||6451<=e&&e<=6456||6681<=e&&e<=6682||6741===e||6743===e||6765<=e&&e<=6770||6916===e||6965===e||6971===e||6973<=e&&e<=6977||6979<=e&&e<=6980||7042===e||7073===e||7078<=e&&e<=7079||7082===e||7143===e||7146<=e&&e<=7148||7150===e||7154<=e&&e<=7155||7204<=e&&e<=7211||7220<=e&&e<=7221||7393===e||7410<=e&&e<=7411||43043<=e&&e<=43044||43047===e||43136<=e&&e<=43137||43188<=e&&e<=43203||43346<=e&&e<=43347||43395===e||43444<=e&&e<=43445||43450<=e&&e<=43451||43453<=e&&e<=43456||43567<=e&&e<=43568||43571<=e&&e<=43572||43597===e||43755===e||43758<=e&&e<=43759||43765===e||44003<=e&&e<=44004||44006<=e&&e<=44007||44009<=e&&e<=44010||44012===e||69632===e||69634===e||69762===e||69808<=e&&e<=69810||69815<=e&&e<=69816||69932===e||70018===e||70067<=e&&e<=70069||70079<=e&&e<=70080||70188<=e&&e<=70190||70194<=e&&e<=70195||70197===e||70368<=e&&e<=70370||70402<=e&&e<=70403||70463===e||70465<=e&&e<=70468||70471<=e&&e<=70472||70475<=e&&e<=70477||70498<=e&&e<=70499||70833<=e&&e<=70834||70841===e||70843<=e&&e<=70844||70846===e||70849===e||71088<=e&&e<=71089||71096<=e&&e<=71099||71102===e||71216<=e&&e<=71218||71227<=e&&e<=71228||71230===e||71340===e||71342<=e&&e<=71343||71350===e||71456<=e&&e<=71457||71462===e||94033<=e&&e<=94078||119142===e||119149===e?a:4352<=e&&e<=4447||43360<=e&&e<=43388?f:4448<=e&&e<=4519||55216<=e&&e<=55238?l:4520<=e&&e<=4607||55243<=e&&e<=55291?c:44032===e||44060===e||44088===e||44116===e||44144===e||44172===e||44200===e||44228===e||44256===e||44284===e||44312===e||44340===e||44368===e||44396===e||44424===e||44452===e||44480===e||44508===e||44536===e||44564===e||44592===e||44620===e||44648===e||44676===e||44704===e||44732===e||44760===e||44788===e||44816===e||44844===e||44872===e||44900===e||44928===e||44956===e||44984===e||45012===e||45040===e||45068===e||45096===e||45124===e||45152===e||45180===e||45208===e||45236===e||45264===e||45292===e||45320===e||45348===e||45376===e||45404===e||45432===e||45460===e||45488===e||45516===e||45544===e||45572===e||45600===e||45628===e||45656===e||45684===e||45712===e||45740===e||45768===e||45796===e||45824===e||45852===e||45880===e||45908===e||45936===e||45964===e||45992===e||46020===e||46048===e||46076===e||46104===e||46132===e||46160===e||46188===e||46216===e||46244===e||46272===e||46300===e||46328===e||46356===e||46384===e||46412===e||46440===e||46468===e||46496===e||46524===e||46552===e||46580===e||46608===e||46636===e||46664===e||46692===e||46720===e||46748===e||46776===e||46804===e||46832===e||46860===e||46888===e||46916===e||46944===e||46972===e||47e3===e||47028===e||47056===e||47084===e||47112===e||47140===e||47168===e||47196===e||47224===e||47252===e||47280===e||47308===e||47336===e||47364===e||47392===e||47420===e||47448===e||47476===e||47504===e||47532===e||47560===e||47588===e||47616===e||47644===e||47672===e||47700===e||47728===e||47756===e||47784===e||47812===e||47840===e||47868===e||47896===e||47924===e||47952===e||47980===e||48008===e||48036===e||48064===e||48092===e||48120===e||48148===e||48176===e||48204===e||48232===e||48260===e||48288===e||48316===e||48344===e||48372===e||48400===e||48428===e||48456===e||48484===e||48512===e||48540===e||48568===e||48596===e||48624===e||48652===e||48680===e||48708===e||48736===e||48764===e||48792===e||48820===e||48848===e||48876===e||48904===e||48932===e||48960===e||48988===e||49016===e||49044===e||49072===e||49100===e||49128===e||49156===e||49184===e||49212===e||49240===e||49268===e||49296===e||49324===e||49352===e||49380===e||49408===e||49436===e||49464===e||49492===e||49520===e||49548===e||49576===e||49604===e||49632===e||49660===e||49688===e||49716===e||49744===e||49772===e||49800===e||49828===e||49856===e||49884===e||49912===e||49940===e||49968===e||49996===e||50024===e||50052===e||50080===e||50108===e||50136===e||50164===e||50192===e||50220===e||50248===e||50276===e||50304===e||50332===e||50360===e||50388===e||50416===e||50444===e||50472===e||50500===e||50528===e||50556===e||50584===e||50612===e||50640===e||50668===e||50696===e||50724===e||50752===e||50780===e||50808===e||50836===e||50864===e||50892===e||50920===e||50948===e||50976===e||51004===e||51032===e||51060===e||51088===e||51116===e||51144===e||51172===e||51200===e||51228===e||51256===e||51284===e||51312===e||51340===e||51368===e||51396===e||51424===e||51452===e||51480===e||51508===e||51536===e||51564===e||51592===e||51620===e||51648===e||51676===e||51704===e||51732===e||51760===e||51788===e||51816===e||51844===e||51872===e||51900===e||51928===e||51956===e||51984===e||52012===e||52040===e||52068===e||52096===e||52124===e||52152===e||52180===e||52208===e||52236===e||52264===e||52292===e||52320===e||52348===e||52376===e||52404===e||52432===e||52460===e||52488===e||52516===e||52544===e||52572===e||52600===e||52628===e||52656===e||52684===e||52712===e||52740===e||52768===e||52796===e||52824===e||52852===e||52880===e||52908===e||52936===e||52964===e||52992===e||53020===e||53048===e||53076===e||53104===e||53132===e||53160===e||53188===e||53216===e||53244===e||53272===e||53300===e||53328===e||53356===e||53384===e||53412===e||53440===e||53468===e||53496===e||53524===e||53552===e||53580===e||53608===e||53636===e||53664===e||53692===e||53720===e||53748===e||53776===e||53804===e||53832===e||53860===e||53888===e||53916===e||53944===e||53972===e||54e3===e||54028===e||54056===e||54084===e||54112===e||54140===e||54168===e||54196===e||54224===e||54252===e||54280===e||54308===e||54336===e||54364===e||54392===e||54420===e||54448===e||54476===e||54504===e||54532===e||54560===e||54588===e||54616===e||54644===e||54672===e||54700===e||54728===e||54756===e||54784===e||54812===e||54840===e||54868===e||54896===e||54924===e||54952===e||54980===e||55008===e||55036===e||55064===e||55092===e||55120===e||55148===e||55176===e?h:44033<=e&&e<=44059||44061<=e&&e<=44087||44089<=e&&e<=44115||44117<=e&&e<=44143||44145<=e&&e<=44171||44173<=e&&e<=44199||44201<=e&&e<=44227||44229<=e&&e<=44255||44257<=e&&e<=44283||44285<=e&&e<=44311||44313<=e&&e<=44339||44341<=e&&e<=44367||44369<=e&&e<=44395||44397<=e&&e<=44423||44425<=e&&e<=44451||44453<=e&&e<=44479||44481<=e&&e<=44507||44509<=e&&e<=44535||44537<=e&&e<=44563||44565<=e&&e<=44591||44593<=e&&e<=44619||44621<=e&&e<=44647||44649<=e&&e<=44675||44677<=e&&e<=44703||44705<=e&&e<=44731||44733<=e&&e<=44759||44761<=e&&e<=44787||44789<=e&&e<=44815||44817<=e&&e<=44843||44845<=e&&e<=44871||44873<=e&&e<=44899||44901<=e&&e<=44927||44929<=e&&e<=44955||44957<=e&&e<=44983||44985<=e&&e<=45011||45013<=e&&e<=45039||45041<=e&&e<=45067||45069<=e&&e<=45095||45097<=e&&e<=45123||45125<=e&&e<=45151||45153<=e&&e<=45179||45181<=e&&e<=45207||45209<=e&&e<=45235||45237<=e&&e<=45263||45265<=e&&e<=45291||45293<=e&&e<=45319||45321<=e&&e<=45347||45349<=e&&e<=45375||45377<=e&&e<=45403||45405<=e&&e<=45431||45433<=e&&e<=45459||45461<=e&&e<=45487||45489<=e&&e<=45515||45517<=e&&e<=45543||45545<=e&&e<=45571||45573<=e&&e<=45599||45601<=e&&e<=45627||45629<=e&&e<=45655||45657<=e&&e<=45683||45685<=e&&e<=45711||45713<=e&&e<=45739||45741<=e&&e<=45767||45769<=e&&e<=45795||45797<=e&&e<=45823||45825<=e&&e<=45851||45853<=e&&e<=45879||45881<=e&&e<=45907||45909<=e&&e<=45935||45937<=e&&e<=45963||45965<=e&&e<=45991||45993<=e&&e<=46019||46021<=e&&e<=46047||46049<=e&&e<=46075||46077<=e&&e<=46103||46105<=e&&e<=46131||46133<=e&&e<=46159||46161<=e&&e<=46187||46189<=e&&e<=46215||46217<=e&&e<=46243||46245<=e&&e<=46271||46273<=e&&e<=46299||46301<=e&&e<=46327||46329<=e&&e<=46355||46357<=e&&e<=46383||46385<=e&&e<=46411||46413<=e&&e<=46439||46441<=e&&e<=46467||46469<=e&&e<=46495||46497<=e&&e<=46523||46525<=e&&e<=46551||46553<=e&&e<=46579||46581<=e&&e<=46607||46609<=e&&e<=46635||46637<=e&&e<=46663||46665<=e&&e<=46691||46693<=e&&e<=46719||46721<=e&&e<=46747||46749<=e&&e<=46775||46777<=e&&e<=46803||46805<=e&&e<=46831||46833<=e&&e<=46859||46861<=e&&e<=46887||46889<=e&&e<=46915||46917<=e&&e<=46943||46945<=e&&e<=46971||46973<=e&&e<=46999||47001<=e&&e<=47027||47029<=e&&e<=47055||47057<=e&&e<=47083||47085<=e&&e<=47111||47113<=e&&e<=47139||47141<=e&&e<=47167||47169<=e&&e<=47195||47197<=e&&e<=47223||47225<=e&&e<=47251||47253<=e&&e<=47279||47281<=e&&e<=47307||47309<=e&&e<=47335||47337<=e&&e<=47363||47365<=e&&e<=47391||47393<=e&&e<=47419||47421<=e&&e<=47447||47449<=e&&e<=47475||47477<=e&&e<=47503||47505<=e&&e<=47531||47533<=e&&e<=47559||47561<=e&&e<=47587||47589<=e&&e<=47615||47617<=e&&e<=47643||47645<=e&&e<=47671||47673<=e&&e<=47699||47701<=e&&e<=47727||47729<=e&&e<=47755||47757<=e&&e<=47783||47785<=e&&e<=47811||47813<=e&&e<=47839||47841<=e&&e<=47867||47869<=e&&e<=47895||47897<=e&&e<=47923||47925<=e&&e<=47951||47953<=e&&e<=47979||47981<=e&&e<=48007||48009<=e&&e<=48035||48037<=e&&e<=48063||48065<=e&&e<=48091||48093<=e&&e<=48119||48121<=e&&e<=48147||48149<=e&&e<=48175||48177<=e&&e<=48203||48205<=e&&e<=48231||48233<=e&&e<=48259||48261<=e&&e<=48287||48289<=e&&e<=48315||48317<=e&&e<=48343||48345<=e&&e<=48371||48373<=e&&e<=48399||48401<=e&&e<=48427||48429<=e&&e<=48455||48457<=e&&e<=48483||48485<=e&&e<=48511||48513<=e&&e<=48539||48541<=e&&e<=48567||48569<=e&&e<=48595||48597<=e&&e<=48623||48625<=e&&e<=48651||48653<=e&&e<=48679||48681<=e&&e<=48707||48709<=e&&e<=48735||48737<=e&&e<=48763||48765<=e&&e<=48791||48793<=e&&e<=48819||48821<=e&&e<=48847||48849<=e&&e<=48875||48877<=e&&e<=48903||48905<=e&&e<=48931||48933<=e&&e<=48959||48961<=e&&e<=48987||48989<=e&&e<=49015||49017<=e&&e<=49043||49045<=e&&e<=49071||49073<=e&&e<=49099||49101<=e&&e<=49127||49129<=e&&e<=49155||49157<=e&&e<=49183||49185<=e&&e<=49211||49213<=e&&e<=49239||49241<=e&&e<=49267||49269<=e&&e<=49295||49297<=e&&e<=49323||49325<=e&&e<=49351||49353<=e&&e<=49379||49381<=e&&e<=49407||49409<=e&&e<=49435||49437<=e&&e<=49463||49465<=e&&e<=49491||49493<=e&&e<=49519||49521<=e&&e<=49547||49549<=e&&e<=49575||49577<=e&&e<=49603||49605<=e&&e<=49631||49633<=e&&e<=49659||49661<=e&&e<=49687||49689<=e&&e<=49715||49717<=e&&e<=49743||49745<=e&&e<=49771||49773<=e&&e<=49799||49801<=e&&e<=49827||49829<=e&&e<=49855||49857<=e&&e<=49883||49885<=e&&e<=49911||49913<=e&&e<=49939||49941<=e&&e<=49967||49969<=e&&e<=49995||49997<=e&&e<=50023||50025<=e&&e<=50051||50053<=e&&e<=50079||50081<=e&&e<=50107||50109<=e&&e<=50135||50137<=e&&e<=50163||50165<=e&&e<=50191||50193<=e&&e<=50219||50221<=e&&e<=50247||50249<=e&&e<=50275||50277<=e&&e<=50303||50305<=e&&e<=50331||50333<=e&&e<=50359||50361<=e&&e<=50387||50389<=e&&e<=50415||50417<=e&&e<=50443||50445<=e&&e<=50471||50473<=e&&e<=50499||50501<=e&&e<=50527||50529<=e&&e<=50555||50557<=e&&e<=50583||50585<=e&&e<=50611||50613<=e&&e<=50639||50641<=e&&e<=50667||50669<=e&&e<=50695||50697<=e&&e<=50723||50725<=e&&e<=50751||50753<=e&&e<=50779||50781<=e&&e<=50807||50809<=e&&e<=50835||50837<=e&&e<=50863||50865<=e&&e<=50891||50893<=e&&e<=50919||50921<=e&&e<=50947||50949<=e&&e<=50975||50977<=e&&e<=51003||51005<=e&&e<=51031||51033<=e&&e<=51059||51061<=e&&e<=51087||51089<=e&&e<=51115||51117<=e&&e<=51143||51145<=e&&e<=51171||51173<=e&&e<=51199||51201<=e&&e<=51227||51229<=e&&e<=51255||51257<=e&&e<=51283||51285<=e&&e<=51311||51313<=e&&e<=51339||51341<=e&&e<=51367||51369<=e&&e<=51395||51397<=e&&e<=51423||51425<=e&&e<=51451||51453<=e&&e<=51479||51481<=e&&e<=51507||51509<=e&&e<=51535||51537<=e&&e<=51563||51565<=e&&e<=51591||51593<=e&&e<=51619||51621<=e&&e<=51647||51649<=e&&e<=51675||51677<=e&&e<=51703||51705<=e&&e<=51731||51733<=e&&e<=51759||51761<=e&&e<=51787||51789<=e&&e<=51815||51817<=e&&e<=51843||51845<=e&&e<=51871||51873<=e&&e<=51899||51901<=e&&e<=51927||51929<=e&&e<=51955||51957<=e&&e<=51983||51985<=e&&e<=52011||52013<=e&&e<=52039||52041<=e&&e<=52067||52069<=e&&e<=52095||52097<=e&&e<=52123||52125<=e&&e<=52151||52153<=e&&e<=52179||52181<=e&&e<=52207||52209<=e&&e<=52235||52237<=e&&e<=52263||52265<=e&&e<=52291||52293<=e&&e<=52319||52321<=e&&e<=52347||52349<=e&&e<=52375||52377<=e&&e<=52403||52405<=e&&e<=52431||52433<=e&&e<=52459||52461<=e&&e<=52487||52489<=e&&e<=52515||52517<=e&&e<=52543||52545<=e&&e<=52571||52573<=e&&e<=52599||52601<=e&&e<=52627||52629<=e&&e<=52655||52657<=e&&e<=52683||52685<=e&&e<=52711||52713<=e&&e<=52739||52741<=e&&e<=52767||52769<=e&&e<=52795||52797<=e&&e<=52823||52825<=e&&e<=52851||52853<=e&&e<=52879||52881<=e&&e<=52907||52909<=e&&e<=52935||52937<=e&&e<=52963||52965<=e&&e<=52991||52993<=e&&e<=53019||53021<=e&&e<=53047||53049<=e&&e<=53075||53077<=e&&e<=53103||53105<=e&&e<=53131||53133<=e&&e<=53159||53161<=e&&e<=53187||53189<=e&&e<=53215||53217<=e&&e<=53243||53245<=e&&e<=53271||53273<=e&&e<=53299||53301<=e&&e<=53327||53329<=e&&e<=53355||53357<=e&&e<=53383||53385<=e&&e<=53411||53413<=e&&e<=53439||53441<=e&&e<=53467||53469<=e&&e<=53495||53497<=e&&e<=53523||53525<=e&&e<=53551||53553<=e&&e<=53579||53581<=e&&e<=53607||53609<=e&&e<=53635||53637<=e&&e<=53663||53665<=e&&e<=53691||53693<=e&&e<=53719||53721<=e&&e<=53747||53749<=e&&e<=53775||53777<=e&&e<=53803||53805<=e&&e<=53831||53833<=e&&e<=53859||53861<=e&&e<=53887||53889<=e&&e<=53915||53917<=e&&e<=53943||53945<=e&&e<=53971||53973<=e&&e<=53999||54001<=e&&e<=54027||54029<=e&&e<=54055||54057<=e&&e<=54083||54085<=e&&e<=54111||54113<=e&&e<=54139||54141<=e&&e<=54167||54169<=e&&e<=54195||54197<=e&&e<=54223||54225<=e&&e<=54251||54253<=e&&e<=54279||54281<=e&&e<=54307||54309<=e&&e<=54335||54337<=e&&e<=54363||54365<=e&&e<=54391||54393<=e&&e<=54419||54421<=e&&e<=54447||54449<=e&&e<=54475||54477<=e&&e<=54503||54505<=e&&e<=54531||54533<=e&&e<=54559||54561<=e&&e<=54587||54589<=e&&e<=54615||54617<=e&&e<=54643||54645<=e&&e<=54671||54673<=e&&e<=54699||54701<=e&&e<=54727||54729<=e&&e<=54755||54757<=e&&e<=54783||54785<=e&&e<=54811||54813<=e&&e<=54839||54841<=e&&e<=54867||54869<=e&&e<=54895||54897<=e&&e<=54923||54925<=e&&e<=54951||54953<=e&&e<=54979||54981<=e&&e<=55007||55009<=e&&e<=55035||55037<=e&&e<=55063||55065<=e&&e<=55091||55093<=e&&e<=55119||55121<=e&&e<=55147||55149<=e&&e<=55175||55177<=e&&e<=55203?p:d}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t,n){return t&&x(e.prototype,t),n&&x(e,n),e}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e){var t=[],n=e.toString().split(/\r?\n/),r="",i=!0,s=!1,o=undefined;try{for(var u=n[Symbol.iterator](),a;!(i=(a=u.next()).done);i=!0){var f=a.value,l="";for(var c=0;c<f.length;c++){var h=f.charAt(c);if(h==="%"&&l!=="\\")break;r+=h,l=h}}}catch(p){s=!0,o=p}finally{try{!i&&u["return"]!=null&&u["return"]()}finally{if(s)throw o}}var d=new k(r);while(!d.end()){var v=d.makeToken();v&&t.push(v)}return t}function Y(e,t,n){if(typeof e=="string"){var r=e.match(/([0-9.]*)\s*([a-z]*)/);r?(e=parseFloat(r[1]),t=r[2].toLowerCase()):e=parseFloat(e)}var i=1;t==="pt"?i=1:t==="mm"?i=7227/2540:t==="cm"?i=7227/254:t==="ex"?i=35271/8192:t==="px"?i=.75:t==="em"?i=K.ptPerEm:t==="bp"?i=1.00375:t==="dd"?i=1238/1157:t==="pc"?i=12:t==="in"?i=72.27:t==="mu"&&(i=10/18);if(n){var s=Math.pow(10,n);return Math.round(e/K.ptPerEm*i*s)/s}return e/K.ptPerEm*i}function Z(e,t){return Y(e,t)*(4/3)*K.ptPerEm}function tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rt(e,t,n){return t&&nt(e.prototype,t),n&&nt(e,n),e}function yt(e){if(!e)return e;if(e instanceof at)return e;var t={displaystyle:gt[ft],textstyle:gt[ct],scriptstyle:gt[pt],scriptscriptstyle:gt[vt]};return console.assert(t[e],'unknown style: "',e,'"'),t[e]}function kt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function At(e,t,n){return t&&Lt(e.prototype,t),n&&Lt(e,n),e}function _t(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_t=function(t){return typeof t}:_t=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_t(e)}function Dt(){var e="";return Array.from(arguments).forEach(function(t){if(typeof t=="number")e+=Math.floor(1e5*t)/1e5;else if(typeof t=="string")e+=t;else if(Array.isArray(t)){var n=!0,r=!1,i=undefined;try{for(var s=t[Symbol.iterator](),o;!(n=(o=s.next()).done);n=!0){var u=o.value;e+=Dt(u)}}catch(a){r=!0,i=a}finally{try{!n&&s["return"]!=null&&s["return"]()}finally{if(r)throw i}}}else t&&(e+=t.toString())}),e}function Pt(e,t){this.classes=t||"",console.assert(typeof this.classes=="string"),Array.isArray(e)?this.children=[].concat.apply([],e):typeof e=="string"?this.body=e:e&&_t(e)==="object"&&(this.children=[e]),this.style=null,this.updateDimensions()}function jt(e){var t=e.type;return e.classes.indexOf("ML__selected")!==-1&&(t=e.children[e.children.length-1].type),t==="first"?"none":t==="textord"?"mord":t}function Ft(e){if(!e||e.length===0)return[];e[0].children=Ft(e[0].children);var t=[e[0]];for(var n=1;n<e.length;n++)t[t.length-1].tryCoalesceWith(e[n])||(e[n].children=Ft(e[n].children),t.push(e[n]));return t}function It(e){if(!e)return 0;if(Array.isArray(e)){var t=0,n=!0,r=!1,i=undefined;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done);n=!0){var u=o.value;t=Math.max(t,u.height)}}catch(a){r=!0,i=a}finally{try{!n&&s["return"]!=null&&s["return"]()}finally{if(r)throw i}}return t}return e.height}function qt(e){if(!e)return 0;if(Array.isArray(e)){var t=0,n=!0,r=!1,i=undefined;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done);n=!0){var u=o.value;t=Math.max(t,u.depth)}}catch(a){r=!0,i=a}finally{try{!n&&s["return"]!=null&&s["return"]()}finally{if(r)throw i}}return t}return e.depth}function Rt(e){if(!e)return 0;if(Array.isArray(e)){var t=0,n=!0,r=!1,i=undefined;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done);n=!0){var u=o.value;t+=u.skew||0}}catch(a){r=!0,i=a}finally{try{!n&&s["return"]!=null&&s["return"]()}finally{if(r)throw i}}return t}return e.skew}function Ut(e){return e?Array.isArray(e)?e[e.length-1].italic:e.italic:0}function zt(e,t){if(Array.isArray(e)){var n=[],r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){var a=u.value;a&&n.push(a)}}catch(f){i=!0,s=f}finally{try{!r&&o["return"]!=null&&o["return"]()}finally{if(i)throw s}}if(n.length===1)return zt(n[0],t)}return new Pt(e,t)}function Wt(e,t,n){var r=new Pt(t,n),i=et.getCharacterMetrics(t,e);return r.height=i.height,r.depth=i.depth,r.skew=i.skew,r.italic=i.italic,r.setRight(r.italic),r}function Xt(e,t){var n=t?t/e.mathstyle.sizeMultiplier:0,r=new Pt("​");return n!==1&&(r.setStyle("font-size",n,n>0?"em":""),r.attributes={"aria-hidden":!0}),e.size!=="size5"?new Pt(r,"fontsize-ensurer reset-"+e.size+" size5"):n!==0?r:null}function Vt(e,t,n){var r=zt(t,n);return r.type=e,r}function $t(e,t){return Vt("mop",e,t)}function Jt(e,t){return Vt("mord",e,t)}function Kt(e,t){return Vt("mrel",e,t)}function Qt(e,t){return Vt("mclose",e,t)}function Gt(e,t){return Vt("mopen",e,t)}function Yt(e,t){return Vt("minner",e,t)}function Zt(e,t){return Vt("mpunct",e,t)}function en(e,t,n,r,i){i=i||"",i+=" style-wrap ";var s=nn(t,i+n.adjustTo(r));s.type=e;var o=r.sizeMultiplier/n.sizeMultiplier;return s.height*=o,s.depth*=o,s.maxFontSize=r.sizeMultiplier,s}function tn(e,t,n){return e.svgOverlay=t,e.svgStyle=n,e}function nn(e,t){if(!t||t.length===0){if(e instanceof Pt)return e;if(Array.isArray(e)&&e.length===1)return e[0]}return new Pt(e,t)}function rn(e,t,n,r){var i=0,s=0;n=n||"shift",r=r||0;for(var o=0;o<t.length;o++)Array.isArray(t[o])&&(t[o].length===1?t[o]=t[o][0]:t[o]=zt(t[o]));if(n==="shift")i=-t[0].depth-r;else if(n==="bottom")i=-r;else if(n==="top"){var u=r,a=!0,f=!1,l=undefined;try{for(var c=t[Symbol.iterator](),h;!(a=(h=c.next()).done);a=!0){var p=h.value;p instanceof Pt?u-=p.height+p.depth:u-=p}}catch(d){f=!0,l=d}finally{try{!a&&c["return"]!=null&&c["return"]()}finally{if(f)throw l}}i=u}else if(n==="individualShift"){var v=t;t=[v[0]],i=-v[1]-v[0].depth,s=i;for(var m=2;m<v.length;m+=2){var g=-v[m+1]-s-v[m].depth;s+=g;var y=g-(v[m-2].height+v[m-2].depth);t.push(y),t.push(v[m])}}else console.assert(!1,'makeVList with unknown method: "'+n+'"');var b=0,w=!0,E=!1,S=undefined;try{for(var x=t[Symbol.iterator](),T;!(w=(T=x.next()).done);w=!0){var N=T.value;N instanceof Pt&&(b=Math.max(b,N.maxFontSize))}}catch(d){E=!0,S=d}finally{try{!w&&x["return"]!=null&&x["return"]()}finally{if(E)throw S}}var C=Xt(e,b),k=[];s=i;var L=!0,A=!1,O=undefined;try{for(var M=t[Symbol.iterator](),_;!(L=(_=M.next()).done);L=!0){var D=_.value;if(typeof D=="number")s+=D;else{var P=-D.depth-s;s+=D.height+D.depth;var H=zt([C,D]);H.setTop(P),k.push(H)}}}catch(d){A=!0,O=d}finally{try{!L&&M["return"]!=null&&M["return"]()}finally{if(A)throw O}}var B=zt(k,"vlist");return B.depth=Math.max(i,qt(B)||0),B.height=Math.max(-s,It(B)||0),B}function on(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?on=function(t){return typeof t}:on=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},on(e)}function Sn(e){var t=typeof e=="string"?En[e]:e;for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var s=0,o=r;s<o.length;s++){var u=o[s];an[u]&&(an[u].frequency=t),fn[u]&&(fn[u].frequency=t),cn[u]&&(cn[u]=Object.assign({},cn[u]),cn[u].frequency=t)}}function xn(e,t,n,r,i,s){console.assert(n==="main"||n==="ams"||n==="mathrm"||n==="mathbb"||n==="mathfrak"||n==="mathcal"||n==="mathscr"||Array.isArray(n),"Unknown font family "+n+" for "+e),typeof s=="string"&&(s=En[s]),t.includes(Un)&&(an[e]={symbol:!0,category:un,fontFamily:n,type:r===Vn?er:r,skipBoundary:!0,body:i,frequency:s}),t.includes(Rn)&&(fn[e]={symbol:!0,category:un,fontFamily:n,type:r===Vn?$n:r,skipBoundary:!0,value:i,frequency:s}),t.includes(zn)&&(ln[e]={fontFamily:n,type:r,value:i})}function Tn(e,t,n,r,i){for(var s=0;s<e.length;s++){var o=e.charAt(s);xn(o,t,n,r,o,i)}}function Nn(e,t,n,r,i,s){for(var o=e;o<=t;o++){var u=String.fromCodePoint(o);xn(u,n,r,i,u,s)}}function kn(e){var t=e.codePointAt(0),n=Cn[e];if(n)return n;if(t>32&&t<127)return e;for(var r in fn)fn.hasOwnProperty(r)&&(fn[r].value===e||fn[r].body===e)&&(n=r,r[0]==="\\"&&(n+=" "));return n||(t<32||t>=127?n='\\char"'+("000000"+t.toString(16)).toUpperCase().substr(-6):n=e),n}function On(e){var t=e;typeof e=="string"&&(t=e.codePointAt(0));if((t<119808||t>120831)&&(t<8448||t>8527))return{"char":e};for(var n in Ln)if(Ln.hasOwnProperty(n)&&Ln[n]===t){t=n;break}for(var r=0;r<An.length;r++)if(t>=An[r].start&&t<An[r].start+An[r].len)return{"char":String.fromCodePoint(t-An[r].start+An[r].offset),variant:An[r].variant,style:An[r].style};return{"char":e}}function Mn(e,t,n){if(!/[A-Za-z0-9]/.test(e))return e;var r=e.codePointAt(0);for(var i=0;i<An.length;i++)if(!t||An[i].variant===t)if(!n||An[i].style===n)if(r>=An[i].offset&&r<An[i].offset+An[i].len)return String.fromCodePoint(An[i].start+r-An[i].offset);return e}function _n(e){if(Cn[e])return Cn[e];var t,n=On(e);return!n.style&&!n.variant?String.fromCodePoint(e):(t=n["char"],n.variant&&(t="\\"+n.variant+"{"+t+"}"),n.style==="bold"?t="\\mathbf{"+t+"}":n.style==="italic"?t="\\mathit{"+t+"}":n.style==="bolditalic"&&(t="\\mathbf{\\mathit{"+t+"}}"),"\\mathord{"+t+"}")}function Dn(e){var t="",n=!0,r=!1,i=undefined;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done);n=!0){var u=o.value;t+=_n(u.codePointAt(0))}}catch(a){r=!0,i=a}finally{try{!n&&s["return"]!=null&&s["return"]()}finally{if(r)throw i}}return t}function Pn(e,t){var n=null;for(var r in cn)cn.hasOwnProperty(r)&&t===r&&(e!=="text"||cn[r].allowedInText)&&(!n||n.value.length<r.length)&&(n={latexName:r,value:r.slice(1)});return n}function Hn(e,t){var n=e==="text"?an:e==="command"?ln:fn,r=null;for(var i in n)if(n.hasOwnProperty(i)){var s=i;t===s&&(!r||r.match.length<s.length)&&(r={latexName:i,fontFamily:n[i].fontFamily,value:n[i].value,type:n[i].type,match:s})}return r}function Bn(e,t){var n=e==="math"?fn:an;return n[t]&&n[t].fontFamily==="ams"?"AMS-Regular":"Main-Regular"}function jn(e,t){var n=e==="math"?fn:an;return n[t]&&n[t].value?n[t].value:t}function Fn(e){var t=hn[e];return t||(t={params:"",parser:null,mathstyle:"displaystyle",tabular:!0,colFormat:[],leftFence:".",rightFence:"."}),t}function In(e,t,n){if(e.length===0)return null;var r=null;if(e.charAt(0)==="\\"){r=cn[e];if(r)return t==="math"||r.allowedInText?r:null;if(!r){var i=t==="math"?fn:an;r=i[e]}if(!r){var s=e.slice(1);if(n&&n[s]){var o=n[s];on(o)==="object"&&(o=o.def);var u=0;/(^|[^\\])#1/.test(o)&&(u=1),/(^|[^\\])#2/.test(o)&&(u=2),/(^|[^\\])#3/.test(o)&&(u=3),/(^|[^\\])#4/.test(o)&&(u=4),/(^|[^\\])#5/.test(o)&&(u=5),/(^|[^\\])#6/.test(o)&&(u=6),/(^|[^\\])#7/.test(o)&&(u=7),/(^|[^\\])#8/.test(o)&&(u=8),/(^|[^\\])#9/.test(o)&&(u=9),r={type:"group",allowedInText:!1,params:[],infix:!1};while(u>=1)r.params.push({optional:!1,type:"math",defaultValue:null,placeholder:null}),u-=1}}r||(r={type:"error",params:[],allowedInText:!1,infix:!1})}else{var a=fn;t==="command"&&(a=ln),t==="text"&&(a=an),r=a[e]}return r&&r.type==="mord"&&(r.value==="f"||r.value==="g")&&(r.isFunction=!0),r}function qn(e){var t=[];for(var n in cn)cn.hasOwnProperty(n)&&n.startsWith(e)&&!cn[n].infix&&t.push({match:n,frequency:cn[n].frequency});for(var r in fn)fn.hasOwnProperty(r)&&r.startsWith(e)&&t.push({match:r,frequency:fn[r].frequency});return t.sort(function(e,t){return e.frequency===t.frequency?t.match.length-e.match.length:(t.frequency||0)-(e.frequency||0)}),t}function rr(e,t){var n=e.match(/=(.+)/),r="{}",i="auto",s=null;return n&&(console.assert(t,"Can't provide a default value for required parameters"),r=n[1]),n=e.match(/:([^=]+)/),n&&(i=n[1].trim()),n=e.match(/^([^:=]+)/),n&&(s=n[1].trim()),{optional:t,type:i,defaultValue:r,placeholder:s}}function ir(e){if(!e||e.length===0)return[];var t=[],n=e.split("]");if(n[0].charAt(0)==="["){t.push(rr(n[0].slice(1),!0));for(var r=1;r<=n.length;r++)t=t.concat(ir(n[r]))}else{n=e.split("}");if(n[0].charAt(0)==="{"){t.push(rr(n[0].slice(1),!1));for(var i=1;i<=n.length;i++)t=t.concat(ir(n[i]))}}return t}function sr(e,t,n,r){typeof e=="string"&&(e=[e]),n||(n={});var i=ir(t),s={category:un,params:i,parser:r,mathstyle:"displaystyle",tabular:n.tabular||!0,colFormat:n.colFormat||[]},o=!0,u=!1,a=undefined;try{for(var f=e[Symbol.iterator](),l;!(o=(l=f.next()).done);o=!0){var c=l.value;hn[c]=s}}catch(h){u=!0,a=h}finally{try{!o&&f["return"]!=null&&f["return"]()}finally{if(u)throw a}}}function or(e,t,n,r){typeof e=="string"&&(e=[e]),n||(n={});var i=ir(t),s={category:un,fontFamily:n.fontFamily,params:i,allowedInText:!!n.allowedInText,infix:!!n.infix,handler:r},o=!0,u=!1,a=undefined;try{for(var f=e[Symbol.iterator](),l;!(o=(l=f.next()).done);o=!0){var c=l.value;cn[c]=s}}catch(h){u=!0,a=h}finally{try{!o&&f["return"]!=null&&f["return"]()}finally{if(u)throw a}}}function fr(e){var t="",n=!0,r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){var a=u.value;typeof a.body=="string"?t+=a.body:n=!1}}catch(f){i=!0,s=f}finally{try{!r&&o["return"]!=null&&o["return"]()}finally{if(i)throw s}}return n?t:""}function vr(e,t,n,r,i,s){var o=cr(lr.getFontName("math",t),lr.getValue("math",t)),u=hr(e,o,i.mathstyle,n,s);return r&&u.setTop((1-i.mathstyle.sizeMultiplier/n.sizeMultiplier)*i.mathstyle.metrics.axisHeight),u.setStyle("color",i.color),typeof i.opacity=="number"&&u.setStyle("opacity",i.opacity),u}function mr(e,t,n,r,i,s){var o=cr("Size"+n+"-Regular",lr.getValue("math",t)),u=hr(e,pr(o,"delimsizing size"+n),i.mathstyle,Ct.TEXT,s);return r&&u.setTop((1-i.mathstyle.sizeMultiplier)*i.mathstyle.metrics.axisHeight),u.setStyle("color",i.color),typeof i.opacity=="number"&&u.setStyle("opacity",i.opacity),u}function gr(e,t){var n="";t==="Size1-Regular"?n=" delim-size1":t==="Size4-Regular"&&(n=" delim-size4");var r=pr(cr(t,lr.getValue("math",e)),"delimsizinginner"+n);return r}function yr(e,t,n,r,i,s){var o,u,a,f;o=a=f=t,u=null;var l="Size1-Regular";t==="\\vert"||t==="\\lvert"||t==="\\rvert"||t==="\\mvert"||t==="\\mid"?a=o=f="∣":t==="\\Vert"||t==="\\lVert"||t==="\\rVert"||t==="\\mVert"||t==="\\|"?a=o=f="∥":t==="\\uparrow"?a=f="⏐":t==="\\Uparrow"?a=f="‖":t==="\\downarrow"?o=a="⏐":t==="\\Downarrow"?o=a="‖":t==="\\updownarrow"?(o="↑",a="⏐",f="↓"):t==="\\Updownarrow"?(o="⇑",a="‖",f="⇓"):t==="["||t==="\\lbrack"?(o="⎡",a="⎢",f="⎣",l="Size4-Regular"):t==="]"||t==="\\rbrack"?(o="⎤",a="⎥",f="⎦",l="Size4-Regular"):t==="\\lfloor"?(a=o="⎢",f="⎣",l="Size4-Regular"):t==="\\lceil"?(o="⎡",a=f="⎢",l="Size4-Regular"):t==="\\rfloor"?(a=o="⎥",f="⎦",l="Size4-Regular"):t==="\\rceil"?(o="⎤",a=f="⎥",l="Size4-Regular"):t==="("?(o="⎛",a="⎜",f="⎝",l="Size4-Regular"):t===")"?(o="⎞",a="⎟",f="⎠",l="Size4-Regular"):t==="\\{"||t==="\\lbrace"?(o="⎧",u="⎨",f="⎩",a="⎪",l="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(o="⎫",u="⎬",f="⎭",a="⎪",l="Size4-Regular"):t==="\\lgroup"?(o="⎧",f="⎩",a="⎪",l="Size4-Regular"):t==="\\rgroup"?(o="⎫",f="⎭",a="⎪",l="Size4-Regular"):t==="\\lmoustache"?(o="⎧",f="⎭",a="⎪",l="Size4-Regular"):t==="\\rmoustache"?(o="⎫",f="⎩",a="⎪",l="Size4-Regular"):t==="\\surd"&&(o="",f="⎷",a="",l="Size4-Regular");var c=et.getCharacterMetrics(lr.getValue("math",o),l),h=c.height+c.depth,p=et.getCharacterMetrics(lr.getValue("math",a),l),d=p.height+p.depth,v=et.getCharacterMetrics(lr.getValue("math",f),l),m=v.height+v.depth,g=0,y=1;if(u!==null){var b=et.getCharacterMetrics(lr.getValue("math",u),l);g=b.height+b.depth,y=2}var w=h+m+g,E=Math.ceil((n-w)/(y*d)),S=w+E*y*d,x=i.mathstyle.metrics.axisHeight;r&&(x*=i.mathstyle.sizeMultiplier);var T=S/2-x,N=[];N.push(gr(f,l));if(u===null)for(var C=0;C<E;C++)N.push(gr(a,l));else{for(var k=0;k<E;k++)N.push(gr(a,l));N.push(gr(u,l));for(var L=0;L<E;L++)N.push(gr(a,l))}N.push(gr(o,l));var A=dr(i,N,"bottom",T);return A.setStyle("color",i.color),typeof i.opacity=="number"&&A.setStyle("opacity",i.opacity),hr(e,pr(A,"delimsizing mult"),i.mathstyle,Ct.TEXT,s)}function xr(e,t,n,r,i){if(t===".")return Mr(e,r,i);if(t==="<"||t==="\\lt")t="\\langle";else if(t===">"||t==="\\gt")t="\\rangle";return br.includes(t)||Er.includes(t)?mr(e,t,n,!1,r,i):wr.includes(t)?yr(e,t,Sr[n],!1,r,i):(console.assert(!1,"Unknown delimiter '"+t+"'"),null)}function kr(e){return e.type==="small"?"Main-Regular":e.type==="large"?"Size"+e.size+"-Regular":(console.assert(e.type==="stack"),"Size4-Regular")}function Lr(e,t,n,r){var i=Math.min(2,3-r.mathstyle.size);for(var s=i;s<n.length;s++){if(n[s].type==="stack")break;var o=et.getCharacterMetrics(e,kr(n[s]));if(!o)return{type:"small",style:Ct.SCRIPT};var u=o.height+o.depth;n[s].type==="small"&&(u*=n[s].mathstyle.sizeMultiplier);if(u>t)return n[s]}return n[n.length-1]}function Ar(e,t,n,r,i,s){if(!t||t.length===0||t===".")return Mr(e,i,e);if(t==="<"||t==="\\lt")t="\\langle";else if(t===">"||t==="\\gt")t="\\rangle";var o;Er.includes(t)?o=Tr:br.includes(t)?o=Cr:o=Nr;var u=Lr(lr.getValue("math",t),n,o,i);return u.type==="small"?vr(e,t,u.mathstyle,r,i,s):u.type==="large"?mr(e,t,u.size,r,i,s):(console.assert(u.type==="stack"),yr(e,t,n,r,i,s))}function Or(e,t,n,r,i,s){if(t===".")return Mr(e,i,s);var o=i.mathstyle.metrics.axisHeight*i.mathstyle.sizeMultiplier,u=901,a=5/et.metrics.ptPerEm,f=r+o,l=n-o;l=Math.max(f,l);var c=l*u/500;return f=2*l-a,c=Math.max(c,f),Ar(e,t,c,!0,i,s)}function Mr(e,t,n){return sn.makeSpanOfType(e,"","sizing"+t.mathstyle.adjustTo(Ct.TEXT)+" nulldelimiter "+(n||""))}function Dr(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Dr=function(t){return typeof t}:Dr=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dr(e)}function Pr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Br(e,t,n){return t&&Hr(e.prototype,t),n&&Hr(e,n),e}function Wr(e){var t=jr("​","arraycolsep");return t.setWidth(e,"em"),t}function Xr(e,t,n,r){var i=[],s=!0,o=!1,u=undefined;try{for(var a=t[Symbol.iterator](),f;!(s=(f=a.next()).done);s=!0){var l=f.value,c=jr(Yr(e,r));c.depth=l.depth,c.height=l.height,i.push(c),i.push(l.pos-n)}}catch(h){o=!0,u=h}finally{try{!s&&a["return"]!=null&&a["return"]()}finally{if(o)throw u}}return Rr(e,i,"individualShift")}function Vr(e){var t;return typeof e.generateID=="boolean"&&e.generateID?t=Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36):typeof e.generateID!="boolean"&&(e.generateID.overrideID?t=e.generateID.overrideID:(t=e.generateID.seed.toString(36),e.generateID.seed+=1)),t}function $r(e,t,n,r,i,s,o){if(!i&&!s)return t;t=jr(t);var u=0,a=0;i&&(u=Math.max(Ur.bigOpSpacing1,Ur.bigOpSpacing3-i.depth)),s&&(a=Math.max(Ur.bigOpSpacing2,Ur.bigOpSpacing4-s.height));var f=null;if(s&&i){var l=Ur.bigOpSpacing5+sn.height(s)+sn.depth(s)+a+sn.depth(t)+n;f=Rr(e,[Ur.bigOpSpacing5,s,a,t,u,i,Ur.bigOpSpacing5],"bottom",l),f.children[0].setLeft(-r),f.children[2].setLeft(r)}else if(s&&!i){var c=sn.height(t)-n;f=Rr(e,[Ur.bigOpSpacing5,s,a,t],"top",c),f.children[0].setLeft(-r)}else if(!s&&i){var h=sn.depth(t)+n;f=Rr(e,[t,u,i,Ur.bigOpSpacing5],"bottom",h),f.children[1].setLeft(r)}return sn.makeSpanOfType(o,f,"op-limits")}function Gr(e,t){if(typeof e!="string"||e.length>1||e==="​")return Jr[t]||t;console.assert(e&&typeof e=="string");var n="";if(t==="mathit")/[0-9]/.test(e)||e==="\\imath"||e==="\\jmath"||e==="\\pounds"?n="Main-Italic":Qr.test(e)?n="Math-Italic":n="Main-Regular";else if(t==="mathrm")Kr.test(e)?n="Math-Regular":n="Main-Regular";else if(t==="mathbf")Kr.test(e)?n="Math-BoldItalic":n="Main-Bold";else{if(t==="mathbb"||t==="mathscr"){if(!/^[A-Z ]$/.test(e))return null}else if(t==="mathcal"){if(!/^[0-9A-Z ]$/.test(e))return null}else if(t==="mathfrak"){if(!/^[0-9A-Za-z ]$|^[!"#$%&'()*+,\-./:;=?[]^’‘]$/.test(e))return null}else if(t==="mathtt"||t==="texttt"||t==="textsf"||t==="mathsf")if(!/^[0-9A-Za-z ]$|^[!"&'()*+,\-./:;=?@[]^_~\u0131\u0237\u0393\u0394\u0398\u039b\u039e\u03A0\u03A3\u03A5\u03A8\u03a9’‘]$/.test(e))return null;n=Jr[t]}return n}function Yr(e,t){e instanceof Mt.Context||(e.generateID===undefined&&(e.generateID=!1),e.size=e.size||"size5",e.mathstyle=e.mathstyle||"displaystyle",e=new Mt.Context(e));var n=!e.generateID||!e.generateID.groupNumbers,r=[];if(Array.isArray(t)){if(t.length===0)return r;if(t.length===1){r=t[0].decompose(e);if(n&&t[0].isSelected&&r){var i=r.isTight,s=r.type;s==="placeholder"&&(s="mord"),r=sn.makeSpanOfType(s,r,"ML__selected"),r.isTight=i,r=[r]}console.assert(!r||Array.isArray(r))}else{var o="none",u=t[1].type,a=[],f=null,l="",c=!1,h=null;for(var p=0;p<t.length;p++){t[p].type==="mbin"&&(/first|none|mrel|mpunct|mopen|mbin|mop/.test(o)||/none|mrel|mpunct|mclose/.test(u))&&(t[p].type="mord");if(t[p].body!=="​"||!t[p].superscript&&!t[p].subscript)h=null;e.generateID.groupNumbers&&t[p].type==="mord"&&"0123456789,.".indexOf(t[p].latex)>=0&&f&&(e.generateID.overrideID=f);var d=t[p].decompose(e,h);e.generateID&&(e.generateID.overrideID=null);if(d){console.assert(Array.isArray(d));var v=[].concat.apply([],d);h=v,e.generateID&&e.generateID.groupNumbers&&(t[p].type==="mord"&&"0123456789,.".indexOf(t[p].latex)>=0&&(f||(f=t[p].id)),(t[p].type!=="mord"||"0123456789,.".indexOf(t[p].latex)<0||t[p].superscript||t[p].subscript)&&f&&(f=null));if(n&&t[p].isSelected&&!e.isSelected){a=a.concat(v);if(!l){l=t[p].type;if(l==="group"){var m=t[p].getInitialBaseElement();m&&(l=m.type)}l==="array"&&(l="mopen"),l==="leftright"&&(l="minner"),/^(first|accent|surd|genfrac|textord|font|placeholder|box|color)$/.test(l)&&(l="mord"),c=t[p].isTight}}else{if(a.length>0){var g=sn.makeSpanOfType(l,a,"ML__selected");g.isTight=c,r.push(g),a=[],l=""}r=r.concat(v)}}o=t[p].getFinalBaseElement().type,u=p<t.length-1?t[p+1].getInitialBaseElement().type:"none"}if(a.length>0){var y=sn.makeSpanOfType(l,a,"ML__selected");y.isTight=c,r.push(y),a=[],l=""}}}else if(t){r=t.decompose(e);if(t.isSelected&&!e.isSelected){var b=r.type;b==="placeholder"&&(b="mord");var w=sn.makeSpanOfType(b,r,"ML__selected");w.isTight=r.isTight,r=[w]}}if(!r||r.length===0)return null;console.assert(Array.isArray(r)&&r.length>0);var E={size1:.5,size2:.7,size3:.8,size4:.9,size5:1,size6:1.2,size7:1.44,size8:1.73,size9:2.07,size10:2.49};if(e.mathstyle!==e.parentMathstyle){var S=e.mathstyle.sizeMultiplier/e.parentMathstyle.sizeMultiplier,x=!0,T=!1,N=undefined;try{for(var C=r[Symbol.iterator](),k;!(x=(k=C.next()).done);x=!0){var L=k.value;console.assert(!Array.isArray(L)),console.assert(typeof L.height=="number"&&!isNaN(L.height)),L.height*=S,L.depth*=S}}catch(A){T=!0,N=A}finally{try{!x&&C["return"]!=null&&C["return"]()}finally{if(T)throw N}}}if(e.size!==e.parentSize){var O=E[e.size]/E[e.parentSize],M=!0,_=!1,D=undefined;try{for(var P=r[Symbol.iterator](),H;!(M=(H=P.next()).done);M=!0){var B=H.value;console.assert(!Array.isArray(B)),console.assert(typeof B.height=="number"&&!isNaN(B.height)),B.height*=O,B.depth*=O}}catch(A){_=!0,D=A}finally{try{!M&&P["return"]!=null&&P["return"]()}finally{if(_)throw D}}}return r}function Zr(e,t){e=e||"math";var n=new zr(e,"root",null);return n.body=t||[],(n.body.length===0||n.body[0].type!=="first")&&n.body.unshift(new zr(e,"first",null)),n}function si(e){var t=e.toLowerCase().split("!"),n,r,i,s=255,o=255,u=255,a=-1,f=t.length>0&&t[0].charAt(0)==="-";f&&(t[0]=t[0].slice(1));for(var l=0;l<t.length;l++){n=s,r=o,i=u;var c=t[l].match(/([a-z0-9]*)/);c&&(c=c[1]);var h=ii[c]||ti[c];h||(h=t[l]);var p=h.match(/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i);if(p&&p[1]&&p[2]&&p[3])s=Math.max(0,Math.min(255,parseInt(p[1],16))),o=Math.max(0,Math.min(255,parseInt(p[2],16))),u=Math.max(0,Math.min(255,parseInt(p[3],16)));else{p=h.match(/^#([0-9a-f]{3})$/i);if(p&&p[1]){var d=parseInt(p[1][0],16),v=parseInt(p[1][1],16),m=parseInt(p[1][2],16);s=Math.max(0,Math.min(255,d*16+d)),o=Math.max(0,Math.min(255,v*16+v)),u=Math.max(0,Math.min(255,m*16+m))}else{p=h.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i);if(!(p&&p[1]&&p[2]&&p[3]))return null;s=Math.max(0,Math.min(255,parseInt(p[1]))),o=Math.max(0,Math.min(255,parseInt(p[2]))),u=Math.max(0,Math.min(255,parseInt(p[3])))}}a>=0&&(s=(1-a)*s+a*n,o=(1-a)*o+a*r,u=(1-a)*u+a*i,a=-1),l+1<t.length&&(a=Math.max(0,Math.min(100,parseInt(t[++l])))/100)}return a>=0&&(s=a*s+(1-a)*n,o=a*o+(1-a)*r,u=a*u+(1-a)*i),f&&(s=255-s,o=255-o,u=255-u),"#"+("00"+Math.round(s).toString(16)).slice(-2)+("00"+Math.round(o).toString(16)).slice(-2)+("00"+Math.round(u).toString(16)).slice(-2)}function ui(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fi(e,t,n){return t&&ai(e.prototype,t),n&&ai(e,n),e}function di(e,t,n,r,i){var s=[],o=new ci(e,n,r);o.parseMode=t||"math",i&&(o.smartFence=!0);while(!o.end())s=s.concat(o.scanImplicitGroup());return s}function mi(e,t){var n="",r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){var a=u.value;n+=a.relation+":"+a.offset+"/"}}catch(f){i=!0,s=f}finally{try{!r&&o["return"]!=null&&o["return"]()}finally{if(i)throw s}}return t&&(n+="#"+t),n}function gi(e){var t={path:[],extent:0},n=e.split("#");n.length>1&&(t.extent=parseInt(n[1]));var r=n[0].split("/"),i=!0,s=!1,o=undefined;try{for(var u=r[Symbol.iterator](),a;!(i=(a=u.next()).done);i=!0){var f=a.value,l=f.match(/([^:]*):(.*)/);l&&t.path.push({relation:l[1],offset:parseInt(l[2])})}}catch(c){s=!0,o=c}finally{try{!i&&u["return"]!=null&&u["return"]()}finally{if(s)throw o}}return t}function yi(e,t){var n=[],r=Math.min(e.length-1,t.length-1),i=0;while(i<=r&&e[i].relation===t[i].relation&&e[i].offset===t[i].offset)n.push(e[i]),i+=1;return n}function bi(e,t){var n=0,r=-1,i=!1;while(!i)r+=1,i=r>=e.length||r>=t.length,i=i||e[r].relation!==t[r].relation||e[r].offset!==t[r].offset;return r===e.length&&r===t.length?n=0:r+1===e.length&&r+1===t.length&&e[r].relation===t[r].relation?n=1:n=2,n}function wi(e){return gi(mi(e)).path}function Si(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Si=function(t){return typeof t}:Si=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Si(e)}function xi(e,t){this.root=ei.makeRoot(),this.path=[{relation:"body",offset:0}],this.extent=0,this.config=Object.assign({},e),this.target=t,this.suppressContentChangeNotifications=!1,this.suppressSelectionChangeNotifications=!1}function Ti(e){var t=Object.assign(new xi(e.config,e.target),e);return t.path=Ei.clone(e.path),t}function Ni(e,t){var n=0;if(Array.isArray(e.array)){for(var r=0;r<t.row;r++)for(var i=0;i<e.array[r].length;i++)n+=1;n+=t.col}return n}function Ci(e,t){var n={row:0,col:0};while(t>0){n.col+=1;if(!e.array[n.row]||n.col>=e.array[n.row].length)n.col=0,n.row+=1;t-=1}return n}function ki(e,t){var n;Array.isArray(e.array)&&(typeof t=="number"&&(t=Ci(e,t)),Array.isArray(e.array[t.row])&&(n=e.array[t.row][t.col]||null));if(n&&(n.length===0||n[0].type!=="first")){var r=new ei.MathAtom(e.parseMode,"first",null);n.unshift(r)}return n}function Li(e){var t=0;if(Array.isArray(e.array)){var n=0,r=1,i=!0,s=!1,o=undefined;try{for(var u=e.array[Symbol.iterator](),a;!(i=(a=u.next()).done);i=!0){var f=a.value;n+=1,f.length>r&&(r=f.length)}}catch(l){s=!0,o=l}finally{try{!i&&u["return"]!=null&&u["return"]()}finally{if(s)throw o}}t=n*r}return t}function Ai(e,t){if(!e)return!1;if(Array.isArray(e)){var n=!0,r=!1,i=undefined;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done);n=!0){var u=o.value;if(Ai(u,t))return!0}}catch(a){r=!0,i=a}finally{try{!n&&s["return"]!=null&&s["return"]()}finally{if(r)throw i}}}else{if(e===t)return!0;if(["body","numer","denom","index","subscript","superscript","underscript","overscript"].some(function(n){return n===t||Ai(e[n],t)}))return!0;if(e.array)for(var f=Li(e);f>=0;f--)if(Ai(ki(e,f),t))return!0}return!1}function Oi(e){if(!e)return"";if(Array.isArray(e)){var t="",n=!0,r=!1,i=undefined;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done);n=!0){var u=o.value;t+=Oi(u)}}catch(a){r=!0,i=a}finally{try{!n&&s["return"]!=null&&s["return"]()}finally{if(r)throw i}}return t}if(e.type==="array"||e.type==="surd"||e.type==="rule"||e.type==="overunder"||e.type==="box"||e.type==="enclose"||e.type==="placeholder"||e.type==="command")return"�";if(e.type==="genfrac")return"("+Oi(e.numer)+")/("+Oi(e.denom)+")";if(e.type==="leftright")return(e.leftDelim||"")+Oi(e.body)+(e.rightDelim==="?"?"":e.rightDelim||"");if(e.type==="delim"||e.type==="sizeddelim")return e.delim;if(e.type==="spacing"||e.type==="space")return" ";if(e.type==="mathstyle"||e.type==="sizing"||e.type==="first")return"";if(typeof e.body=="string")return e.body;if(Array.isArray(e.body)){var f="",l=!0,c=!1,h=undefined;try{for(var p=e.body[Symbol.iterator](),d;!(l=(d=p.next()).done);l=!0){var v=d.value;f+=Oi(v)}}catch(a){c=!0,h=a}finally{try{!l&&p["return"]!=null&&p["return"]()}finally{if(c)throw h}}return f}return""}function Mi(e){return e?(e&&e.length===1&&e[0].type==="leftright"&&e[0].leftDelim==="("&&(e=e[0].body),e):undefined}function _i(e,t){if(!e)return null;var n;if(Array.isArray(e)){if(e.length===1)return _i(e[0],t);n=[];var r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){var a=u.value,f=_i(a,t);Array.isArray(f)?n=n.concat(f):n.push(f)}}catch(l){i=!0,s=l}finally{try{!r&&o["return"]!=null&&o["return"]()}finally{if(i)throw s}}if(n.length===0)return null}else t.color&&e.type==="color"||t.backgroundColor&&e.type==="box"?(e.body[0].type==="first"&&e.body.shift(),n=_i(e.body,t)):Si(e)==="object"?(e.body=_i(e.body,t),e.superscript=_i(e.superscript,t),e.subscript=_i(e.subscript,t),e.index=_i(e.index,t),e.denom=_i(e.denom,t),e.numer=_i(e.numer,t),e.array=_i(e.array,t),n=e):n=e;return n}function Bi(e){var t;e.key==="Unidentified"&&e.target&&(t=Hi[e.target.value]||e.target.value),t||(t=Pi[e.key]||e.code,t||(t=Hi[e.key.toLowerCase()]||e.key));var n=[];return e.ctrlKey&&n.push("Ctrl"),e.metaKey&&n.push("Meta"),e.altKey&&n.push("Alt"),e.shiftKey&&n.push("Shift"),n.length===0?t:(n.push(t),n.join("-"))}function ji(e,t){function u(e){clearTimeout(o),o=setTimeout(function(){clearTimeout(o),e()})}function a(){if(Fi(e))return;var n=e.value;e.value="",n.length>0&&t.typedText(n)}function f(o){return o.key==="Dead"||o.key==="Unidentified"||o.keyCode===229?(s=!0,i=!1,e.blur(),e.focus()):s=!1,!i&&o.code!=="CapsLock"&&!/(Control|Meta|Alt|Shift)(Right|Left)/.test(o.code)?(n=o,r=null,t.keystroke(Bi(o),o)):!0}function l(e){i||(n&&r&&t.keystroke(Bi(n),n),r=e,u(a))}function c(){!i&&n&&!r&&a()}function h(){e.focus();var n=e.value;e.value="",n.length>0&&t.paste(n)}function p(e){t.copy&&t.copy(e)}function d(e){t.cut&&t.cut(e)}function v(){n=null,r=null}function m(){}var n=null,r=null,i=!1,s=!1,o,g=e||t.container;g.addEventListener("keydown",f,!0),g.addEventListener("keypress",l,!0),g.addEventListener("keyup",c,!0),g.addEventListener("paste",h,!0),g.addEventListener("copy",p,!0),g.addEventListener("cut",d,!0),g.addEventListener("blur",v,!0),g.addEventListener("focus",m,!0),g.addEventListener("compositionstart",function(){i=!0},!0),g.addEventListener("compositionend",function(){i=!1,u(a)},!0),g.addEventListener("input",function(){s?(e.blur(),e.focus(),s=!1,i=!1,u(a)):i||u(a)})}function Fi(e){return e.selectionStart!==e.selectionEnd}function Ii(e){var t;return e.key==="Unidentified"&&e.target&&(t=e.target.value),t=t||e.key||e.code,/^(Return|Enter|Tab|Escape|Delete|PageUp|PageDown|Home|End|Help|ArrowLeft|ArrowRight|ArrowUp|ArrowDown)$/.test(t)&&(t=""),t}function qi(e){var t={key:e,metaKey:!1,ctrlKey:!1,altKey:!1,shiftKey:!1};return t}function Ui(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wi(e,t,n){return t&&zi(e.prototype,t),n&&zi(e,n),e}function Qi(e,t){var n=[],r=function(i){var s=e.slice(i),o=t&&t.overrideDefaultInlineShortcuts;o||Object.keys(Ki).forEach(function(e){e.startsWith(s)&&!n.includes(e)&&n.push(e)});var u=t&&t.inlineShortcuts?t.inlineShortcuts:null;u&&Object.keys(u).forEach(function(e){e.startsWith(s)&&n.push(e)})};for(var i=0;i<=e.length-1;i++)r(i);return n}function Gi(e,t){var n=[],r=t&&t.overrideDefaultInlineShortcuts;r||(n=Ki[e]);var i=t&&t.inlineShortcuts?t.inlineShortcuts:null,s;return i&&(s=i[e]),s||n}function Yi(e){var t="other";return navigator&&navigator.platform&&navigator.userAgent&&(/^(mac)/i.test(navigator.platform)?t="mac":/^(win)/i.test(navigator.platform)?t="win":/(android)/i.test(navigator.userAgent)?t="android":/(iphone)/i.test(navigator.userAgent)||/(ipod)/i.test(navigator.userAgent)||/(ipad)/i.test(navigator.userAgent)?t="ios":/\bCrOS\b/i.test(navigator.userAgent)&&(t="chromeos")),t===e?e:"!"+e}function Zi(e,t){for(var n=0,r=[Yi("mac")+":"+e+":"+t,Yi("win")+":"+e+":"+t,Yi("ios")+":"+e+":"+t,Yi("android")+":"+e+":"+t,Yi("chromeos")+":"+e+":"+t,Yi("other")+":"+e+":"+t,Yi("mac")+":"+t,Yi("win")+":"+t,Yi("ios")+":"+t,Yi("android")+":"+t,Yi("chromeos")+":"+t,e+":"+t,t];n<r.length;n++){var i=r[n];if($i[i])return $i[i]}return""}function es(e){var t=e;return Array.isArray(t)&&t.length>0&&(t=t[0]+"("+t.slice(1).join("")+")"),t}function ts(e){var t=[];if(typeof e=="string"){var n=Ji[e];Array.isArray(n)?t=n.slice():n&&t.push(n)}e=es(e);var r=new RegExp("^"+e.replace("\\","\\\\").replace("|","\\|").replace("*","\\*").replace("$","\\$").replace("^","\\^")+"([^*a-zA-Z]|$)");for(var i in $i)if($i.hasOwnProperty(i)&&r.test(es($i[i]))){var s=i.match(/:([^:]*)$/);s&&t.push(s[1])}return ns(t)}function ns(e,t){var n="";Array.isArray(e)||(e=[e]);var r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){var a=u.value,f=void 0,l=a.match(/(^[^:]*):/),c=l?l[1]:"";if(c===Yi("mac")||c===Yi("win")||c===Yi("ios")||c===Yi("android")||c===Yi("chromeos")||c===Yi("other")){var h=a.match(/:([^:]*)$/);f=h?h[1]:a}else if(!["mac","!mac","win","!win","ios","!ios","android","!android","chromeos","!chromeos","other","!other"].includes(c)){var p=a.match(/:([^:]*)$/);f=p?p[1]:a}if(f){var d=Yi("mac")==="mac"||Yi("ios")==="ios",v=f.length>1?f.split("-"):[f],m="",g=!0,y=!1,b=undefined;try{for(var w=v[Symbol.iterator](),E;!(g=(E=w.next()).done);g=!0){var S=E.value;!d&&m.length>0&&(m+='<span class="ML__shortcut-join">+</span>'),S.substr(0,3)==="Key"?m+=S.substr(3,1):S.substr(0,5)==="Digit"?m+=S.substr(5,1):m+={Meta:d?"⌘":"command",Shift:d?"⇧":"shift",Alt:d?"⌥":"alt",Ctrl:d?"⌃":"control","\n":d?"⏎":"return",Return:d?"⏎":"return",Enter:d?"⌤":"enter",Tab:d?"⇥":"tab",Esc:"esc",Backspace:d?"⌫":"backspace",Del:d?"⌦":"del",PageUp:d?"⇞":"page up",PageDown:d?"⇟":"page down",Home:d?"⤒":"home",End:d?"⤓":"end",Spacebar:"space",Semicolon:";",Period:".",Comma:",",Minus:"-",Equal:"=",Quote:"'",BracketLeft:"[",BracketRight:"]",Backslash:"\\",IntlBackslash:"\\",Backquote:"`",Slash:"/",NumpadMultiply:"* &#128290;",NumpadDivide:"/ &#128290;",NumpadSubstract:"- &#128290;",NumpadAdd:"+ &#128290;",NumpadDecimal:". &#128290;",NumpadComma:", &#128290;",Help:"help",Left:"⇠",Up:"⇡",Right:"⇢",Down:"⇣"}[S]||S}}catch(x){y=!0,b=x}finally{try{!g&&w["return"]!=null&&w["return"]()}finally{if(y)throw b}}n.length>0&&(n+=t||" or "),n+=m}}}catch(x){i=!0,s=x}finally{try{!r&&o["return"]!=null&&o["return"]()}finally{if(i)throw s}}return n}function os(e){var t=ss[e]||"";return Array.isArray(t)&&(t=t.join("<br>")),t}function us(e,t){var n=vi.parseTokens(A.tokenize(e),"math",null,t.config.macros),r=ei.decompose({mathstyle:"displaystyle",macros:t.config.macros},n),i=sn.makeSpan(r,"ML__base"),s=sn.makeSpan("","ML__strut");s.setStyle("height",i.height,"em");var o=sn.makeSpan("","ML__strut--bottom");o.setStyle("height",i.height+i.depth,"em"),o.setStyle("vertical-align",-i.depth,"em");var u=sn.makeSpan([s,o,i],"ML__mathlive");return u.toMarkup()}function as(e,t,n){if(!t||t.length===0){cs(e);return}var r=t,i=us(is[r]||t,e),s=os(r),o=rs.forCommand(r),u=n?'<div class="ML__popover__prev-shortcut" role="button" aria-label="Previous suggestion"><span><span>&#x25B2;</span></span></div>':"";u+='<span class="ML__popover__content">',u+='<div class="ML__popover__command" role="button" >'+i+"</div>",s&&(u+='<div class="ML__popover__note">'+s+"</div>"),o&&(u+='<div class="ML__popover__shortcut">'+o+"</div>"),u+="</span>",u+=n?'<div class="ML__popover__next-shortcut" role="button" aria-label="Next suggestion"><span><span>&#x25BC;</span></span></div>':"",ls(e,u);var a=e.popover.getElementsByClassName("ML__popover_content");a&&a.length>0&&e._attachButtonHandlers(a[0],"complete"),a=e.popover.getElementsByClassName("ML__popover__prev-shortcut"),a&&a.length>0&&e._attachButtonHandlers(a[0],"previousSuggestion"),a=e.popover.getElementsByClassName("ML__popover__next-shortcut"),a&&a.length>0&&e._attachButtonHandlers(a[0],"nextSuggestion")}function fs(e,t){if(e.popover.classList.contains("is-visible"))if(t&&t.deferred)setTimeout(fs.bind(null,e),0);else if(e.blurred||!e.mathlist.anchor()||e.mathlist.anchor().type!=="command")cs(e);else{var n=e._getCaretPosition();n&&(e.popover.style.left=n.x-e.popover.offsetWidth/2+"px",e.popover.style.top=n.y+5+"px")}}function ls(e,t){e.popover.innerHTML=t;var n=e._getCaretPosition();n&&(e.popover.style.left=n.x-e.popover.offsetWidth/2+"px",e.popover.style.top=n.y+5+"px"),e.popover.classList.add("is-visible")}function cs(e){e.popover.classList.remove("is-visible")}function ps(e,t){var n="";if(Array.isArray(e)){var r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){var a=u.value;n+=ps(a,t)}}catch(f){i=!0,s=f}finally{try{!r&&o["return"]!=null&&o["return"]()}finally{if(i)throw s}}}else typeof e=="number"||typeof e=="boolean"?n=e.toString():typeof e=="string"?n=e.replace(/\s/g,"~"):e&&typeof e.toLatex=="function"&&(n=e.toLatex(t));return n}function vs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vs=function(t){return typeof t}:vs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vs(e)}function Es(e,t,n){e=e.replace(/(^|[^\\])#@/g,"$1#?");var r=vi.parseTokens(A.tokenize(e),"math",t,n.config.macros),i=ei.decompose({mathstyle:"displaystyle",macros:n.config.macros},r),s=sn.makeSpan(i,"ML__base"),o=sn.makeSpan("","ML__strut");o.setStyle("height",s.height,"em");var u=sn.makeSpan("","ML__strut--bottom");u.setStyle("height",s.height+s.depth,"em"),u.setStyle("vertical-align",-s.depth,"em");var a=sn.makeSpan([o,u,s],"ML__mathlive");return a.toMarkup()}function Ss(e,t,n){var r="<div class='left'>",i=t.replace(/\s+/g," ").split(" ");if(i.length>1){var s=Object.assign({},ms,e.config.customVirtualKeyboards||{}),o=!0,u=!1,a=undefined;try{for(var f=i[Symbol.iterator](),l;!(o=(l=f.next()).done);o=!0){var c=l.value;if(!s[c]){console.error('Unknown virtual keyboard "'+c+'"');break}r+="<div class='",c===n?r+="selected ":s[c].command?r+="action ":r+="layer-switch ",r+=(s[c].classes||"")+"'",s[c].tooltip&&(r+="data-tooltip='"+s[c].tooltip+"' ",r+="data-placement='top' data-delay='1s'"),c!==n&&(s[c].command&&(r+="data-command='\""+s[c].command+"\"'"),s[c].layer&&(r+="data-layer='"+s[c].layer+"'")),r+=">"+s[c].label+"</div>"}}catch(h){u=!0,a=h}finally{try{!o&&f["return"]!=null&&f["return"]()}finally{if(u)throw a}}}return r+="</div>",r+="\n        <div class='right'>\n            <div class='action'\n                data-command='\"copyToClipboard\"'\n                data-tooltip='Copy to Clipboard' data-placement='top' data-delay='1s'>\n                <svg><use xlink:href='#svg-copy' /></svg>\n            </div>\n            <div class='action disabled'\n                data-command='\"undo\"'\n                data-tooltip='Undo' data-placement='top' data-delay='1s'>\n                <svg><use xlink:href='#svg-undo' /></svg>\n            </div>\n            <div class='action disabled'\n                data-command='\"redo\"'\n                data-tooltip='Redo' data-placement='top' data-delay='1s'>\n                <svg><use xlink:href='#svg-redo' /></svg>\n            </div>\n        </div>\n    ","<div class='keyboard-toolbar' role='toolbar'>"+r+"</div>"}function xs(e,t,n){for(var r=0;r<t.length;++r){var i=t[r];i.getAttribute("data-latex")?i.innerHTML=Es(i.getAttribute("data-latex").replace(/&quot;/g,'"'),{"?":'{\\color{#555}{\\tiny \\char"2B1A}}'},e):i.innerHTML===""&&i.getAttribute("data-insert")?i.innerHTML=Es(i.getAttribute("data-insert").replace(/&quot;/g,'"'),{"?":'{\\color{#555}{\\tiny \\char"2B1A}}'},e):i.getAttribute("data-content")&&(i.innerHTML=i.getAttribute("data-content").replace(/&quot;/g,'"')),i.getAttribute("data-aside")&&(i.innerHTML+="<aside>"+i.getAttribute("data-aside").replace(/&quot;/g,'"')+"</aside>"),i.getAttribute("data-classes")&&i.classList.add(i.getAttribute("data-classes"));var s=i.getAttribute("data-insert");s&&(s=s.replace(/&quot;/g,'"')),s&&gs[s]&&(i.setAttribute("data-shifted",gs[s].label),i.setAttribute("data-shifted-command",JSON.stringify(["insertAndUnshiftKeyboardLayer",gs[s].insert])));var o=void 0;i.getAttribute("data-command")?o=JSON.parse(i.getAttribute("data-command")):i.getAttribute("data-insert")?o=["insert",i.getAttribute("data-insert"),{focus:!0,feedback:!0}]:i.getAttribute("data-latex")?o=["insert",i.getAttribute("data-latex"),{focus:!0,feedback:!0}]:o=["typedText",i.getAttribute("data-key")||i.textContent,{focus:!0,feedback:!0,simulateKeystroke:!0}],n&&(o=[n,o]);if(i.getAttribute("data-alt-keys")){var u=bs[i.getAttribute("data-alt-keys")];u?o={"default":o,pressAndHoldStart:["showAlternateKeys",i.getAttribute("data-alt-keys"),u],pressAndHoldEnd:"hideAlternateKeys"}:console.log('Unknown alt key set: "'+i.getAttribute("data-alt-keys"))}e._attachButtonHandlers(i,o)}}function Ts(e,t){var n={qwerty:{"lower-1":"qwertyuiop","lower-2":" asdfghjkl ","lower-3":"^zxcvbnm~","upper-1":"QWERTYUIOP","upper-2":" ASDFGHJKL ","upper-3":"^ZXCVBNM~","numpad-1":"789/","numpad-2":"456*","numpad-3":"123-","numpad-4":"0.=+"},azerty:{"lower-1":"azertyuiop","lower-2":"qsdfghjklm","lower-3":"^ wxcvbn ~","upper-1":"AZERTYUIOP","upper-2":"QSDFGHJKLM","upper-3":"^ WXCVBN ~"},qwertz:{"lower-1":"qwertzuiop","lower-2":" asdfghjkl ","lower-3":"^yxcvbnm~","upper-1":"QWERTZUIOP","upper-2":" ASDFGHJKL","upper-3":"^YXCVBNM~"},dvorak:{"lower-1":"^  pyfgcrl ","lower-2":"aoeuidhtns","lower-3":"qjkxbmwvz~","upper-1":"^  PYFGCRL ","upper-2":"AOEUIDHTNS","upper-3":"QJKXBMWVZ~"},colemak:{"lower-1":" qwfpgjluy ","lower-2":"arstdhneio","lower-3":"^zxcvbkm~","upper-1":" QWFPGNLUY ","upper-2":"ARSTDHNEIO","upper-3":"^ZXCVBKM~"}},r=n[e.config.virtualKeyboardLayout]?n[e.config.virtualKeyboardLayout]:n.qwerty,i=t,s;i=i.replace(/<arrows\/>/g,"\n        <li class='action' data-command='[\"performWithFeedback\",\"moveToPreviousChar\"]'\n            data-shifted='<svg><use xlink:href=\"#svg-angle-double-left\" /></svg>'\n            data-shifted-command='[\"performWithFeedback\",\"extendToPreviousChar\"]'>\n            <svg><use xlink:href='#svg-arrow-left' /></svg>\n        </li>\n        <li class='action' data-command='[\"performWithFeedback\",\"moveToNextChar\"]'\n            data-shifted='<svg><use xlink:href=\"#svg-angle-double-right\" /></svg>'\n            data-shifted-command='[\"performWithFeedback\",\"extendToNextChar\"]'>\n            <svg><use xlink:href='#svg-arrow-right' /></svg>\n        </li>\n        <li class='action' data-command='[\"performWithFeedback\",\"moveToNextPlaceholder\"]'>\n        <svg><use xlink:href='#svg-tab' /></svg></li>");var o=i.match(/(<row\s+)(.*)((?:<\/row|\/)>)/);while(o){s="";var u=o[2].match(/[a-zA-Z][a-zA-Z0-9-]*=(['"])(.*?)\1/g),a={},f=!0,l=!1,c=undefined;try{for(var h=u[Symbol.iterator](),p;!(f=(p=h.next()).done);f=!0){var d=p.value,v=d.match(/([a-zA-Z][a-zA-Z0-9-]*)=(['"])(.*?)\2/);a[v[1]]=v[3]}}catch(m){l=!0,c=m}finally{try{!f&&h["return"]!=null&&h["return"]()}finally{if(l)throw c}}var g=r[a.name];g||(g=n.qwerty[a.name]);if(!g)console.log("Unknown roman keyboard row: "+a.name);else{var y=!0,b=!1,w=undefined;try{for(var E=g[Symbol.iterator](),S;!(y=(S=E.next()).done);y=!0){var x=S.value,T=a["class"]||"";T&&(T=" "+T),x==="~"?(s+="<li class='action font-glyph bottom right ",s+=g.length-(g.match(/ /g)||[]).length/2===10?"w10":"w15",s+='\' data-shifted=\'<span class="warning"><svg><use xlink:href="#svg-trash" /></svg></span>\'\n                        data-shifted-command=\'"deleteAll"\'\n                        data-alt-keys=\'delete\' data-command=\'["performWithFeedback","deletePreviousChar"]\'\n                        >&#x232b;</li>'):x===" "?s+="<li class='separator w5'></li>":x==="^"?s+="<li class='shift modifier font-glyph bottom left w15 layer-switch' data-layer='"+a["shift-layer"]+"'>&#x21e7;</li>":x==="/"?s+="<li class='keycap"+T+"' data-alt-keys='/' data-insert='\\frac{#0}{#?}'>&divide;</li>":x==="*"?s+="<li class='keycap"+T+"' data-alt-keys='*' data-insert='\\times '>&times;</li>":x==="-"?s+="<li class='keycap"+T+"' data-alt-keys='*' data-key='-' data-alt-keys='-'>&#x2212;</li>":/tt/.test(T)?s+="<li class='keycap"+T+"' data-alt-keys='"+x+"'"+' data-command=\'["typedText","'+x+'",{"commandMode":true, "focus":true, "feedback":true}]\''+">"+x+"</li>":s+="<li class='keycap"+T+"' data-alt-keys='"+x+"'>"+x+"</li>"}}catch(m){b=!0,w=m}finally{try{!y&&E["return"]!=null&&E["return"]()}finally{if(b)throw w}}}i=i.replace(new RegExp(o[1]+o[2]+o[3]),s),o=i.match(/(<row\s+)(.*)((?:<\/row|\/)>)/)}return i}function Ns(e,t){var n='<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">\n\n            <symbol id="svg-command" viewBox="0 0 640 512">\n                <path d="M34.495 36.465l211.051 211.05c4.686 4.686 4.686 12.284 0 16.971L34.495 475.535c-4.686 4.686-12.284 4.686-16.97 0l-7.071-7.07c-4.686-4.686-4.686-12.284 0-16.971L205.947 256 10.454 60.506c-4.686-4.686-4.686-12.284 0-16.971l7.071-7.07c4.686-4.687 12.284-4.687 16.97 0zM640 468v-10c0-6.627-5.373-12-12-12H300c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h328c6.627 0 12-5.373 12-12z"/>\n            </symbol>\n\n            <symbol id="svg-undo" viewBox="0 0 512 512">\n                <path d="M20 8h10c6.627 0 12 5.373 12 12v110.625C85.196 57.047 165.239 7.715 256.793 8.001 393.18 8.428 504.213 120.009 504 256.396 503.786 393.181 392.834 504 256 504c-63.926 0-122.202-24.187-166.178-63.908-5.113-4.618-5.354-12.561-.482-17.433l7.069-7.069c4.503-4.503 11.749-4.714 16.482-.454C150.782 449.238 200.935 470 256 470c117.744 0 214-95.331 214-214 0-117.744-95.331-214-214-214-82.862 0-154.737 47.077-190.289 116H180c6.627 0 12 5.373 12 12v10c0 6.627-5.373 12-12 12H20c-6.627 0-12-5.373-12-12V20c0-6.627 5.373-12 12-12z"/>\n            </symbol>\n            <symbol id="svg-redo" viewBox="0 0 512 512">\n                <path d="M492 8h-10c-6.627 0-12 5.373-12 12v110.625C426.804 57.047 346.761 7.715 255.207 8.001 118.82 8.428 7.787 120.009 8 256.396 8.214 393.181 119.166 504 256 504c63.926 0 122.202-24.187 166.178-63.908 5.113-4.618 5.354-12.561.482-17.433l-7.069-7.069c-4.503-4.503-11.749-4.714-16.482-.454C361.218 449.238 311.065 470 256 470c-117.744 0-214-95.331-214-214 0-117.744 95.331-214 214-214 82.862 0 154.737 47.077 190.289 116H332c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h160c6.627 0 12-5.373 12-12V20c0-6.627-5.373-12-12-12z"/>\n            </symbol>\n            <symbol id="svg-arrow-left" viewBox="0 0 192 512">\n                <path d="M25.1 247.5l117.8-116c4.7-4.7 12.3-4.7 17 0l7.1 7.1c4.7 4.7 4.7 12.3 0 17L64.7 256l102.2 100.4c4.7 4.7 4.7 12.3 0 17l-7.1 7.1c-4.7 4.7-12.3 4.7-17 0L25 264.5c-4.6-4.7-4.6-12.3.1-17z"/>\n            </symbol>\n            <symbol id="svg-arrow-right" viewBox="0 0 192 512">\n                    <path d="M166.9 264.5l-117.8 116c-4.7 4.7-12.3 4.7-17 0l-7.1-7.1c-4.7-4.7-4.7-12.3 0-17L127.3 256 25.1 155.6c-4.7-4.7-4.7-12.3 0-17l7.1-7.1c4.7-4.7 12.3-4.7 17 0l117.8 116c4.6 4.7 4.6 12.3-.1 17z"/>\n            </symbol>\n            <symbol id="svg-tab" viewBox="0 0 448 512">\n                    <path d="M32 217.1c0-8.8 7.2-16 16-16h144v-93.9c0-7.1 8.6-10.7 13.6-5.7l143.5 143.1c6.3 6.3 6.3 16.4 0 22.7L205.6 410.4c-5 5-13.6 1.5-13.6-5.7v-93.9H48c-8.8 0-16-7.2-16-16v-77.7m-32 0v77.7c0 26.5 21.5 48 48 48h112v61.9c0 35.5 43 53.5 68.2 28.3l143.6-143c18.8-18.8 18.8-49.2 0-68L228.2 78.9c-25.1-25.1-68.2-7.3-68.2 28.3v61.9H48c-26.5 0-48 21.6-48 48zM436 64h-8c-6.6 0-12 5.4-12 12v360c0 6.6 5.4 12 12 12h8c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12z"/>\n            </symbol>\n            <symbol id="svg-copy" viewBox="0 0 448 512">\n                <path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM352 32.491a15.88 15.88 0 0 1 7.431 4.195l51.882 51.883A15.885 15.885 0 0 1 415.508 96H352V32.491zM288 464c0 8.822-7.178 16-16 16H48c-8.822 0-16-7.178-16-16V144c0-8.822 7.178-16 16-16h80v240c0 26.51 21.49 48 48 48h112v48zm128-96c0 8.822-7.178 16-16 16H176c-8.822 0-16-7.178-16-16V48c0-8.822 7.178-16 16-16h144v72c0 13.2 10.8 24 24 24h72v240z"/>\n            </symbol>\n            <symbol id="svg-angle-double-right" viewBox="0 0 320 512">\n                <path d="M166.9 264.5l-117.8 116c-4.7 4.7-12.3 4.7-17 0l-7.1-7.1c-4.7-4.7-4.7-12.3 0-17L127.3 256 25.1 155.6c-4.7-4.7-4.7-12.3 0-17l7.1-7.1c4.7-4.7 12.3-4.7 17 0l117.8 116c4.6 4.7 4.6 12.3-.1 17zm128-17l-117.8-116c-4.7-4.7-12.3-4.7-17 0l-7.1 7.1c-4.7 4.7-4.7 12.3 0 17L255.3 256 153.1 356.4c-4.7 4.7-4.7 12.3 0 17l7.1 7.1c4.7 4.7 12.3 4.7 17 0l117.8-116c4.6-4.7 4.6-12.3-.1-17z"/>\n            </symbol>\n            <symbol id="svg-angle-double-left" viewBox="0 0 320 512">\n                <path d="M153.1 247.5l117.8-116c4.7-4.7 12.3-4.7 17 0l7.1 7.1c4.7 4.7 4.7 12.3 0 17L192.7 256l102.2 100.4c4.7 4.7 4.7 12.3 0 17l-7.1 7.1c-4.7 4.7-12.3 4.7-17 0L153 264.5c-4.6-4.7-4.6-12.3.1-17zm-128 17l117.8 116c4.7 4.7 12.3 4.7 17 0l7.1-7.1c4.7-4.7 4.7-12.3 0-17L64.7 256l102.2-100.4c4.7-4.7 4.7-12.3 0-17l-7.1-7.1c-4.7-4.7-12.3-4.7-17 0L25 247.5c-4.6 4.7-4.6 12.3.1 17z"/>\n            </symbol>\n            <symbol id="svg-trash" viewBox="0 0 448 512">\n                <path d="M336 64l-33.6-44.8C293.3 7.1 279.1 0 264 0h-80c-15.1 0-29.3 7.1-38.4 19.2L112 64H24C10.7 64 0 74.7 0 88v2c0 3.3 2.7 6 6 6h26v368c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V96h26c3.3 0 6-2.7 6-6v-2c0-13.3-10.7-24-24-24h-88zM184 32h80c5 0 9.8 2.4 12.8 6.4L296 64H152l19.2-25.6c3-4 7.8-6.4 12.8-6.4zm200 432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V96h320v368zm-176-44V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm-80 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm160 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12z"/>\n            </symbol>\n        </svg>\n        ',r=n;r+='<div class="alternate-keys"></div>',ys["foreground-color"]=[];var i=!0,s=!1,o=undefined;try{for(var u=oi.LINE_COLORS[Symbol.iterator](),a;!(i=(a=u.next()).done);i=!0){var f=a.value;ys["foreground-color"].push({classes:"small-button",content:'<span style="border-radius:50%;width:32px;height:32px; background:'+f+'"></span>',command:'["applyStyle",{"color":"'+f+'"}]'})}}catch(l){s=!0,o=l}finally{try{!i&&u["return"]!=null&&u["return"]()}finally{if(s)throw o}}ys["background-color"]=[];var c=!0,h=!1,p=undefined;try{for(var d=oi.AREA_COLORS[Symbol.iterator](),v;!(c=(v=d.next()).done);c=!0){var m=v.value;ys["background-color"].push({classes:"small-button",content:'<span style="border-radius:50%;width:32px;height:32px; background:'+m+'"></span>',command:'["applyStyle",{"backgroundColor":"'+m+'"}]'})}}catch(l){h=!0,p=l}finally{try{!c&&d["return"]!=null&&d["return"]()}finally{if(h)throw p}}bs={},bs=Object.assign({},ys);for(var g in bs)bs.hasOwnProperty(g)&&(bs[g]=bs[g].slice());var y="ABCDEFGHIJKLMNOPQRSTUVWXYZ",b="abcdefghijklmnopqrstuvwxyz",w="0123456789";for(var E=0;E<26;E++){var S=y[E];bs[S]||(bs[S]=[]),bs[S].unshift({latex:"\\mathbb{"+S+"}",aside:"blackboard",insert:"\\mathbb{"+S+"}"}),bs[S].unshift({latex:"\\mathbf{"+S+"}",aside:"bold",insert:"\\mathbf{"+S+"}"}),bs[S].unshift({latex:"\\mathsf{"+S+"}",aside:"sans",insert:"\\mathsf{"+S+"}"}),bs[S].unshift({latex:"\\mathtt{"+S+"}",aside:"monospace",insert:"\\mathtt{"+S+"}"}),bs[S].unshift({latex:"\\mathcal{"+S+"}",aside:"script",insert:"\\mathcal{"+S+"}"}),bs[S].unshift({latex:"\\mathfrak{"+S+"}",aside:"fraktur",insert:"\\mathfrak{"+S+"}"}),bs[S].unshift({latex:"\\mathbb{"+b[E]+"}",aside:"blackboard",insert:"\\mathbb{"+b[E]+"}"}),bs[S].unshift({latex:"\\mathbf{"+b[E]+"}",aside:"bold",insert:"\\mathbf{"+b[E]+"}"}),bs[S].unshift({latex:"\\mathsf{"+b[E]+"}",aside:"sans",insert:"\\mathsf{"+b[E]+"}"}),bs[S].unshift({latex:"\\mathcal{"+b[E]+"}",aside:"script",insert:"\\mathcal{"+b[E]+"}"}),bs[S].unshift({latex:"\\mathfrak{"+b[E]+"}",aside:"fraktur",insert:"\\mathfrak{"+b[E]+"}"})}for(var x=0;x<=26;x++){var T=b[x];bs[T]||(bs[T]=[]),bs[T].unshift({latex:"\\mathsf{"+T+"}",aside:"sans",insert:"\\mathbb{"+T+"}"}),bs[T].unshift({latex:"\\mathbf{"+T+"}",aside:"bold",insert:"\\mathbf{"+T+"}"}),bs[T].unshift({latex:"\\mathtt{"+T+"}",aside:"monospace",insert:"\\mathtt{"+T+"}"}),bs[T].unshift({latex:"\\mathfrak{"+T+"}",aside:"fraktur",insert:"\\mathfrak{"+T+"}"})}for(var N=0;N<10;N++){var C=w[N];bs[C]||(bs[C]=[]),bs[C].unshift({latex:"\\mathbf{"+C+"}",aside:"bold",insert:"\\mathbf{"+C+"}"}),bs[C].unshift({latex:"\\mathsf{"+C+"}",aside:"sans",insert:"\\mathsf{"+C+"}"}),bs[C].unshift({latex:"\\mathtt{"+C+"}",aside:"monospace",insert:"\\mathtt{"+C+"}"}),bs[C].unshift({latex:"\\mathcal{"+C+"}",aside:"script",insert:"\\mathcal{"+C+"}"}),bs[C].unshift({latex:"\\mathfrak{"+C+"}",aside:"fraktur",insert:"\\mathfrak{"+C+"}"})}var k=e.config.virtualKeyboards;k||(k="all"),k=k.replace(/\ball\b/i,"numeric roman greek functions command");var L=Object.assign({},ws,e.config.customVirtualKeyboardLayers||{}),A=Object.assign({},ms,e.config.customVirtualKeyboards||{}),O=k.replace(/\s+/g," ").split(" "),M=!0,_=!1,D=undefined;try{for(var P=O[Symbol.iterator](),H;!(M=(H=P.next()).done);M=!0){var B=H.value;if(!A[B]){console.error('Unknown virtual keyboard "'+B+'"');break}var j=A[B].layers||[];A[B].layer&&j.push(A[B].layer),j=Array.from(new Set(j));var F=!0,I=!1,q=undefined;try{for(var R=j[Symbol.iterator](),U;!(F=(U=R.next()).done);F=!0){var z=U.value;if(!L[z]){console.error('Unknown virtual keyboard layer: "'+z+'"');break}if(vs(L[z])==="object"){var W="";L[z].styles&&(W+="<style>".concat(L[z].styles,"</style>")),L[z].backdrop&&(W+="<div class='".concat(L[z].backdrop,"'>")),L[z].container&&(W+="<div class='".concat(L[z].container,"'>"));if(L[z].rows){W+="<div class='rows'>";var X=!0,V=!1,$=undefined;try{for(var J=L[z].rows[Symbol.iterator](),K;!(X=(K=J.next()).done);X=!0){var Q=K.value;W+="<ul>";var G=!0,Y=!1,Z=undefined;try{for(var et=Q[Symbol.iterator](),tt;!(G=(tt=et.next()).done);G=!0){var nt=tt.value;W+="<li",nt["class"]&&(W+=' class="'.concat(nt["class"],'"')),nt.key&&(W+=' data-key="'.concat(nt.key,'"')),nt.command&&(W+=" data-command='\"".concat(nt.command,"\"'")),nt.insert&&(W+=' data-insert="'.concat(nt.insert,'"')),nt.latex&&(W+=' data-latex="'.concat(nt.latex,'"')),nt.aside&&(W+=' data-aside="'.concat(nt.aside,'"')),nt.altKeys&&(W+=' data-alt-keys="'.concat(nt.altKeys,'"')),nt.shifted&&(W+=' data-shifted="'.concat(nt.shifted,'"')),nt.shiftedCommand&&(W+=' data-shifted-command="'.concat(nt.shiftedCommand,'"')),W+=">".concat(nt.label?nt.label:"","</li>")}}catch(l){Y=!0,Z=l}finally{try{!G&&et["return"]!=null&&et["return"]()}finally{if(Y)throw Z}}W+="</ul>"}}catch(l){V=!0,$=l}finally{try{!X&&J["return"]!=null&&J["return"]()}finally{if(V)throw $}}W+="</div>",L[z].container&&(W+="</div'>"),L[z].backdrop&&(W+="</div'>")}L[z]=W}r+="<div class='keyboard-layer' id='"+z+"'>",r+=Ss(e,k,B);var rt=typeof L[z]=="function"?L[z]():L[z];r+=Ts(e,rt),r+="</div>"}}catch(l){I=!0,q=l}finally{try{!F&&R["return"]!=null&&R["return"]()}finally{if(I)throw q}}}}catch(l){_=!0,D=l}finally{try{!M&&P["return"]!=null&&P["return"]()}finally{if(_)throw D}}var it=document.createElement("div");it.id="ML__keyboard",t?it.classList.add(t):e.config.virtualKeyboardTheme?it.classList.add(e.config.virtualKeyboardTheme):/android|cros/i.test(navigator.userAgent)&&it.classList.add("material"),it.innerHTML=r,xs(e,it.querySelectorAll(".keycap, .action, .fnbutton, .bigfnbutton"));var st=it.getElementsByClassName("layer-switch");for(var ot=0;ot<st.length;++ot)st[ot].classList.contains("shift")?e._attachButtonHandlers(st[ot],{pressed:["shiftKeyboardLayer","shift"],"default":["switchKeyboardLayer",st[ot].getAttribute("data-layer")],pressAndHoldEnd:"unshiftKeyboardLayer"}):e._attachButtonHandlers(st[ot],{"default":["switchKeyboardLayer",st[ot].getAttribute("data-layer")]});return it.getElementsByClassName("keyboard-layer")[0].classList.add("is-visible"),window.addEventListener("mouseup",function(){e.hideAlternateKeys_(),e.unshiftKeyboardLayer_()}),window.addEventListener("blur",function(){e.hideAlternateKeys_(),e.unshiftKeyboardLayer_()}),window.addEventListener("touchend",function(){e.hideAlternateKeys_(),e.unshiftKeyboardLayer_()}),window.addEventListener("touchcancel",function(){e.hideAlternateKeys_(),e.unshiftKeyboardLayer_()}),it}function Ls(e){return e.replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function As(e,t){return!e||!t.generateID?"":' extid="'+e+'"'}function Os(e,t,n){var r=!1;t=t||e.atoms.length;var i="",s="",o=-1,u=-1,a=e.atoms[e.index];return e.index<t&&(a.type==="mord"||a.type==="textord")&&"0123456789,.".indexOf(a.latex)<0&&(s=a.toMathML(n),a.superscript&&(o=e.index),a.subscript&&(u=e.index),e.index+=1),s.length>0&&(r=!0,Ms(e)&&(o=e.index,e.index+=1),_s(e)&&(u=e.index,e.index+=1),o>=0&&u>=0?(i="<msubsup>"+s,i+=Fs(e.atoms[u].subscript,0,0,n).mathML,i+=Fs(e.atoms[o].superscript,0,0,n).mathML,i+="</msubsup>"):o>=0?(i="<msup>"+s,i+=Fs(e.atoms[o].superscript,0,0,n).mathML,i+="</msup>"):u>=0?(i="<msub>"+s,i+=Fs(e.atoms[u].subscript,0,0,n).mathML,i+="</msub>"):i=s,(e.lastType==="mi"||e.lastType==="mn"||e.lastType==="fence")&&!/^<mo>(.*)<\/mo>$/.test(i)&&(i="<mo>&InvisibleTimes;</mo>"+i),s.endsWith(">f</mi>")||s.endsWith(">g</mi>")?(i+="<mo> &ApplyFunction; </mo>",e.lastType="applyfunction"):e.lastType=/^<mo>(.*)<\/mo>$/.test(i)?"mo":"mi",e.mathML+=i),r}function Ms(e){return e.index<e.atoms.length&&e.atoms[e.index].superscript&&e.atoms[e.index].type==="msubsup"}function _s(e){return e.index<e.atoms.length&&e.atoms[e.index].subscript&&e.atoms[e.index].type==="msubsup"}function Ds(e){var t=-1,n=e.index,r=!1,i=!1;while(n<e.atoms.length&&!r&&!i)r=e.atoms[n].type!=="mord"||"0123456789,.".indexOf(e.atoms[n].latex)<0,i=!r&&e.atoms[n].superscript,n++;return i&&(t=n),t}function Ps(e,t,n){var r=!1,i="",s=t.atoms[t.index-1];return s?(!s.superscript&&!s.subscript&&(Ms(t)||_s(t))&&(s=t.atoms[t.index],t.index+=1),s?(s.superscript&&s.subscript?(i="<msubsup>"+e,i+=Fs(s.subscript,0,0,n).mathML,i+=Fs(s.superscript,0,0,n).mathML,i+="</msubsup>"):s.superscript?(i="<msup>"+e,i+=Fs(s.superscript,0,0,n).mathML,i+="</msup>"):s.subscript&&(i="<msub>"+e,i+=Fs(s.subscript,0,0,n).mathML,i+="</msub>"),i.length>0&&(r=!0,t.mathML+=i,t.lastType=""),r):!1):!1}function Hs(e,t,n){var r=!1;t=t||e.atoms.length;var i=e.index,s="",o=Ds(e);o>=0&&o<t&&(t=o);while(e.index<t&&e.atoms[e.index].type==="mord"&&"0123456789,.".indexOf(e.atoms[e.index].latex)>=0)s+=e.atoms[e.index].latex,e.index+=1;return s.length>0&&(r=!0,s="<mn"+As(e.atoms[i].id,n)+">"+s+"</mn>",o<0&&Ms(e)&&(o=e.index,e.index+=1),o>=0&&(s="<msup>"+s,s+=Fs(e.atoms[o].superscript,0,0,n).mathML,s+="</msup>"),e.mathML+=s,e.lastType="mn"),r}function Bs(e,t,n){var r=!1;t=t||e.atoms.length;var i="",s="";if(e.index<t&&e.atoms[e.index].type==="mopen"){var o=!1,u=0,a=e.index,f=-1,l=a+1;while(l<t&&!o)e.atoms[l].type==="mopen"?u+=1:e.atoms[l].type==="mclose"&&(u-=1),u===-1&&(o=!0,f=l),l+=1;if(o){i="<mrow>",i+=Is(e.atoms[a],n),i+=Fs(e.atoms,a+1,f,n).mathML,i+=Is(e.atoms[f],n),i+="</mrow>";if(e.lastType==="mi"||e.lastType==="mn"||e.lastType==="mfrac"||e.lastType==="fence")i="<mo>&InvisibleTimes;</mo>"+i;e.index=f+1,Ps(i,e,n)&&(r=!0,e.lastType="",i=""),s="fence"}}return i.length>0&&(r=!0,e.mathML+=i,e.lastType=s),r}function js(e,t,n){var r=!1;t=t||e.atoms.length;var i="",s="",o=e.atoms[e.index];if(e.index<t&&(o.type==="mbin"||o.type==="mrel"))i+=e.atoms[e.index].toMathML(n),e.index+=1,s="mo";else if(e.index<t&&o.type==="mop"){if(o.limits&&(o.superscript||o.subscript)){var u=Is(o,n);o.superscript&&o.subscript?(i+=(o.limits!=="nolimits"?"<munderover>":"<msubsup>")+u,i+=Fs(o.subscript,0,0,n).mathML,i+=Fs(o.superscript,0,0,n).mathML,i+=o.limits!=="nolimits"?"</munderover>":"</msubsup>"):o.superscript?(i+=(o.limits!=="nolimits"?"<mover>":"<msup>")+u,i+=Fs(o.superscript,0,0,n).mathML,i+=o.limits!=="nolimits"?"</mover>":"</msup>"):(i+=(o.limits!=="nolimits"?"<munder>":"<msub>")+u,i+=Fs(o.subscript,0,0,n).mathML,i+=o.limits!=="nolimits"?"</munder>":"</msub>"),s="mo"}else{var a=Is(e.atoms[e.index],n);i+=a,/^<mo>(.*)<\/mo>$/.test(a)?s="mo":(i+="<mo> &ApplyFunction; </mo>",s="applyfunction")}(e.lastType==="mi"||e.lastType==="mn")&&!/^<mo>(.*)<\/mo>$/.test(i)&&(i="<mo>&InvisibleTimes;</mo>"+i),e.index+=1}return i.length>0&&(r=!0,e.mathML+=i,e.lastType=s),r}function Fs(e,t,n,r){var i={atoms:e,index:t||0,mathML:"",lastType:""};n=n||(e?e.length:0);if(typeof e=="number"||typeof e=="boolean")i.mathML=e.toString();else if(typeof e=="string")i.mathML=e;else if(e&&typeof e.toMathML=="function")i.mathML=e.toMathML(r);else if(Array.isArray(e)){var s=0;while(i.index<n)if(Hs(i,n,r)||Os(i,n,r)||js(i,n,r)||Bs(i,n,r))s+=1;else if(i.index<n){var o=i.atoms[i.index].toMathML(r);i.lastType==="mn"&&o.length>0&&i.atoms[i.index].type==="genfrac"&&(o="<mo>&#x2064;</mo>"+o),i.atoms[i.index].type==="genfrac"?i.lastType="mfrac":i.lastType="",o.length>0&&(i.mathML+=o,s+=1),i.index+=1}s>1&&(i.mathML="<mrow>"+i.mathML+"</mrow>")}return i}function Is(e,t){var n="",r=qs(e.body);return r&&(n="<mo"+As(e.id,t)+">"+r+"</mo>"),n}function qs(e){if(!e)return"";if(typeof e=="string")return Ls(e);if(!Array.isArray(e)&&typeof e.body=="string")return Ls(e.body);var t="",n=!0,r=!1,i=undefined;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done);n=!0){var u=o.value;typeof u.body=="string"&&(t+=u.body)}}catch(a){r=!0,i=a}finally{try{!n&&s["return"]!=null&&s["return"]()}finally{if(r)throw i}}return Ls(t)}function Us(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Us=function(t){return typeof t}:Us=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(e)}function Vs(e){return e?Xs[e]||-1:-1}function $s(e){return/=|=>/.test(e)?"right":"left"}function Js(e){var t=Ws[e];return t||(t=e.length>1?"\\mathop{"+e+"} %":e+" %"),t}function Ks(e){var t=Ws[e];if(t)return t.replace("%1","").replace("%0","").replace("%","");var n=lr.getInfo("\\"+e,"math");return n&&n.type!=="error"&&(!n.fontFamily||n.fontFamily==="main"||n.fontFamily==="ams")&&(t="\\"+e),t}function Qs(e){var t=Ws[e];return t||(t="%0 \\mathbin{"+e+"} %1"),t}function Gs(e){if(e==="f"||e==="g")return!0;var t=Ws[e];return t?(t=t.replace("%0","").replace("%1",""),/%/.test(t)?!0:!1):!1}function Ys(e){e=(e||"").trim();var t=zs[e];if(!t)if(e.charAt(0)==="\\"){var n=lr.getInfo(e,"math",{});n&&n.type!=="error"?t=n.value||e.slice(1):t=e.slice(1)}else t=e;return t}function Zs(e){if(!e)return null;var t=Ys(so(e)),n={prec:Vs(t),assoc:$s(t)};return n.prec<=0?null:n}function eo(e){return Zs(e)!==null}function so(e){if(e.latex&&e.latex!=="\\mathop "&&e.latex!=="\\mathbin "&&e.latex!=="\\mathrel "&&e.latex!=="\\mathopen "&&e.latex!=="\\mathpunct "&&e.latex!=="\\mathord "&&e.latex!=="\\mathinner "&&e.type!=="font")return e.latex.trim();if(e.type==="leftright")return"";if(typeof e.body=="string")return e.body;if(Array.isArray(e.body)){var t="",n=!0,r=!1,i=undefined;try{for(var s=e.body[Symbol.iterator](),o;!(n=(o=s.next()).done);n=!0){var u=o.value;t+=so(u)}}catch(a){r=!0,i=a}finally{try{!n&&s["return"]!=null&&s["return"]()}finally{if(r)throw i}}return t}return""}function oo(e){var t=e;typeof t!="string"&&(t=e!==undefined?e.sym:undefined);if(t){var n=Ks(t);t=n||t}return t}function uo(e){var t=undefined;return e!==undefined&&(e.num!==undefined?e.num.toString().match(/^[+-]?[0-9]*[.]?[0-9]*[eE]?[+-]?[0-9]?$/)&&(t=parseFloat(e.num)):typeof e=="number"&&(t=parseFloat(e))),t}function ao(e){return typeof e=="number"||e!==undefined&&e.num!==undefined}function fo(e,t,n){var r=!1,i=e.atoms[e.index];return i&&i.type===t&&(n===undefined?r=!0:r=so(i)===n),r}function lo(e){return typeof e=="number"?-e:e&&typeof e.num=="number"?(e.num=-e.num,e):{op:"-",lhs:e}}function co(e,t){var n=e.atoms[e.index-1];if(!n||!n.superscript&&!n.subscript)n=null;return n||(n=e.atoms[e.index],fo(e,"msubsup")&&(n.superscript||n.subscript)?e.index+=1:n=null),n&&(typeof e.ast=="string"?e.ast={sym:e.ast}:typeof e.ast=="number"?e.ast={num:e.ast}:!e.ast.group&&!e.ast.fn&&!e.ast.sym&&(e.ast={group:e.ast}),n.subscript&&(e.ast.sub=Eo(n.subscript,t)),n.superscript&&(e.ast.sup=Eo(n.superscript,t))),e}function ho(e,t){var n=e.atoms[e.index],r=e.ast,i=vo(e);if(i)e.ast={op:i.ast,lhs:r},e=co(e,t),e=ho(e,t);else if(n&&n.latex&&n.latex.match(/\^{.*}/)){e.index+=1,typeof e.ast=="string"?e.ast={sym:e.ast}:typeof e.ast=="number"?e.ast={num:e.ast}:!e.ast.group&&!e.ast.fn&&!e.ast.sym&&(e.ast={group:e.ast});var s=n.latex.match(/\^{(.*)}/)[1],o=parseInt(s);isNaN(o)?e.ast.sup=s:e.ast.sup=o}else n&&n.type==="textord"&&no[n.latex.trim()]&&(e.index+=1,e.ast={fn:no[n.latex.trim()],arg:r},e=co(e,t),e=ho(e,t));return e}function po(e,t,n,r){e.index=e.index||0;if(e.atoms.length===0||e.index>=e.atoms.length)return e.ast=undefined,e;var i=e.minPrec;e.minPrec=0;var s=e.atoms[e.index];if(!t){var o=!0;s.type==="mopen"?(t=s.latex.trim(),n=lr.RIGHT_DELIM[t]):s.type==="sizeddelim"?(t=s.delim,n=lr.RIGHT_DELIM[t]):s.type==="leftright"?(o=!1,t=s.leftDelim,n=s.rightDelim):s.type==="textord"&&(t=s.latex.trim(),n=lr.RIGHT_DELIM[t]);if(t&&n){e=po(e,t,n);if(e)return o&&(e.index+=1),e.ast={fn:to[t+n]||t+n,arg:e.ast},e.minPrec=i,e}return undefined}if(s.type==="mopen"&&so(s)===t)e.index+=1,e=go(e,r),s=e.atoms[e.index],s&&s.type==="mclose"&&so(s)===n&&(e.index+=1,e=co(e,r),e=ho(e,r));else if(s.type==="textord"&&so(s)===t)e.index+=1,e=go(e,r),s=e.atoms[e.index],s&&s.type==="textord"&&so(s)===n&&(e.index+=1,e=co(e,r),e=ho(e,r));else if(s.type==="sizeddelim"&&s.delim===t)e.index+=1,e=go(e,r),s=e.atoms[e.index],s&&s.type==="sizeddelim"&&s.delim===n&&(e.index+=1,e=co(e,r),e=ho(e,r));else{if(s.type!=="leftright"||s.leftDelim!==t||s.rightDelim!=="?"&&s.rightDelim!==n)return undefined;e.ast=Eo(s.body,r),e.index+=1,e=co(e,r),e=ho(e,r)}return e.minPrec=i,e}function vo(e){e.index=e.index||0;if(e.atoms.length===0||e.index>=e.atoms.length)return undefined;if(fo(e,"textord","\\nabla")){e.index+=1;if(fo(e,"mbin","\\times"))return e.index+=1,e.ast="curl",e;if(fo(e,"mbin","\\cdot"))return e.index+=1,e.ast="div",e;e.index-=1}else if(fo(e,"textord","!")){e.index+=1;if(fo(e,"textord","!"))return e.index+=1,e.ast="factorial2",e;e.index-=1}return undefined}function mo(e,t){e.index=e.index||0,e.ast=undefined;if(e.atoms.length===0||e.index>=e.atoms.length)return e;var n=e.atoms[e.index],r=Ys(so(n)),i=vo(e);if(i){var s={op:e.ast};s.lhs=mo(e,t).ast,e.ast=s}else if(n.type!=="mbin"||r!=="-"&&r!=="+")if(n.type==="mord"&&"0123456789.".indexOf(n.latex)>=0||fo(e,"mpunct",",")){var o="",u=!1,a="0123456789.eEdD";while(e.index<e.atoms.length&&!u&&(fo(e,"spacing")||(fo(e,"mord")||fo(e,"mpunct",",")||fo(e,"mbin"))&&a.indexOf(e.atoms[e.index].latex)>=0))if(e.atoms[e.index].type==="spacing")e.index+=1;else{var f=e.atoms[e.index].latex;f==="d"||f==="D"?(f="e",a="0123456789.+-"):f==="e"||f==="E"?a="0123456789.+-":a==="0123456789.+-"&&(a="0123456789"),o+=f===","?"":f,n.superscript!==undefined||n.underscript!==undefined?u=!0:e.index+=1}e.ast=parseFloat(o),n=e.atoms[e.index];if(n&&n.type==="genfrac"&&(e.ast.num!==undefined||!isNaN(e.ast))){var l=e.ast;e=mo(e,t),e.ast={lhs:l,op:"+",rhs:e.ast}}if(n&&n.type==="group"&&n.latex&&n.latex.startsWith("\\nicefrac")){var c=e.ast;e=mo(e,t),e.ast={lhs:c,op:"+",rhs:e.ast}}e=co(e,t),e=ho(e,t)}else if(n.type==="genfrac"||n.type==="surd")e.index+=1,e.ast=n.toAST(t),e=co(e,t),e=ho(e,t);else if(n.type==="font"){e.ast=n.toAST(t);if(e.ast.sym&&e.ast.variant==="normal"&&Gs(e.ast.sym)){e.ast={fn:e.ast.sym},e=co(e,t);var h=e.ast;e.index+=1,h.arg=mo(e,t).ast,e.ast=h}else n.superscript===undefined&&(e.index+=1),e=co(e,t);e=ho(e,t)}else if(n.type==="mord"){var p=Ys(so(n));if(Gs(p)&&!eo(n)){e.ast={fn:p},e=co(e,t);var d=e.ast;e.index+=1,d.arg=mo(e,t).ast,d.arg&&(d.arg.fn==="list2"||d.arg.fn==="list")&&(d.arg=d.arg.arg),e.ast=d}else e.ast=n.toAST(t),n.superscript===undefined&&(e.index+=1),e=co(e);e=ho(e,t)}else if(n.type==="textord"){if(!eo(n)&&!lr.RIGHT_DELIM[n.latex.trim()]){var v=Ys(so(n));if(Gs(v)){e.ast={fn:v},e=co(e,t);var m=e.ast;e.index+=1,m.arg=mo(e,t).ast,e.ast=m,e=ho(e,t)}else e.ast=n.toAST(t),n.superscript===undefined&&(e.index+=1),e=co(e,t),e=ho(e,t)}}else if(n.type==="mop"){var g=Ys(so(n));if(Gs(g)&&!eo(n)){e.index+=1,e.ast={fn:g},e=co(e,t);if(e.ast.sup)if(e.ast.sup===-1||e.ast.sup.op==="-"&&e.ast.sup.rhs===1){var y={sin:"arcsin",cos:"arccos",tan:"arctan",cot:"arccot",sec:"arcsec",csc:"arccsc",sinh:"arsinh",cosh:"arcosh",tanh:"artanh",csch:"arcsch",sech:"arsech",coth:"arcoth"};if(y[e.ast.fn]){var b={fn:y[e.ast.fn]};b.arg=mo(e,t).ast,e.ast=b}else{var w=e.ast;w.arg=mo(e,t).ast,e.ast=w}}else{var E=e.ast;E.arg=mo(e,t).ast,e.ast=E}else{var S=e.ast;S.arg=mo(e,t).ast,e.ast=S}}}else if(n.type==="array")e.index+=1,e.ast=n.toAST(t);else{if(n.type==="sizing")return e.index+=1,mo(e,t);n.type==="group"&&(e.index+=1,e.ast=n.toAST(t))}else e.index+=1,n=e.atoms[e.index],e=mo(e,t),n&&"0123456789.".indexOf(n.latex)>=0?e.ast.num&&typeof e.ast.num=="number"?e.ast.num=r==="-"?-e.ast.num:e.ast.num:typeof e.ast=="number"?e.ast=r==="-"?-e.ast:e.ast:e.ast={op:r,rhs:e.ast}:e.ast={op:r,rhs:e.ast};if(e.ast===undefined){var x=po(e,"(",")",t)||po(e,null,null,t);x?e=x:eo(n)||(e.ast={text:"?"},n.type==="placeholder"?e.ast.error="Placeholder '"+n.body+"'":(e.ast.error="Unexpected token '"+n.type+"'",n.body&&(e.ast.error+=" = "+n.body),n.latex&&(e.ast.error+=" = "+n.latex)),e.index+=1)}n=e.atoms[e.index];if(n&&(n.type==="mord"||n.type==="surd"||n.type==="mop"||n.type==="mopen"||n.type==="sizeddelim"||n.type==="leftright")){if(n.type==="sizeddelim")for(var T in lr.RIGHT_DELIM)if(n.delim===lr.RIGHT_DELIM[T])return e.index+=1,e;if(!(n.type!=="mord"&&n.type!=="textord"&&n.type!=="mop"||!eo(n)))return e;var N=e.ast;e=mo(e,t),e&&e.ast?Gs(N)?e.ast.fn==="list2"||e.ast.fn==="list"?e.ast={fn:N,arg:e.ast.arg}:e.ast={fn:N,arg:e.ast}:e.ast.fn==="*"?e.ast.arg.unshift(N):e.ast.op==="*"?e.ast={fn:"*",arg:[N,e.ast.lhs,e.ast.rhs]}:e.ast={lhs:N,op:"*",rhs:e.ast}:e.ast=N}return e}function go(e,t){e.index=e.index||0,e.ast=undefined;if(e.atoms.length===0||e.index>=e.atoms.length)return e;e.minPrec=e.minPrec||0;var n=mo(e,t).ast,r=!1,i=e.minPrec;while(!r){var s=e.atoms[e.index];r=!s||!eo(s)||Zs(s).prec<i;if(!r){var o=Ys(so(s)),u=Zs(s),a=u.prec,f=u.assoc;f==="left"?e.minPrec=a+1:e.minPrec=a,e.index+=1;var l=go(e,t).ast,c=io[o];if(c&&n&&n.fn!==c){var h=[];n!==undefined&&h.push(n),n={fn:c,arg:h}}if(o==="-")if(n&&n.op==="+"){var p=[];n.lhs!==undefined&&p.push(n.lhs),n.rhs!==undefined&&p.push(n.rhs),l!==undefined&&p.push(lo(l)),n={fn:"+",arg:p}}else if(n&&n.op==="-"){var d=[];n.lhs!==undefined&&d.push(n.lhs),n.rhs!==undefined&&d.push(lo(n.rhs)),l!==undefined&&d.push(lo(l)),n={fn:"+",arg:d}}else n&&n.fn==="+"?l!==undefined&&n.arg.push(lo(l)):n={lhs:n,op:o,rhs:l};else{c=ro[o];if(c==="+"&&n&&n.op==="-"){var v=[];n.lhs!==undefined&&v.push(n.lhs),n.rhs!==undefined&&v.push(lo(n.rhs)),l!==undefined&&v.push(l),n={fn:c,arg:v}}else if(c&&n&&n.op===o){var m=[];n.lhs!==undefined&&m.push(n.lhs),n.rhs!==undefined&&m.push(n.rhs),l!==undefined&&m.push(l),n={fn:c,arg:m}}else c&&n&&n.fn===c?l!==undefined&&n.arg.push(l):n={lhs:n,op:o,rhs:l}}}}return e.ast=n,e}function yo(e){var t="",n=!0,r=!1,i=undefined;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done);n=!0){var u=o.value;if(u.type==="textord"||u.type==="mord")t+=u.body}}catch(a){r=!0,i=a}finally{try{!n&&s["return"]!=null&&s["return"]()}finally{if(r)throw i}}return bo(t)}function bo(e){return e.replace(/[\\]/g,"\\\\").replace(/["]/g,'\\"').replace(/[\b]/g,"\\b").replace(/[\f]/g,"\\f").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t")}function wo(e){if(!e)return[];var t;if(Array.isArray(e)){t=[];var n=!0,r=!1,i=undefined;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done);n=!0){var u=o.value,a=wo(u);t=t.concat(a)}}catch(f){r=!0,i=f}finally{try{!n&&s["return"]!=null&&s["return"]()}finally{if(r)throw i}}}else{if(e.type==="spacing")return[];e.type==="first"||e.type==="color"||e.type==="box"||e.type==="sizing"?t=wo(e.body):(e.body&&Array.isArray(e.body)&&(e.body=wo(e.body)),e.superscript&&Array.isArray(e.superscript)&&(e.superscript=wo(e.superscript)),e.subscript&&Array.isArray(e.subscript)&&(e.subscript=wo(e.subscript)),e.index&&Array.isArray(e.index)&&(e.index=wo(e.index)),e.denom&&Array.isArray(e.denom)&&(e.denom=wo(e.denom)),e.numer&&Array.isArray(e.numer)&&(e.numer=wo(e.numer)),e.array&&Array.isArray(e.array)&&(e.array=wo(e.array)),t=[e])}return t}function Eo(e,t){return go({atoms:wo(e)},t).ast}function So(e){if(!e)return e;if(typeof e=="string")return e;if(typeof e=="number")return e;if(Us(e)==="object"){e.sup&&(e.sup=So(e.sup));if(e.op)return e.lhs&&e.rhs?{fn:e.op,arg:[So(e.lhs),So(e.rhs)]}:{fn:e.op,arg:[So(e.rhs)]};if(e.fn&&Array.isArray(e.arg))return{fn:e.fn,arg:e.arg.map(function(e){return So(e)})};if(e.fn)return{fn:e.fn,arg:So(e.arg)};if(e.group)return{group:So(e.group)}}return e}function xo(e,t){var n=e||t;return n+="...",n}function To(e,t){var n=e.length;e=e.substr(0,t.precision-2);for(var r=0;r<e.length-16;r++){var i=e.substr(0,r);for(var s=0;s<17;s++){var o=e.substr(r,s+1),u=Math.floor((e.length-i.length)/o.length);if(u>1&&(i+o.repeat(u+1)).startsWith(e))return o==="0"?i.replace(/(\d{3})/g,"$1"+t.groupSeparator):i.replace(/(\d{3})/g,"$1"+t.groupSeparator)+t.beginRepeatingDigits+o.replace(/(\d{3})/g,"$1"+t.groupSeparator)+t.endRepeatingDigits}}return n!==e.length&&(e+="\\ldots"),e.replace(/(\d{3})/g,"$1"+t.groupSeparator)}function No(e,t){var n="";if(typeof t.precision=="number")if(typeof e=="number")e=parseFloat(e.toFixed(Math.min(20,t.precision)));else if(!(typeof e=="string"&&e.indexOf("/")>=0)){var r="";e[0]==="-"?(r="-",e=e.substr(1)):e[0]==="+"&&(e=e.substr(1));if(e.indexOf(".")>=0){var i=e.match(/(\d*).(\d*)/),s=i[1],o=i[2];if(s==="0"){var u=2;while(e[u]==="0"&&u<e.length-1)u+=1;var a="";if(u<=6)a="0"+t.decimalMarker,a+=e.substr(2,u-2),a+=To(e.substr(a.length),t);else{a=e[u];var f=To(e.substr(u+1),t);f&&(a+=t.decimalMarker+f)}e.length-1>t.precision&&!a.endsWith("}")&&!a.endsWith("\\ldots")&&(a+="\\ldots"),u>6&&(a+=t.exponentProduct,t.exponentMarker?a+=t.exponentMarker+(1-u).toString():a+="10^{"+(1-u).toString()+"}"),e=a}else{e=s.replace(/\B(?=(\d{3})+(?!\d))/g,t.groupSeparator);var l=To(o,t);l&&(e+=t.decimalMarker+l,e.length-1>t.precision&&!e.endsWith("}")&&!e.endsWith("\\ldots")&&(e+="\\ldots"))}}else if(e.length>t.precision){var c=e.length,h=e[0],p=To(e.substr(2),t);p&&(h+=t.decimalMarker+p,h[h.length-1]!=="}"&&(h+="\\ldots")),h!=="1"?h+=t.exponentProduct:h="",t.exponentMarker?h+=t.exponentMarker+(c-2).toString():h+="10^{"+(c-2).toString()+"}",e=h}else e=e.replace(/\B(?=(\d{3})+(?!\d))/g,t.groupSeparator);return r+e}if(t.scientificNotation==="engineering")if(e===0)n="0";else{var d=Math.abs(e),v=Math.round(Math.log10(d));v-=v%3,d<1e3&&(v=0);var m=d/Math.pow(10,v),g=m.toString().match(/^(.*)\.(.*)$/);g&&g[1]&&g[2]&&(m=g[1]+t.decimalMarker+g[2]),t.groupSeparator&&(m=To(m.toExponential(),t)),v===0?v="":t.exponentMarker?v=t.exponentMarker+v:v=t.exponentProduct+" 10^{"+v+"}",n=(e<0?"-":"")+m+v}else{var y=typeof e=="string"?e:e.toString(),b=y.match(/^(.*)[e|E]([-+]?[0-9]*)$/i),w,E,S;w=y,S="",b&&b[1]&&b[2]&&(w=b[1],t.exponentMarker?E=t.exponentMarker+b[2]:E=t.exponentProduct+" 10^{"+b[2]+"}"),b=w.match(/^(.*)\.(.*)$/),b&&b[1]&&b[2]&&(w=b[1],S=b[2]),t.groupSeparator&&(w=w.replace(/\B(?=(\d{3})+(?!\d))/g,t.groupSeparator),S=To(S,t)),S&&(S=t.decimalMarker+S),n=w+S+(E||"")}return n}function Co(e,t){var n=Object.assign({precision:14,decimalMarker:".",groupSeparator:"\\, ",product:"\\cdot ",exponentProduct:"\\cdot ",exponentMarker:"",arcSeparator:"\\,",scientificNotation:"auto",beginRepeatingDigits:"\\overline{",endRepeatingDigits:"}"},t),r="";if(e===undefined)return"";if(e.latex)r=e.latex;else if(e.num!==undefined&&e.num.match(/([+-]?[0-9]+)\/([0-9]+)/))r=No(e.num,n),e.sup&&(r+="^{"+Co(e.sup,n)+"}"),e.sub&&(r+="_{"+Co(e.sub,n)+"}");else if(ao(e)){var i=typeof e=="number"?e:e.num;isNaN(i)?r="\\text{NaN}":i===-Infinity?r="-\\infty ":i===Infinity?r="\\infty ":r=No(e.num||e,n),e.sup&&(r+="^{"+Co(e.sup,n)+"}"),e.sub&&(r+="_{"+Co(e.sub,n)+"}")}else if(e.re!==undefined||e.im!==undefined){var s=!1;if(Math.abs(e.im)<=1e-14&&Math.abs(e.re)<=1e-14)r="0";else{e.re&&Math.abs(e.re)>1e-14&&(r=No(e.re,n));if(Math.abs(e.im)>1e-14){var o=uo(e.im);Math.abs(e.re)>1e-14&&(r+=o>0?"+":"",s=!0),r+=(Math.abs(o)!==1?No(e.im,n):"")+"\\imaginaryI "}if(s){var u=xo(e.fence,"(),");r=u[0]+r+u[1]}}e.sup&&(r+="^{"+Co(e.sup,n)+"}"),e.sub&&(r+="_{"+Co(e.sub,n)+"}")}else if(e.group){r=Co(e.group);if(!ao(e.group)&&!oo(e.group)){var a=xo(e.fence,"(),");r=a[0]+r+a[1]}e.sup&&(r+="^{"+Co(e.sup,n)+"}"),e.sub&&(r+="_{"+Co(e.sub,n)+"}")}else if(e.fn)if(e.fn==="list"||e.fn==="list2"){var f=[],l=!0,c=!1,h=undefined;try{for(var p=e.arg[Symbol.iterator](),d;!(l=(d=p.next()).done);l=!0){var v=d.value;f.push(Co(v,n))}}catch(m){c=!0,h=m}finally{try{!l&&p["return"]!=null&&p["return"]()}finally{if(c)throw h}}r=f.join(e.fn==="list2"?"; ":", ")}else if(e.fn==="pow"&&Array.isArray(e.arg)&&e.arg.length>=2){r=Co(e.arg[0],n);if(!ao(e.arg[0])&&!oo(e.arg[0])){var g=xo(e.fence,"(),");r=g[0]+r+g[1]}r+="^{"+Co(e.arg[1],n)+"}"}else{var y=Js(e.fn),b="",w=e.fn.match(/^(factorial(2)?|(((ar|arc)?(sin|cos|tan|cot|sec|csc)h?)|ln|log|lb))$/);if(Array.isArray(e.arg)||!w){var E="",S=xo(e.fence,"(),");S[0]!=="."&&(b+=S[0]);if(Array.isArray(e.arg)){var x=!0,T=!1,N=undefined;try{for(var C=e.arg[Symbol.iterator](),k;!(x=(k=C.next()).done);x=!0){var L=k.value;b+=E+Co(L,n),E=", "}}catch(m){T=!0,N=m}finally{try{!x&&C["return"]!=null&&C["return"]()}finally{if(T)throw N}}}else e.arg&&(b+=Co(e.arg,n));S[1]!=="."&&(b+=S[1])}else if(e.arg!==undefined)if(typeof e.arg=="number"||typeof e.arg=="string"||e.arg.num!==undefined||e.arg.sym!==undefined||e.arg.op==="/"||e.arg.fn==="sqrt")b=Co(e.arg,n);else if(y[y.length-1]==="%"){var A=xo(e.fence,"(),");b+=A[0],b+=Co(e.arg,n),b+=A[1]}else b=Co(e.arg,n);r=y,e.over||e.sup?r=r.replace("%^","^{"+Co(e.over||e.sup,n)+"}"):r=r.replace("%^",""),e.under||e.sub?r=r.replace("%_","_{"+Co(e.under||e.sub,n)+"}"):r=r.replace("%_",""),r=r.replace("%",b)}else if(e.sym!==undefined||typeof e=="string"){r=oo(e);var O=r.match(/^&#x([0-9a-f]+);$/i);O&&O[1]?r=String.fromCodePoint(parseInt(O[1],16)):(O=r.match(/^&#([0-9]+);$/i),O&&O[1]&&(r=String.fromCodePoint(parseInt(O[1]))));if(e.variant){var M={normal:"mathrm","double-struck":"mathbb",bold:"mathbf",fraktur:"mathfrak",script:"mathscr","sans-serif":"mathsf",monospace:"mathtt"};r="\\"+M[e.variant]+"{"+r+"}"}e.sup&&(r+="^{"+Co(e.sup,n)+"}"),e.sub&&(r+="_{"+Co(e.sub,n)+"}")}else if(e.op)if(e.op==="/"){r="\\frac{"+Co(e.lhs,n)+"}{"+Co(e.rhs,n)+"}";if(e.sup||e.sub)r="("+r+")",e.sup&&(r+="^{"+Co(e.sup,n)+"}"),e.sub&&(r+="_{"+Co(e.sub,n)+"}")}else{var _,D;_=Co(e.lhs,n),e.lhs&&e.lhs.op&&Vs(e.lhs.op)<Vs(e.op)&&(_="("+_+")"),D=Co(e.rhs,n),e.rhs&&e.rhs.op&&Vs(e.rhs.op)<Vs(e.op)&&(D="("+D+")"),e.op==="*"?r="%0 "+n.product+" %1":r=Qs(e.op),r=r.replace("%^",e.sup?"^{"+Co(e.sup,n)+"}":""),r=r.replace("%_",e.sub?"_{"+Co(e.sub,n)+"}":""),r=r.replace("%0",_).replace("%1",D).replace("%",_)}else e.text?r="\\text{"+e.text+"}":e.array;return e.error&&(r="\\bbox[#F56165]{"+r+"}"),r}function Ao(e){var t=hs.NOTES[e];return!t&&e.charAt(0)==="\\"&&(t=" "+e.replace("\\","")+" "),Array.isArray(t)&&(t=t[0]),t}function Oo(e){var t="other";return navigator&&navigator.platform&&navigator.userAgent&&(/^(mac)/i.test(navigator.platform)?t="mac":/^(win)/i.test(navigator.platform)?t="win":/(android)/i.test(navigator.userAgent)?t="android":/(iphone)/i.test(navigator.userAgent)||/(ipod)/i.test(navigator.userAgent)||/(ipad)/i.test(navigator.userAgent)?t="ios":/\bCrOS\b/i.test(navigator.userAgent)&&(t="chromeos")),t===e?e:"!"+e}function Mo(e){var t=0;if(e&&Array.isArray(e)){var n=!0,r=!1,i=undefined;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done);n=!0){var u=o.value;u.type!=="first"&&(t+=1)}}catch(a){r=!0,i=a}finally{try{!n&&s["return"]!=null&&s["return"]()}finally{if(r)throw i}}}return t===1}function _o(e){if(e&&Array.isArray(e)){var t=!0,n=!1,r=undefined;try{for(var i=e[Symbol.iterator](),s;!(t=(s=i.next()).done);t=!0){var o=s.value;if(o.type!=="first"&&o.id)return o.id.toString()}}catch(u){n=!0,r=u}finally{try{!t&&i["return"]!=null&&i["return"]()}finally{if(n)throw r}}}return""}function Do(e){var t="";if(e&&Array.isArray(e)){var n=!0,r=!1,i=undefined;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done);n=!0){var u=o.value;u.type!=="first"&&typeof u.body=="string"&&(t+=u.body)}}catch(a){r=!0,i=a}finally{try{!n&&s["return"]!=null&&s["return"]()}finally{if(r)throw i}}}return t}function Ho(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ho=function(t){return typeof t}:Ho=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ho(e)}function Bo(e){return Io(e)||Fo(e)||jo()}function jo(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Fo(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function Io(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function Uo(e,t,n,r){t=t.split(" ");var i=!0,s=!1,o=undefined;try{for(var u=t[Symbol.iterator](),a;!(i=(a=u.next()).done);i=!0){var f=a.value,l=f.match(/(.*):(.*)/);if(l){var c=r||{};l[2]==="active"?c.passive=!1:c[l[2]]=!0,e.addEventListener(l[1],n,c)}else e.addEventListener(f,n,r)}}catch(h){s=!0,o=h}finally{try{!i&&u["return"]!=null&&u["return"]()}finally{if(s)throw o}}}function zo(e,t,n,r){t=t.split(" ");var i=!0,s=!1,o=undefined;try{for(var u=t[Symbol.iterator](),a;!(i=(a=u.next()).done);i=!0){var f=a.value,l=f.match(/(.*):(.*)/);if(l){var c=r||{};l[2]==="active"?c.passive=!1:c[l[2]]=!0,e.removeEventListener(l[1],n,c)}else e.removeEventListener(f,n,r)}}catch(h){s=!0,o=h}finally{try{!i&&u["return"]!=null&&u["return"]()}finally{if(s)throw o}}}function Wo(e,t){this.$setConfig(t||{}),this.element=e,e.mathfield=this,this.originalContent=e.innerHTML;var n=this.element.textContent;n&&(n=n.trim());var r="";this.config.substituteTextArea?typeof this.config.substituteTextArea=="string"?r+=this.config.substituteTextArea:r+="<span></span>":/android|ipad|ipod|iphone/i.test(navigator.userAgent)?r+="<span class='ML__textarea'>\n                <span class='ML__textarea__textarea'\n                    tabindex=\"0\" role=\"textbox\"\n                    style='display:inline-block;height:1px;width:1px' >\n                </span>\n            </span>":r+='<span class="ML__textarea"><textarea class="ML__textarea__textarea" autocapitalize="off" autocomplete="off" autocorrect="off" spellcheck="false" aria-hidden="true" tabindex="-1"></textarea></span>',r+='<span class="ML__fieldcontainer"><span class="ML__fieldcontainer__field"></span>',this.config.virtualKeyboardMode||(this.config.virtualKeyboardMode=window.matchMedia&&window.matchMedia("(any-pointer: coarse)").matches?"onfocus":"off"),this.config.virtualKeyboardMode==="manual"?(r+='<button class="ML__virtual-keyboard-toggle" data-tooltip="Toggle Virtual Keyboard">',this.config.virtualKeyboardToggleGlyph?r+=this.config.virtualKeyboardToggleGlyph:r+='<span style="width: 21px; margin-top: 4px;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M528 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm16 336c0 8.823-7.177 16-16 16H48c-8.823 0-16-7.177-16-16V112c0-8.823 7.177-16 16-16h480c8.823 0 16 7.177 16 16v288zM168 268v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-336 80v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm384 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zM120 188v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-96 152v-8c0-6.627-5.373-12-12-12H180c-6.627 0-12 5.373-12 12v8c0 6.627 5.373 12 12 12h216c6.627 0 12-5.373 12-12z"/></svg></span>',r+="</button>"):r+="<span ></span>",r+="</span>",r+='\n        <div class="ML__popover" aria-hidden="true"></div>\n        <div class="ML__keystroke-caption" aria-hidden="true"></div>\n        <div class="sr-only">\n            <span aria-live="assertive" aria-atomic="true"></span>\n            <span></span>\n        </div>\n    ',this.element.innerHTML=r;var i=0;typeof this.config.substituteTextArea=="function"?this.textarea=this.config.substituteTextArea():this.textarea=this.element.children[i++].firstElementChild,this.field=this.element.children[i].children[0],this.virtualKeyboardToggleDOMNode=this.element.children[i++].children[1],this._attachButtonHandlers(this.virtualKeyboardToggleDOMNode,{"default":"toggleVirtualKeyboard",alt:"toggleVirtualKeyboardAlt",shift:"toggleVirtualKeyboardShift"}),this.popover=this.element.children[i++],this.keystrokeCaption=this.element.children[i++],this.ariaLiveText=this.element.children[i].children[0],this.accessibleNode=this.element.children[i++].children[1],this.keystrokeCaptionVisible=!1,this.virtualKeyboardVisible=!1,this.inlineShortcutBuffer="",this.inlineShortcutStates=[],this.inlineShortcutBufferResetTimer=null,this.suggestionIndex=0,this.blurred=!0,Uo(window,"focus",this),Uo(window,"blur",this),Uo(this.element,"focus",this),Uo(this.element,"blur",this),Uo(this.textarea,"cut",this),Uo(this.textarea,"copy",this),Uo(this.textarea,"paste",this),Ri.delegateKeyboardEvents(this.textarea,{container:this.element,typedText:this._onTypedText.bind(this),paste:this._onPaste.bind(this),keystroke:this._onKeystroke.bind(this),focus:this._onFocus.bind(this),blur:this._onBlur.bind(this)}),Uo(this.element,"touchstart:active mousedown",this),Uo(window,"resize",this);var s=Object.assign({},t);s.onSelectionDidChange=Wo.prototype._onSelectionDidChange.bind(this),s.onContentDidChange=Wo.prototype._onContentDidChange.bind(this),s.onAnnounce=this.config.onAnnounce,s.smartFence=this.config.smartFence,s.macros=this.config.macros,this.mathlist=new Di.EditableMathlist(s,this),this.undoManager=new Vi.UndoManager(this.mathlist),n.length>0&&this.latex(n)}function Xo(e){if(e.classList.contains("ML__caret"))return e;var t;return Array.from(e.children).forEach(function(e){t=t||Xo(e)}),t}function Vo(e,t,n){var r={element:null},i=!0;if(!e.getAttribute("data-atom-id"))r.distance=Number.POSITIVE_INFINITY;else{r.element=e;var s=e.getBoundingClientRect(),o=Math.max(s.left-t,0,t-s.right),u=Math.max(s.top-n,0,n-s.bottom);r.distance=o*o+u*u,i=t>=s.left&&t<=s.right}return i&&e.children&&Array.from(e.children).forEach(function(e){var i=Vo(e,t,n);i.element&&i.distance<=r.distance&&(r=i)}),r}function Qo(e,t,n){var r=Object.assign({},e.config);return r.textToSpeechMarkup="",t+ei.toSpeakableText(n,r)}function Go(e,t,n,r){var i="";t==="plonk"?(e.plonkSound&&(e.plonkSound.load(),e.plonkSound.play()["catch"](function(e){return console.log(e)})),e._resetInlineShortcutBuffer()):t==="delete"?i=Qo(e,"deleted: ",r):t==="focus"||/move/.test(t)?i=(e.mathlist.isCollapsed()?"":"selected: ")+e._nextAtomSpeechText(n):t==="replacement"?i=Qo(e,"",e.mathlist.sibling(0)):t==="line"?(i=Qo(e,"",e.mathlist.root),e.accessibleNode.innerHTML='<math xmlns="http://www.w3.org/1998/Math/MathML">'+ei.toMathML(e.mathlist.root,e.config)+"</math>",e.textarea.setAttribute("aria-label","after: "+i)):i=r?Qo(e,t+" ",r):t;var s=/\u00a0/.test(e.ariaLiveText.textContent)?"   ":"   ";e.ariaLiveText.textContent=i+s,console.log("announce: ",i)}function Zo(e,t,n){var r=n,i=0,s=e.length;while(r<t.length){var o=t[r];if(i<=0&&t.slice(r,r+s)===e)return r;o==="\\"?r++:o==="{"?i++:o==="}"&&i--,r++}return-1}function eu(e,t,n,r){var i=[];for(var s=0;s<e.length;s++)if(e[s].type==="text"){var o=e[s].data,u=!0,a=0,f=void 0;f=o.indexOf(t),f!==-1&&(a=f,a>0&&i.push({type:"text",data:o.slice(0,a)}),u=!1);var l=!1;while(!l){if(u){f=o.indexOf(t,a);if(f===-1){l=!0;break}a!==f&&i.push({type:"text",data:o.slice(a,f)}),a=f}else{f=Zo(n,o,a+t.length);if(f===-1){l=!0;break}i.push({type:"math",data:o.slice(a+t.length,f),rawData:o.slice(a,f+n.length),mathstyle:r}),a=f+n.length}u=!u}a<o.length&&i.push({type:"text",data:o.slice(a)})}else i.push(e[s]);return i}function tu(e,t){var n=[{type:"text",data:e}];for(var r=0;r<t.inline.length;r++){var i=t.inline[r];n=eu(n,i[0],i[1],"textstyle")}for(var s=0;s<t.display.length;s++){var o=t.display[s];n=eu(n,o[0],o[1],"displaystyle")}return n}function nu(e,t){var n=document.createElement("span");try{n.innerHTML="<math xmlns='http://www.w3.org/1998/Math/MathML'>"+t.renderToMathML(e,t)+"</math>"}catch(r){console.error("Could not convert'"+e+"' to MathML with ",r),n.innerText=e}return n.className="sr-only",n}function ru(e,t,n,r){var i=document.createElement("span");i.setAttribute("aria-hidden","true"),t.preserveOriginalContent&&(i.setAttribute("data-"+t.namespace+"original-content",e),n&&i.setAttribute("data-"+t.namespace+"original-mathstyle",n));try{i.innerHTML=t.renderToMarkup(e,n||"displaystyle","html",t.macros)}catch(s){console.error("Could not parse'"+e+"' with ",s);if(!r)return null;i=document.createTextNode(e)}return i}function iu(e,t,n,r){var i=ru(e,n,t,r);if(i&&/\b(mathml|speakable-text)\b/i.test(n.renderAccessibleContent)){var s=document.createDocumentFragment();/\bmathml\b/i.test(n.renderAccessibleContent)&&n.renderToMathML&&s.appendChild(nu(e,n));if(/\bspeakable-text\b/i.test(n.renderAccessibleContent)&&n.renderToSpeakableText){var o=document.createElement("span");o.innerHTML=n.renderToSpeakableText(e,n),o.className="sr-only",s.appendChild(o)}return s.appendChild(i),s}return i}function su(e,t){var n=null;if(t.TeX.processEnvironments&&/^\s*\\begin/.test(e))n=document.createDocumentFragment(),n.appendChild(iu(e,undefined,t,!0));else{var r=tu(e,t.TeX.delimiters);if(r.length===1&&r[0].type==="text")return null;n=document.createDocumentFragment();for(var i=0;i<r.length;i++)r[i].type==="text"?n.appendChild(document.createTextNode(r[i].data)):n.appendChild(iu(r[i].data,r[i].mathstyle,t,!0))}return n}function ou(e,t){var n=e.getAttribute("data-"+t.namespace+"original-content");if(n){var r=e.getAttribute("data-"+t.namespace+"mathstyle"),i=iu(n,r,t,!1);i!=null&&(e.textContent="",e.appendChild(i));return}if(e.childNodes.length===1&&e.childNodes[0].nodeType===3){var s=e.childNodes[0].textContent;if(t.TeX.processEnvironments&&/^\s*\\begin/.test(s)){e.textContent="",e.appendChild(iu(s,undefined,t,!0));return}var o=tu(s,t.TeX.delimiters);if(o.length===1&&o[0].type==="math"){e.textContent="",e.appendChild(iu(o[0].data,o[0].mathstyle,t,!0));return}if(o.length===1&&o[0].type==="text")return}for(var u=0;u<e.childNodes.length;u++){var a=e.childNodes[u];if(a.nodeType===3){var f=su(a.textContent,t);f&&(u+=f.childNodes.length-1,e.replaceChild(f,a))}else if(a.nodeType===1){var l=a.nodeName.toLowerCase();if(l==="script"&&t.processScriptTypePattern.test(a.type)){var c="displaystyle",h=!0,p=!1,d=undefined;try{for(var v=a.type.split(";")[Symbol.iterator](),m;!(h=(m=v.next()).done);h=!0){var g=m.value,y=g.split("=");y[0].toLowerCase()==="mode"&&(y[1].toLoweCase()==="display"?c="displaystyle":c="textstyle")}}catch(b){p=!0,d=b}finally{try{!h&&v["return"]!=null&&v["return"]()}finally{if(p)throw d}}var w=iu(a.textContent,c,t,!0);a.parentNode.replaceChild(w,a)}else{var E=t.processClassPattern.test(a.className)||!t.skipTags.includes(l)&&!t.ignoreClassPattern.test(a.className);E&&ou(a,t)}}}}function au(e,t){try{t=Object.assign({},uu,t),t.ignoreClassPattern=new RegExp(t.ignoreClass),t.processClassPattern=new RegExp(t.processClass),t.processScriptTypePattern=new RegExp(t.processScriptType),t.macros=lr.MACROS;if(t.namespace){if(!/^[a-z]+[-]?$/.test(t.namespace))throw Error("options.namespace must be a string of lowercase characters only");/-$/.test(t.namespace)||(t.namespace+="-")}ou(e,t)}catch(n){n instanceof Error?console.error("renderMathInElement(): "+n.message):console.error("renderMathInElement(): Could not render math for element "+e)}}function lu(e,t,n,r){t=t||"displaystyle",console.assert(/displaystyle|textstyle|scriptstyle|scriptscriptstyle/.test(t),"Invalid style:",t);var i=A.tokenize(e),s=vi.parseTokens(i,"math",null,r);if(n==="mathlist")return s;var o=ei.decompose({mathstyle:t},s);o=sn.coalesce(o);if(n==="span")return o;var u=sn.makeSpan(o,"ML__base"),a=sn.makeSpan("","ML__strut");a.setStyle("height",u.height,"em");var f=[a];if(u.depth!==0){var l=sn.makeSpan("","ML__strut--bottom");l.setStyle("height",u.height+u.depth,"em"),l.setStyle("vertical-align",-u.depth,"em"),f.push(l)}f.push(u);var c=sn.makeSpan(f,"ML__mathlive");return c.toMarkup()}function cu(e,t){if(!Yo)throw Error("The MathField module is not loaded.");return t=t||{},t.handleSpeak=t.handleSpeak||gu,t.handleReadAloud=t.handleReadAloud||yu,new Yo.MathField(Tu(e),t)}function hu(e,t){if(!ei.toMathML)return console.log("The MathML module is not loaded."),"";t=t||{},t.macros=t.macros||{},Object.assign(t.macros,lr.MACROS);var n=vi.parseTokens(A.tokenize(e),"math",null,t.macros);return ei.toMathML(n,t)}function pu(e,t){if(!ei.toAST)return console.log("The AST module is not loaded."),{};t=t||{},t.macros=t.macros||{},Object.assign(t.macros,lr.MACROS);var n=vi.parseTokens(A.tokenize(e),"math",null,t.macros);return ei.toAST(n,t)}function du(e,t){if(!ei.toSpeakableText)return console.log("The outputSpokenText module is not loaded."),"";t=t||{},t.macros=t.macros||{},Object.assign(t.macros,lr.MACROS);var n=vi.parseTokens(A.tokenize(e),"math",null,t.macros);return ei.toSpeakableText(n,t)}function vu(e){e.classList.remove("highlight"),e.children&&Array.from(e.children).forEach(function(e){vu(e)})}function mu(e,t){!t||e.dataset.atomId===t?(e.classList.add("highlight"),e.children&&e.children.length>0&&Array.from(e.children).forEach(function(e){mu(e)})):(e.classList.remove("highlight"),e.children&&e.children.length>0&&Array.from(e.children).forEach(function(e){mu(e,t)}))}function gu(e,t){!t&&window&&window.mathlive&&(t=window.mathlive.config),t=t||{};if(!t.speechEngine||t.speechEngine==="local"){var n=new SpeechSynthesisUtterance(e);window?window.speechSynthesis.speak(n):console.log("Speak: ",e)}else if(t.speechEngine==="amazon")if(!window||!window.AWS)console.log("AWS SDK not loaded. See https://www.npmjs.com/package/aws-sdk");else{var r=new window.AWS.Polly({apiVersion:"2016-06-10"}),i={OutputFormat:"mp3",VoiceId:t.speechEngineVoice||"Joanna",Text:e,TextType:"ssml"};r.synthesizeSpeech(i,function(e,t){if(e)console.log("polly.synthesizeSpeech() error:",e,e.stack);else if(t&&t.AudioStream){var n=new Uint8Array(t.AudioStream),r=new Blob([n.buffer],{type:"audio/mpeg"}),i=URL.createObjectURL(r),s=new Audio(i);s.play()["catch"](function(e){return console.log(e)})}else console.log("polly.synthesizeSpeech():"+t)})}else t.speechEngine==="google"&&console.log("The Google speech engine is not supported yet. Please come again.")}function yu(e,t,n){if(!window)return;!n&&window.mathlive&&(n=window.mathlive.config),n=n||{};if(n.speechEngine!=="amazon"){console.log("Use Amazon TTS Engine for synchronized highlighting"),n.handleSpeak&&n.handleSpeak(t);return}if(!window.AWS){console.log("AWS SDK not loaded. See https://www.npmjs.com/package/aws-sdk");return}var r=new window.AWS.Polly({apiVersion:"2016-06-10"}),i={OutputFormat:"json",VoiceId:n.speechEngineVoice||"Joanna",Text:t,TextType:"ssml",SpeechMarkTypes:["ssml"]};window.mathlive=window.mathlive||{},window.mathlive.readAloudElement=e;var s=n.onReadAloudStatus||window.mathlive.onReadAloudStatus;r.synthesizeSpeech(i,function(e,n){if(e)console.log("polly.synthesizeSpeech() error:",e,e.stack);else if(n&&n.AudioStream){var o=(new TextDecoder("utf-8")).decode(new Uint8Array(n.AudioStream));window.mathlive.readAloudMarks=o.split("\n").map(function(e){return e?JSON.parse(e):{}}),window.mathlive.readAloudTokens=[];var u=!0,a=!1,f=undefined;try{for(var l=window.mathlive.readAloudMarks[Symbol.iterator](),c;!(u=(c=l.next()).done);u=!0){var h=c.value;h.value&&window.mathlive.readAloudTokens.push(h.value)}}catch(e){a=!0,f=e}finally{try{!u&&l["return"]!=null&&l["return"]()}finally{if(a)throw f}}window.mathlive.readAloudCurrentMark="",i.OutputFormat="mp3",i.SpeechMarkTypes=[],r.synthesizeSpeech(i,function(e,n){if(e)console.log("polly.synthesizeSpeech(",t,") error:",e,e.stack);else if(n&&n.AudioStream){var r=new Uint8Array(n.AudioStream),i=new Blob([r.buffer],{type:"audio/mpeg"}),o=URL.createObjectURL(i);window.mathlive.readAloudAudio?window.mathlive.readAloudAudio.pause():(window.mathlive.readAloudAudio=new Audio,window.mathlive.readAloudAudio.addEventListener("ended",function(){s&&s(window.mathlive.readAloudMathField,"ended"),window.mathlive.readAloudMathField?(window.mathlive.readAloudMathField._render(),window.mathlive.readAloudElement=null,window.mathlive.readAloudMathField=null,window.mathlive.readAloudTokens=[],window.mathlive.readAloudMarks=[],window.mathlive.readAloudCurrentMark=""):vu(window.mathlive.readAloudElement)}),window.mathlive.readAloudAudio.addEventListener("timeupdate",function(){var e="",t=window.mathlive.readAloudAudio.currentTime*1e3+100,n=!0,r=!1,i=undefined;try{for(var s=window.mathlive.readAloudMarks[Symbol.iterator](),o;!(n=(o=s.next()).done);n=!0){var u=o.value;u.time<t&&(e=u.value)}}catch(a){r=!0,i=a}finally{try{!n&&s["return"]!=null&&s["return"]()}finally{if(r)throw i}}window.mathlive.readAloudCurrentMark!==e&&(window.mathlive.readAloudCurrentToken=e,e&&e===window.mathlive.readAloudFinalToken?window.mathlive.readAloudAudio.pause():(window.mathlive.readAloudCurrentMark=e,mu(window.mathlive.readAloudElement,window.mathlive.readAloudCurrentMark)))})),window.mathlive.readAloudAudio.src=o,s&&s(window.mathlive.readAloudMathField,"playing"),window.mathlive.readAloudAudio.play()}})}else console.log("polly.synthesizeSpeech():"+n)})}function bu(){return window?(window.mathlive=window.mathlive||{},window.mathlive.readAloudAudio?window.mathlive.readAloudAudio.paused?"paused":window.mathlive.readAloudAudio.ended?"ready":"playing":"ready"):"unavailable"}function wu(){if(!window)return;window.mathlive=window.mathlive||{},window.mathlive.readAloudAudio&&(window.mathlive.onReadAloudStatus&&window.mathlive.onReadAloudStatus(window.mathlive.readAloudMathField,"paused"),window.mathlive.readAloudAudio.pause())}function Eu(){if(!window)return;window.mathlive=window.mathlive||{},window.mathlive.readAloudAudio&&(window.mathlive.onReadAloudStatus&&window.mathlive.onReadAloudStatus(window.mathlive.readAloudMathField,"playing"),window.mathlive.readAloudAudio.play())}function Su(e,t){if(!window)return;window.mathlive=window.mathlive||{};if(window.mathlive.readAloudAudio){var n=0;window.mathlive.readAloudFinalToken=null;if(e){window.mathlive.readAloudMarks=window.mathlive.readAloudMarks||[];var r=!0,i=!1,s=undefined;try{for(var o=window.mathlive.readAloudMarks[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){var a=u.value;a.value===e&&(n=a.time/1e3)}}catch(f){i=!0,s=f}finally{try{!r&&o["return"]!=null&&o["return"]()}finally{if(i)throw s}}var l=window.mathlive.readAloudTokens.indexOf(e);l>=0&&(l+=t,l<window.mathlive.readAloudTokens.length&&(window.mathlive.readAloudFinalToken=l))}window.mathlive.readAloudAudio.currentTime=n,window.mathlive.onReadAloudStatus&&window.mathlive.onReadAloudStatus(window.mathlive.readAloudMathField,"playing"),window.mathlive.readAloudAudio.play()}}function xu(e){Nu(document.body,e)}function Tu(e){var t=e;if(typeof e=="string"){t=document.getElementById(e);if(!t)throw Error('The element with ID "'.concat(e,'" could not be found.'))}return t}function Nu(e,t){if(!fu){console.log("The AutoRender module is not loaded.");return}t=t||{},t.renderToMarkup=t.renderToMarkup||lu,t.renderToMathML=t.renderToMathML||hu,t.renderToSpeakableText=t.renderToSpeakableText||du,t.macros=t.macros||lr.MACROS,fu.renderMathInElement(Tu(e),t)}function Cu(e){if(e.namespace){if(!/^[a-z]+[-]?$/.test(e.namespace))throw Error("options.namespace must be a string of lowercase characters only");/-$/.test(e.namespace)||(e.namespace+="-")}}function ku(e,t){e=Tu(e),e=e.children[1],e instanceof Yo.MathField?e.revertToOriginalContent():(t=t||{},Cu(t),e.innerHTML=e.getAttribute("data-"+(t.namespace||"")+"original-content"))}function Lu(e,t){return e=Tu(e),e=e.children[1],e instanceof Yo.MathField?e.originalContent:(t=t||{},Cu(t),e.getAttribute("data-"+(t.namespace||"")+"original-content"))}var r=0,i=1,s=2,o=3,u=4,a=5,f=6,l=7,c=8,h=9,p=10,d=11,v=12,S={splitGraphemes:b,countGraphemes:w,nextBreak:y},C=function Mu(e,t){N(this,Mu),this.type=e,this.value=t,console.assert(e!=="literal"||t!=="}")},k=function(){function e(t){N(this,e),this.s=S.splitGraphemes(t),this.pos=0}return T(e,[{key:"end",value:function(){return this.pos>=this.s.length}},{key:"get",value:function(){return this.pos<this.s.length?this.s[this.pos++]:null}},{key:"peek",value:function(){return this.pos<this.s.length?this.s[this.pos]:null}},{key:"scan",value:function(t){var n;return typeof this.s=="string"?n=t.exec(this.s.slice(this.pos)):n=t.exec(this.s.slice(this.pos).join("")),n?(this.pos+=n[0].length,n[0]):null}},{key:"isWhiteSpace",value:function(){return" \f\n\r	 \u2028\u2029".indexOf(this.s[this.pos])!==-1}},{key:"skipWhiteSpace",value:function(){var t=this.pos;while(!this.end()&&this.isWhiteSpace())this.get();return this.pos-t}},{key:"makeToken",value:function(){if(this.end())return null;if(this.skipWhiteSpace()>0)return new C("space");var t=null;if(this.peek()==="\\"){this.get();if(!this.end()){var n=this.scan(/^[a-zA-Z*]+/);n||(n=this.get()),n==="bgroup"?t=new C("{"):n==="egroup"?t=new C("}"):t=new C("command",n)}}else if(this.peek()==="{"||this.peek()==="}")t=new C(this.get());else if(this.peek()==="#"){this.get();if(!this.end()){var r=!1,i=this.peek();if(/[0-9?]/.test(i)){r=!0;if(this.pos+1<this.s.length){var s=this.s[this.pos+1];r=/[^0-9A-Za-z]/.test(s)}}r?(t=new C("#"),i=this.get(),i>="0"&&i<="9"?t.value=parseInt(i):t.value="?"):t=new C("literal","#")}}else this.peek()==="^"?t=new C(this.get()):this.peek()==="_"?t=new C(this.get()):this.peek()==="~"?(this.get(),t=new C("command","space")):this.peek()===""?t=new C("esc",this.get()):this.peek()==="$"?(this.get(),this.peek()==="$"?(this.get(),t=new C("$$")):t=new C("$")):t=new C("literal",this.get());return t}}]),e}(),A={tokenize:L},O={"AMS-Regular":{65:[0,.68889,0,0],66:[0,.68889,0,0],67:[0,.68889,0,0],68:[0,.68889,0,0],69:[0,.68889,0,0],70:[0,.68889,0,0],71:[0,.68889,0,0],72:[0,.68889,0,0],73:[0,.68889,0,0],74:[.16667,.68889,0,0],75:[0,.68889,0,0],76:[0,.68889,0,0],77:[0,.68889,0,0],78:[0,.68889,0,0],79:[.16667,.68889,0,0],80:[0,.68889,0,0],81:[.16667,.68889,0,0],82:[0,.68889,0,0],83:[0,.68889,0,0],84:[0,.68889,0,0],85:[0,.68889,0,0],86:[0,.68889,0,0],87:[0,.68889,0,0],88:[0,.68889,0,0],89:[0,.68889,0,0],90:[0,.68889,0,0],107:[0,.68889,0,0],165:[0,.675,.025,0],174:[.15559,.69224,0,0],240:[0,.68889,0,0],295:[0,.68889,0,0],710:[0,.825,0,0],732:[0,.9,0,0],770:[0,.825,0,0],771:[0,.9,0,0],989:[.08167,.58167,0,0],1008:[0,.43056,.04028,0],8245:[0,.54986,0,0],8463:[0,.68889,0,0],8487:[0,.68889,0,0],8498:[0,.68889,0,0],8502:[0,.68889,0,0],8503:[0,.68889,0,0],8504:[0,.68889,0,0],8513:[0,.68889,0,0],8592:[-0.03598,.46402,0,0],8594:[-0.03598,.46402,0,0],8602:[-0.13313,.36687,0,0],8603:[-0.13313,.36687,0,0],8606:[.01354,.52239,0,0],8608:[.01354,.52239,0,0],8610:[.01354,.52239,0,0],8611:[.01354,.52239,0,0],8619:[0,.54986,0,0],8620:[0,.54986,0,0],8621:[-0.13313,.37788,0,0],8622:[-0.13313,.36687,0,0],8624:[0,.69224,0,0],8625:[0,.69224,0,0],8630:[0,.43056,0,0],8631:[0,.43056,0,0],8634:[.08198,.58198,0,0],8635:[.08198,.58198,0,0],8638:[.19444,.69224,0,0],8639:[.19444,.69224,0,0],8642:[.19444,.69224,0,0],8643:[.19444,.69224,0,0],8644:[.1808,.675,0,0],8646:[.1808,.675,0,0],8647:[.1808,.675,0,0],8648:[.19444,.69224,0,0],8649:[.1808,.675,0,0],8650:[.19444,.69224,0,0],8651:[.01354,.52239,0,0],8652:[.01354,.52239,0,0],8653:[-0.13313,.36687,0,0],8654:[-0.13313,.36687,0,0],8655:[-0.13313,.36687,0,0],8666:[.13667,.63667,0,0],8667:[.13667,.63667,0,0],8669:[-0.13313,.37788,0,0],8672:[-0.064,.437,0,0],8674:[-0.064,.437,0,0],8705:[0,.825,0,0],8708:[0,.68889,0,0],8709:[.08167,.58167,0,0],8717:[0,.43056,0,0],8722:[-0.03598,.46402,0,0],8724:[.08198,.69224,0,0],8726:[.08167,.58167,0,0],8733:[0,.69224,0,0],8736:[0,.69224,0,0],8737:[0,.69224,0,0],8738:[.03517,.52239,0,0],8739:[.08167,.58167,0,0],8740:[.25142,.74111,0,0],8741:[.08167,.58167,0,0],8742:[.25142,.74111,0,0],8756:[0,.69224,0,0],8757:[0,.69224,0,0],8764:[-0.13313,.36687,0,0],8765:[-0.13313,.37788,0,0],8769:[-0.13313,.36687,0,0],8770:[-0.03625,.46375,0,0],8774:[.30274,.79383,0,0],8776:[-0.01688,.48312,0,0],8778:[.08167,.58167,0,0],8782:[.06062,.54986,0,0],8783:[.06062,.54986,0,0],8785:[.08198,.58198,0,0],8786:[.08198,.58198,0,0],8787:[.08198,.58198,0,0],8790:[0,.69224,0,0],8791:[.22958,.72958,0,0],8796:[.08198,.91667,0,0],8806:[.25583,.75583,0,0],8807:[.25583,.75583,0,0],8808:[.25142,.75726,0,0],8809:[.25142,.75726,0,0],8812:[.25583,.75583,0,0],8814:[.20576,.70576,0,0],8815:[.20576,.70576,0,0],8816:[.30274,.79383,0,0],8817:[.30274,.79383,0,0],8818:[.22958,.72958,0,0],8819:[.22958,.72958,0,0],8822:[.1808,.675,0,0],8823:[.1808,.675,0,0],8828:[.13667,.63667,0,0],8829:[.13667,.63667,0,0],8830:[.22958,.72958,0,0],8831:[.22958,.72958,0,0],8832:[.20576,.70576,0,0],8833:[.20576,.70576,0,0],8840:[.30274,.79383,0,0],8841:[.30274,.79383,0,0],8842:[.13597,.63597,0,0],8843:[.13597,.63597,0,0],8847:[.03517,.54986,0,0],8848:[.03517,.54986,0,0],8858:[.08198,.58198,0,0],8859:[.08198,.58198,0,0],8861:[.08198,.58198,0,0],8862:[0,.675,0,0],8863:[0,.675,0,0],8864:[0,.675,0,0],8865:[0,.675,0,0],8872:[0,.69224,0,0],8873:[0,.69224,0,0],8874:[0,.69224,0,0],8876:[0,.68889,0,0],8877:[0,.68889,0,0],8878:[0,.68889,0,0],8879:[0,.68889,0,0],8882:[.03517,.54986,0,0],8883:[.03517,.54986,0,0],8884:[.13667,.63667,0,0],8885:[.13667,.63667,0,0],8888:[0,.54986,0,0],8890:[.19444,.43056,0,0],8891:[.19444,.69224,0,0],8892:[.19444,.69224,0,0],8901:[0,.54986,0,0],8903:[.08167,.58167,0,0],8905:[.08167,.58167,0,0],8906:[.08167,.58167,0,0],8907:[0,.69224,0,0],8908:[0,.69224,0,0],8909:[-0.03598,.46402,0,0],8910:[0,.54986,0,0],8911:[0,.54986,0,0],8912:[.03517,.54986,0,0],8913:[.03517,.54986,0,0],8914:[0,.54986,0,0],8915:[0,.54986,0,0],8916:[0,.69224,0,0],8918:[.0391,.5391,0,0],8919:[.0391,.5391,0,0],8920:[.03517,.54986,0,0],8921:[.03517,.54986,0,0],8922:[.38569,.88569,0,0],8923:[.38569,.88569,0,0],8926:[.13667,.63667,0,0],8927:[.13667,.63667,0,0],8928:[.30274,.79383,0,0],8929:[.30274,.79383,0,0],8934:[.23222,.74111,0,0],8935:[.23222,.74111,0,0],8936:[.23222,.74111,0,0],8937:[.23222,.74111,0,0],8938:[.20576,.70576,0,0],8939:[.20576,.70576,0,0],8940:[.30274,.79383,0,0],8941:[.30274,.79383,0,0],8994:[.19444,.69224,0,0],8995:[.19444,.69224,0,0],9416:[.15559,.69224,0,0],9484:[0,.69224,0,0],9488:[0,.69224,0,0],9492:[0,.37788,0,0],9496:[0,.37788,0,0],9585:[.19444,.68889,0,0],9586:[.19444,.74111,0,0],9632:[0,.675,0,0],9633:[0,.675,0,0],9650:[0,.54986,0,0],9651:[0,.54986,0,0],9654:[.03517,.54986,0,0],9660:[0,.54986,0,0],9661:[0,.54986,0,0],9664:[.03517,.54986,0,0],9674:[.11111,.69224,0,0],9733:[.19444,.69224,0,0],10003:[0,.69224,0,0],10016:[0,.69224,0,0],10731:[.11111,.69224,0,0],10846:[.19444,.75583,0,0],10877:[.13667,.63667,0,0],10878:[.13667,.63667,0,0],10885:[.25583,.75583,0,0],10886:[.25583,.75583,0,0],10887:[.13597,.63597,0,0],10888:[.13597,.63597,0,0],10889:[.26167,.75726,0,0],10890:[.26167,.75726,0,0],10891:[.48256,.98256,0,0],10892:[.48256,.98256,0,0],10901:[.13667,.63667,0,0],10902:[.13667,.63667,0,0],10933:[.25142,.75726,0,0],10934:[.25142,.75726,0,0],10935:[.26167,.75726,0,0],10936:[.26167,.75726,0,0],10937:[.26167,.75726,0,0],10938:[.26167,.75726,0,0],10949:[.25583,.75583,0,0],10950:[.25583,.75583,0,0],10955:[.28481,.79383,0,0],10956:[.28481,.79383,0,0],57350:[.08167,.58167,0,0],57351:[.08167,.58167,0,0],57352:[.08167,.58167,0,0],57353:[0,.43056,.04028,0],57356:[.25142,.75726,0,0],57357:[.25142,.75726,0,0],57358:[.41951,.91951,0,0],57359:[.30274,.79383,0,0],57360:[.30274,.79383,0,0],57361:[.41951,.91951,0,0],57366:[.25142,.75726,0,0],57367:[.25142,.75726,0,0],57368:[.25142,.75726,0,0],57369:[.25142,.75726,0,0],57370:[.13597,.63597,0,0],57371:[.13597,.63597,0,0]},"Caligraphic-Regular":{48:[0,.43056,0,0],49:[0,.43056,0,0],50:[0,.43056,0,0],51:[.19444,.43056,0,0],52:[.19444,.43056,0,0],53:[.19444,.43056,0,0],54:[0,.64444,0,0],55:[.19444,.43056,0,0],56:[0,.64444,0,0],57:[.19444,.43056,0,0],65:[0,.68333,0,.19445],66:[0,.68333,.03041,.13889],67:[0,.68333,.05834,.13889],68:[0,.68333,.02778,.08334],69:[0,.68333,.08944,.11111],70:[0,.68333,.09931,.11111],71:[.09722,.68333,.0593,.11111],72:[0,.68333,.00965,.11111],73:[0,.68333,.07382,0],74:[.09722,.68333,.18472,.16667],75:[0,.68333,.01445,.05556],76:[0,.68333,0,.13889],77:[0,.68333,0,.13889],78:[0,.68333,.14736,.08334],79:[0,.68333,.02778,.11111],80:[0,.68333,.08222,.08334],81:[.09722,.68333,0,.11111],82:[0,.68333,0,.08334],83:[0,.68333,.075,.13889],84:[0,.68333,.25417,0],85:[0,.68333,.09931,.08334],86:[0,.68333,.08222,0],87:[0,.68333,.08222,.08334],88:[0,.68333,.14643,.13889],89:[.09722,.68333,.08222,.08334],90:[0,.68333,.07944,.13889]},"Fraktur-Regular":{33:[0,.69141,0,0],34:[0,.69141,0,0],38:[0,.69141,0,0],39:[0,.69141,0,0],40:[.24982,.74947,0,0],41:[.24982,.74947,0,0],42:[0,.62119,0,0],43:[.08319,.58283,0,0],44:[0,.10803,0,0],45:[.08319,.58283,0,0],46:[0,.10803,0,0],47:[.24982,.74947,0,0],48:[0,.47534,0,0],49:[0,.47534,0,0],50:[0,.47534,0,0],51:[.18906,.47534,0,0],52:[.18906,.47534,0,0],53:[.18906,.47534,0,0],54:[0,.69141,0,0],55:[.18906,.47534,0,0],56:[0,.69141,0,0],57:[.18906,.47534,0,0],58:[0,.47534,0,0],59:[.12604,.47534,0,0],61:[-0.13099,.36866,0,0],63:[0,.69141,0,0],65:[0,.69141,0,0],66:[0,.69141,0,0],67:[0,.69141,0,0],68:[0,.69141,0,0],69:[0,.69141,0,0],70:[.12604,.69141,0,0],71:[0,.69141,0,0],72:[.06302,.69141,0,0],73:[0,.69141,0,0],74:[.12604,.69141,0,0],75:[0,.69141,0,0],76:[0,.69141,0,0],77:[0,.69141,0,0],78:[0,.69141,0,0],79:[0,.69141,0,0],80:[.18906,.69141,0,0],81:[.03781,.69141,0,0],82:[0,.69141,0,0],83:[0,.69141,0,0],84:[0,.69141,0,0],85:[0,.69141,0,0],86:[0,.69141,0,0],87:[0,.69141,0,0],88:[0,.69141,0,0],89:[.18906,.69141,0,0],90:[.12604,.69141,0,0],91:[.24982,.74947,0,0],93:[.24982,.74947,0,0],94:[0,.69141,0,0],97:[0,.47534,0,0],98:[0,.69141,0,0],99:[0,.47534,0,0],100:[0,.62119,0,0],101:[0,.47534,0,0],102:[.18906,.69141,0,0],103:[.18906,.47534,0,0],104:[.18906,.69141,0,0],105:[0,.69141,0,0],106:[0,.69141,0,0],107:[0,.69141,0,0],108:[0,.69141,0,0],109:[0,.47534,0,0],110:[0,.47534,0,0],111:[0,.47534,0,0],112:[.18906,.52396,0,0],113:[.18906,.47534,0,0],114:[0,.47534,0,0],115:[0,.47534,0,0],116:[0,.62119,0,0],117:[0,.47534,0,0],118:[0,.52396,0,0],119:[0,.52396,0,0],120:[.18906,.47534,0,0],121:[.18906,.47534,0,0],122:[.18906,.47534,0,0],8216:[0,.69141,0,0],8217:[0,.69141,0,0],58112:[0,.62119,0,0],58113:[0,.62119,0,0],58114:[.18906,.69141,0,0],58115:[.18906,.69141,0,0],58116:[.18906,.47534,0,0],58117:[0,.69141,0,0],58118:[0,.62119,0,0],58119:[0,.47534,0,0]},"Main-Bold":{33:[0,.69444,0,0],34:[0,.69444,0,0],35:[.19444,.69444,0,0],36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:[0,.69444,0,0],39:[0,.69444,0,0],40:[.25,.75,0,0],41:[.25,.75,0,0],42:[0,.75,0,0],43:[.13333,.63333,0,0],44:[.19444,.15556,0,0],45:[0,.44444,0,0],46:[0,.15556,0,0],47:[.25,.75,0,0],48:[0,.64444,0,0],49:[0,.64444,0,0],50:[0,.64444,0,0],51:[0,.64444,0,0],52:[0,.64444,0,0],53:[0,.64444,0,0],54:[0,.64444,0,0],55:[0,.64444,0,0],56:[0,.64444,0,0],57:[0,.64444,0,0],58:[0,.44444,0,0],59:[.19444,.44444,0,0],60:[.08556,.58556,0,0],61:[-0.10889,.39111,0,0],62:[.08556,.58556,0,0],63:[0,.69444,0,0],64:[0,.69444,0,0],65:[0,.68611,0,0],66:[0,.68611,0,0],67:[0,.68611,0,0],68:[0,.68611,0,0],69:[0,.68611,0,0],70:[0,.68611,0,0],71:[0,.68611,0,0],72:[0,.68611,0,0],73:[0,.68611,0,0],74:[0,.68611,0,0],75:[0,.68611,0,0],76:[0,.68611,0,0],77:[0,.68611,0,0],78:[0,.68611,0,0],79:[0,.68611,0,0],80:[0,.68611,0,0],81:[.19444,.68611,0,0],82:[0,.68611,0,0],83:[0,.68611,0,0],84:[0,.68611,0,0],85:[0,.68611,0,0],86:[0,.68611,.01597,0],87:[0,.68611,.01597,0],88:[0,.68611,0,0],89:[0,.68611,.02875,0],90:[0,.68611,0,0],91:[.25,.75,0,0],92:[.25,.75,0,0],93:[.25,.75,0,0],94:[0,.69444,0,0],95:[.31,.13444,.03194,0],96:[0,.69444,0,0],97:[0,.44444,0,0],98:[0,.69444,0,0],99:[0,.44444,0,0],100:[0,.69444,0,0],101:[0,.44444,0,0],102:[0,.69444,.10903,0],103:[.19444,.44444,.01597,0],104:[0,.69444,0,0],105:[0,.69444,0,0],106:[.19444,.69444,0,0],107:[0,.69444,0,0],108:[0,.69444,0,0],109:[0,.44444,0,0],110:[0,.44444,0,0],111:[0,.44444,0,0],112:[.19444,.44444,0,0],113:[.19444,.44444,0,0],114:[0,.44444,0,0],115:[0,.44444,0,0],116:[0,.63492,0,0],117:[0,.44444,0,0],118:[0,.44444,.01597,0],119:[0,.44444,.01597,0],120:[0,.44444,0,0],121:[.19444,.44444,.01597,0],122:[0,.44444,0,0],123:[.25,.75,0,0],124:[.25,.75,0,0],125:[.25,.75,0,0],126:[.35,.34444,0,0],168:[0,.69444,0,0],172:[0,.44444,0,0],175:[0,.59611,0,0],176:[0,.69444,0,0],177:[.13333,.63333,0,0],180:[0,.69444,0,0],215:[.13333,.63333,0,0],247:[.13333,.63333,0,0],305:[0,.44444,0,0],567:[.19444,.44444,0,0],710:[0,.69444,0,0],711:[0,.63194,0,0],713:[0,.59611,0,0],714:[0,.69444,0,0],715:[0,.69444,0,0],728:[0,.69444,0,0],729:[0,.69444,0,0],730:[0,.69444,0,0],732:[0,.69444,0,0],768:[0,.69444,0,0],769:[0,.69444,0,0],770:[0,.69444,0,0],771:[0,.69444,0,0],772:[0,.59611,0,0],774:[0,.69444,0,0],775:[0,.69444,0,0],776:[0,.69444,0,0],778:[0,.69444,0,0],779:[0,.69444,0,0],780:[0,.63194,0,0],824:[.19444,.69444,0,0],915:[0,.68611,0,0],916:[0,.68611,0,0],920:[0,.68611,0,0],923:[0,.68611,0,0],926:[0,.68611,0,0],928:[0,.68611,0,0],931:[0,.68611,0,0],933:[0,.68611,0,0],934:[0,.68611,0,0],936:[0,.68611,0,0],937:[0,.68611,0,0],8211:[0,.44444,.03194,0],8212:[0,.44444,.03194,0],8216:[0,.69444,0,0],8217:[0,.69444,0,0],8220:[0,.69444,0,0],8221:[0,.69444,0,0],8224:[.19444,.69444,0,0],8225:[.19444,.69444,0,0],8242:[0,.55556,0,0],8407:[0,.72444,.15486,0],8463:[0,.69444,0,0],8465:[0,.69444,0,0],8467:[0,.69444,0,0],8472:[.19444,.44444,0,0],8476:[0,.69444,0,0],8501:[0,.69444,0,0],8592:[-0.10889,.39111,0,0],8593:[.19444,.69444,0,0],8594:[-0.10889,.39111,0,0],8595:[.19444,.69444,0,0],8596:[-0.10889,.39111,0,0],8597:[.25,.75,0,0],8598:[.19444,.69444,0,0],8599:[.19444,.69444,0,0],8600:[.19444,.69444,0,0],8601:[.19444,.69444,0,0],8636:[-0.10889,.39111,0,0],8637:[-0.10889,.39111,0,0],8640:[-0.10889,.39111,0,0],8641:[-0.10889,.39111,0,0],8656:[-0.10889,.39111,0,0],8657:[.19444,.69444,0,0],8658:[-0.10889,.39111,0,0],8659:[.19444,.69444,0,0],8660:[-0.10889,.39111,0,0],8661:[.25,.75,0,0],8704:[0,.69444,0,0],8706:[0,.69444,.06389,0],8707:[0,.69444,0,0],8709:[.05556,.75,0,0],8711:[0,.68611,0,0],8712:[.08556,.58556,0,0],8715:[.08556,.58556,0,0],8722:[.13333,.63333,0,0],8723:[.13333,.63333,0,0],8725:[.25,.75,0,0],8726:[.25,.75,0,0],8727:[-0.02778,.47222,0,0],8728:[-0.02639,.47361,0,0],8729:[-0.02639,.47361,0,0],8730:[.18,.82,0,0],8733:[0,.44444,0,0],8734:[0,.44444,0,0],8736:[0,.69224,0,0],8739:[.25,.75,0,0],8741:[.25,.75,0,0],8743:[0,.55556,0,0],8744:[0,.55556,0,0],8745:[0,.55556,0,0],8746:[0,.55556,0,0],8747:[.19444,.69444,.12778,0],8764:[-0.10889,.39111,0,0],8768:[.19444,.69444,0,0],8771:[.00222,.50222,0,0],8776:[.02444,.52444,0,0],8781:[.00222,.50222,0,0],8801:[.00222,.50222,0,0],8804:[.19667,.69667,0,0],8805:[.19667,.69667,0,0],8810:[.08556,.58556,0,0],8811:[.08556,.58556,0,0],8826:[.08556,.58556,0,0],8827:[.08556,.58556,0,0],8834:[.08556,.58556,0,0],8835:[.08556,.58556,0,0],8838:[.19667,.69667,0,0],8839:[.19667,.69667,0,0],8846:[0,.55556,0,0],8849:[.19667,.69667,0,0],8850:[.19667,.69667,0,0],8851:[0,.55556,0,0],8852:[0,.55556,0,0],8853:[.13333,.63333,0,0],8854:[.13333,.63333,0,0],8855:[.13333,.63333,0,0],8856:[.13333,.63333,0,0],8857:[.13333,.63333,0,0],8866:[0,.69444,0,0],8867:[0,.69444,0,0],8868:[0,.69444,0,0],8869:[0,.69444,0,0],8900:[-0.02639,.47361,0,0],8901:[-0.02639,.47361,0,0],8902:[-0.02778,.47222,0,0],8968:[.25,.75,0,0],8969:[.25,.75,0,0],8970:[.25,.75,0,0],8971:[.25,.75,0,0],8994:[-0.13889,.36111,0,0],8995:[-0.13889,.36111,0,0],9651:[.19444,.69444,0,0],9657:[-0.02778,.47222,0,0],9661:[.19444,.69444,0,0],9667:[-0.02778,.47222,0,0],9711:[.19444,.69444,0,0],9824:[.12963,.69444,0,0],9825:[.12963,.69444,0,0],9826:[.12963,.69444,0,0],9827:[.12963,.69444,0,0],9837:[0,.75,0,0],9838:[.19444,.69444,0,0],9839:[.19444,.69444,0,0],10216:[.25,.75,0,0],10217:[.25,.75,0,0],10815:[0,.68611,0,0],10927:[.19667,.69667,0,0],10928:[.19667,.69667,0,0]},"Main-Italic":{33:[0,.69444,.12417,0],34:[0,.69444,.06961,0],35:[.19444,.69444,.06616,0],37:[.05556,.75,.13639,0],38:[0,.69444,.09694,0],39:[0,.69444,.12417,0],40:[.25,.75,.16194,0],41:[.25,.75,.03694,0],42:[0,.75,.14917,0],43:[.05667,.56167,.03694,0],44:[.19444,.10556,0,0],45:[0,.43056,.02826,0],46:[0,.10556,0,0],47:[.25,.75,.16194,0],48:[0,.64444,.13556,0],49:[0,.64444,.13556,0],50:[0,.64444,.13556,0],51:[0,.64444,.13556,0],52:[.19444,.64444,.13556,0],53:[0,.64444,.13556,0],54:[0,.64444,.13556,0],55:[.19444,.64444,.13556,0],56:[0,.64444,.13556,0],57:[0,.64444,.13556,0],58:[0,.43056,.0582,0],59:[.19444,.43056,.0582,0],61:[-0.13313,.36687,.06616,0],63:[0,.69444,.1225,0],64:[0,.69444,.09597,0],65:[0,.68333,0,0],66:[0,.68333,.10257,0],67:[0,.68333,.14528,0],68:[0,.68333,.09403,0],69:[0,.68333,.12028,0],70:[0,.68333,.13305,0],71:[0,.68333,.08722,0],72:[0,.68333,.16389,0],73:[0,.68333,.15806,0],74:[0,.68333,.14028,0],75:[0,.68333,.14528,0],76:[0,.68333,0,0],77:[0,.68333,.16389,0],78:[0,.68333,.16389,0],79:[0,.68333,.09403,0],80:[0,.68333,.10257,0],81:[.19444,.68333,.09403,0],82:[0,.68333,.03868,0],83:[0,.68333,.11972,0],84:[0,.68333,.13305,0],85:[0,.68333,.16389,0],86:[0,.68333,.18361,0],87:[0,.68333,.18361,0],88:[0,.68333,.15806,0],89:[0,.68333,.19383,0],90:[0,.68333,.14528,0],91:[.25,.75,.1875,0],93:[.25,.75,.10528,0],94:[0,.69444,.06646,0],95:[.31,.12056,.09208,0],97:[0,.43056,.07671,0],98:[0,.69444,.06312,0],99:[0,.43056,.05653,0],100:[0,.69444,.10333,0],101:[0,.43056,.07514,0],102:[.19444,.69444,.21194,0],103:[.19444,.43056,.08847,0],104:[0,.69444,.07671,0],105:[0,.65536,.1019,0],106:[.19444,.65536,.14467,0],107:[0,.69444,.10764,0],108:[0,.69444,.10333,0],109:[0,.43056,.07671,0],110:[0,.43056,.07671,0],111:[0,.43056,.06312,0],112:[.19444,.43056,.06312,0],113:[.19444,.43056,.08847,0],114:[0,.43056,.10764,0],115:[0,.43056,.08208,0],116:[0,.61508,.09486,0],117:[0,.43056,.07671,0],118:[0,.43056,.10764,0],119:[0,.43056,.10764,0],120:[0,.43056,.12042,0],121:[.19444,.43056,.08847,0],122:[0,.43056,.12292,0],126:[.35,.31786,.11585,0],163:[0,.69444,0,0],305:[0,.43056,0,.02778],567:[.19444,.43056,0,.08334],768:[0,.69444,0,0],769:[0,.69444,.09694,0],770:[0,.69444,.06646,0],771:[0,.66786,.11585,0],772:[0,.56167,.10333,0],774:[0,.69444,.10806,0],775:[0,.66786,.11752,0],776:[0,.66786,.10474,0],778:[0,.69444,0,0],779:[0,.69444,.1225,0],780:[0,.62847,.08295,0],915:[0,.68333,.13305,0],916:[0,.68333,0,0],920:[0,.68333,.09403,0],923:[0,.68333,0,0],926:[0,.68333,.15294,0],928:[0,.68333,.16389,0],931:[0,.68333,.12028,0],933:[0,.68333,.11111,0],934:[0,.68333,.05986,0],936:[0,.68333,.11111,0],937:[0,.68333,.10257,0],8211:[0,.43056,.09208,0],8212:[0,.43056,.09208,0],8216:[0,.69444,.12417,0],8217:[0,.69444,.12417,0],8220:[0,.69444,.1685,0],8221:[0,.69444,.06961,0],8463:[0,.68889,0,0]},"Main-Regular":{32:[0,0,0,0],33:[0,.69444,0,0],34:[0,.69444,0,0],35:[.19444,.69444,0,0],36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:[0,.69444,0,0],39:[0,.69444,0,0],40:[.25,.75,0,0],41:[.25,.75,0,0],42:[0,.75,0,0],43:[.08333,.58333,0,0],44:[.19444,.10556,0,0],45:[0,.43056,0,0],46:[0,.10556,0,0],47:[.25,.75,0,0],48:[0,.64444,0,0],49:[0,.64444,0,0],50:[0,.64444,0,0],51:[0,.64444,0,0],52:[0,.64444,0,0],53:[0,.64444,0,0],54:[0,.64444,0,0],55:[0,.64444,0,0],56:[0,.64444,0,0],57:[0,.64444,0,0],58:[0,.43056,0,0],59:[.19444,.43056,0,0],60:[.0391,.5391,0,0],61:[-0.13313,.36687,0,0],62:[.0391,.5391,0,0],63:[0,.69444,0,0],64:[0,.69444,0,0],65:[0,.68333,0,0],66:[0,.68333,0,0],67:[0,.68333,0,0],68:[0,.68333,0,0],69:[0,.68333,0,0],70:[0,.68333,0,0],71:[0,.68333,0,0],72:[0,.68333,0,0],73:[0,.68333,0,0],74:[0,.68333,0,0],75:[0,.68333,0,0],76:[0,.68333,0,0],77:[0,.68333,0,0],78:[0,.68333,0,0],79:[0,.68333,0,0],80:[0,.68333,0,0],81:[.19444,.68333,0,0],82:[0,.68333,0,0],83:[0,.68333,0,0],84:[0,.68333,0,0],85:[0,.68333,0,0],86:[0,.68333,.01389,0],87:[0,.68333,.01389,0],88:[0,.68333,0,0],89:[0,.68333,.025,0],90:[0,.68333,0,0],91:[.25,.75,0,0],92:[.25,.75,0,0],93:[.25,.75,0,0],94:[0,.69444,0,0],95:[.31,.12056,.02778,0],96:[0,.69444,0,0],97:[0,.43056,0,0],98:[0,.69444,0,0],99:[0,.43056,0,0],100:[0,.69444,0,0],101:[0,.43056,0,0],102:[0,.69444,.07778,0],103:[.19444,.43056,.01389,0],104:[0,.69444,0,0],105:[0,.66786,0,0],106:[.19444,.66786,0,0],107:[0,.69444,0,0],108:[0,.69444,0,0],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,0],112:[.19444,.43056,0,0],113:[.19444,.43056,0,0],114:[0,.43056,0,0],115:[0,.43056,0,0],116:[0,.61508,0,0],117:[0,.43056,0,0],118:[0,.43056,.01389,0],119:[0,.43056,.01389,0],120:[0,.43056,0,0],121:[.19444,.43056,.01389,0],122:[0,.43056,0,0],123:[.25,.75,0,0],124:[.25,.75,0,0],125:[.25,.75,0,0],126:[.35,.31786,0,0],160:[0,0,0,0],168:[0,.66786,0,0],172:[0,.43056,0,0],175:[0,.56778,0,0],176:[0,.69444,0,0],177:[.08333,.58333,0,0],180:[0,.69444,0,0],215:[.08333,.58333,0,0],247:[.08333,.58333,0,0],305:[0,.43056,0,0],567:[.19444,.43056,0,0],710:[0,.69444,0,0],711:[0,.62847,0,0],713:[0,.56778,0,0],714:[0,.69444,0,0],715:[0,.69444,0,0],728:[0,.69444,0,0],729:[0,.66786,0,0],730:[0,.69444,0,0],732:[0,.66786,0,0],768:[0,.69444,0,0],769:[0,.69444,0,0],770:[0,.69444,0,0],771:[0,.66786,0,0],772:[0,.56778,0,0],774:[0,.69444,0,0],775:[0,.66786,0,0],776:[0,.66786,0,0],778:[0,.69444,0,0],779:[0,.69444,0,0],780:[0,.62847,0,0],824:[.19444,.69444,0,0],915:[0,.68333,0,0],916:[0,.68333,0,0],920:[0,.68333,0,0],923:[0,.68333,0,0],926:[0,.68333,0,0],928:[0,.68333,0,0],931:[0,.68333,0,0],933:[0,.68333,0,0],934:[0,.68333,0,0],936:[0,.68333,0,0],937:[0,.68333,0,0],8211:[0,.43056,.02778,0],8212:[0,.43056,.02778,0],8216:[0,.69444,0,0],8217:[0,.69444,0,0],8220:[0,.69444,0,0],8221:[0,.69444,0,0],8224:[.19444,.69444,0,0],8225:[.19444,.69444,0,0],8230:[0,.12,0,0],8242:[0,.55556,0,0],8407:[0,.71444,.15382,0],8463:[0,.68889,0,0],8465:[0,.69444,0,0],8467:[0,.69444,0,.11111],8472:[.19444,.43056,0,.11111],8476:[0,.69444,0,0],8501:[0,.69444,0,0],8592:[-0.13313,.36687,0,0],8593:[.19444,.69444,0,0],8594:[-0.13313,.36687,0,0],8595:[.19444,.69444,0,0],8596:[-0.13313,.36687,0,0],8597:[.25,.75,0,0],8598:[.19444,.69444,0,0],8599:[.19444,.69444,0,0],8600:[.19444,.69444,0,0],8601:[.19444,.69444,0,0],8614:[.011,.511,0,0],8617:[.011,.511,0,0],8618:[.011,.511,0,0],8636:[-0.13313,.36687,0,0],8637:[-0.13313,.36687,0,0],8640:[-0.13313,.36687,0,0],8641:[-0.13313,.36687,0,0],8652:[.011,.671,0,0],8656:[-0.13313,.36687,0,0],8657:[.19444,.69444,0,0],8658:[-0.13313,.36687,0,0],8659:[.19444,.69444,0,0],8660:[-0.13313,.36687,0,0],8661:[.25,.75,0,0],8704:[0,.69444,0,0],8706:[0,.69444,.05556,.08334],8707:[0,.69444,0,0],8709:[.05556,.75,0,0],8711:[0,.68333,0,0],8712:[.0391,.5391,0,0],8715:[.0391,.5391,0,0],8722:[.08333,.58333,0,0],8723:[.08333,.58333,0,0],8725:[.25,.75,0,0],8726:[.25,.75,0,0],8727:[-0.03472,.46528,0,0],8728:[-0.05555,.44445,0,0],8729:[-0.05555,.44445,0,0],8730:[.2,.8,0,0],8733:[0,.43056,0,0],8734:[0,.43056,0,0],8736:[0,.69224,0,0],8739:[.25,.75,0,0],8741:[.25,.75,0,0],8743:[0,.55556,0,0],8744:[0,.55556,0,0],8745:[0,.55556,0,0],8746:[0,.55556,0,0],8747:[.19444,.69444,.11111,0],8764:[-0.13313,.36687,0,0],8768:[.19444,.69444,0,0],8771:[-0.03625,.46375,0,0],8773:[-0.022,.589,0,0],8776:[-0.01688,.48312,0,0],8781:[-0.03625,.46375,0,0],8784:[-0.133,.67,0,0],8800:[.215,.716,0,0],8801:[-0.03625,.46375,0,0],8804:[.13597,.63597,0,0],8805:[.13597,.63597,0,0],8810:[.0391,.5391,0,0],8811:[.0391,.5391,0,0],8826:[.0391,.5391,0,0],8827:[.0391,.5391,0,0],8834:[.0391,.5391,0,0],8835:[.0391,.5391,0,0],8838:[.13597,.63597,0,0],8839:[.13597,.63597,0,0],8846:[0,.55556,0,0],8849:[.13597,.63597,0,0],8850:[.13597,.63597,0,0],8851:[0,.55556,0,0],8852:[0,.55556,0,0],8853:[.08333,.58333,0,0],8854:[.08333,.58333,0,0],8855:[.08333,.58333,0,0],8856:[.08333,.58333,0,0],8857:[.08333,.58333,0,0],8866:[0,.69444,0,0],8867:[0,.69444,0,0],8868:[0,.69444,0,0],8869:[0,.69444,0,0],8872:[.249,.75,0,0],8900:[-0.05555,.44445,0,0],8901:[-0.05555,.44445,0,0],8902:[-0.03472,.46528,0,0],8904:[.005,.505,0,0],8942:[.03,.9,0,0],8943:[-0.19,.31,0,0],8945:[-0.1,.82,0,0],8968:[.25,.75,0,0],8969:[.25,.75,0,0],8970:[.25,.75,0,0],8971:[.25,.75,0,0],8994:[-0.14236,.35764,0,0],8995:[-0.14236,.35764,0,0],9136:[.244,.744,0,0],9137:[.244,.744,0,0],9651:[.19444,.69444,0,0],9657:[-0.03472,.46528,0,0],9661:[.19444,.69444,0,0],9667:[-0.03472,.46528,0,0],9711:[.19444,.69444,0,0],9824:[.12963,.69444,0,0],9825:[.12963,.69444,0,0],9826:[.12963,.69444,0,0],9827:[.12963,.69444,0,0],9837:[0,.75,0,0],9838:[.19444,.69444,0,0],9839:[.19444,.69444,0,0],10216:[.25,.75,0,0],10217:[.25,.75,0,0],10222:[.244,.744,0,0],10223:[.244,.744,0,0],10229:[.011,.511,0,0],10230:[.011,.511,0,0],10231:[.011,.511,0,0],10232:[.024,.525,0,0],10233:[.024,.525,0,0],10234:[.024,.525,0,0],10236:[.011,.511,0,0],10815:[0,.68333,0,0],10927:[.13597,.63597,0,0],10928:[.13597,.63597,0,0]},"Math-BoldItalic":{47:[.19444,.69444,0,0],65:[0,.68611,0,0],66:[0,.68611,.04835,0],67:[0,.68611,.06979,0],68:[0,.68611,.03194,0],69:[0,.68611,.05451,0],70:[0,.68611,.15972,0],71:[0,.68611,0,0],72:[0,.68611,.08229,0],73:[0,.68611,.07778,0],74:[0,.68611,.10069,0],75:[0,.68611,.06979,0],76:[0,.68611,0,0],77:[0,.68611,.11424,0],78:[0,.68611,.11424,0],79:[0,.68611,.03194,0],80:[0,.68611,.15972,0],81:[.19444,.68611,0,0],82:[0,.68611,.00421,0],83:[0,.68611,.05382,0],84:[0,.68611,.15972,0],85:[0,.68611,.11424,0],86:[0,.68611,.25555,0],87:[0,.68611,.15972,0],88:[0,.68611,.07778,0],89:[0,.68611,.25555,0],90:[0,.68611,.06979,0],97:[0,.44444,0,0],98:[0,.69444,0,0],99:[0,.44444,0,0],100:[0,.69444,0,0],101:[0,.44444,0,0],102:[.19444,.69444,.11042,0],103:[.19444,.44444,.03704,0],104:[0,.69444,0,0],105:[0,.69326,0,0],106:[.19444,.69326,.0622,0],107:[0,.69444,.01852,0],108:[0,.69444,.0088,0],109:[0,.44444,0,0],110:[0,.44444,0,0],111:[0,.44444,0,0],112:[.19444,.44444,0,0],113:[.19444,.44444,.03704,0],114:[0,.44444,.03194,0],115:[0,.44444,0,0],116:[0,.63492,0,0],117:[0,.44444,0,0],118:[0,.44444,.03704,0],119:[0,.44444,.02778,0],120:[0,.44444,0,0],121:[.19444,.44444,.03704,0],122:[0,.44444,.04213,0],915:[0,.68611,.15972,0],916:[0,.68611,0,0],920:[0,.68611,.03194,0],923:[0,.68611,0,0],926:[0,.68611,.07458,0],928:[0,.68611,.08229,0],931:[0,.68611,.05451,0],933:[0,.68611,.15972,0],934:[0,.68611,0,0],936:[0,.68611,.11653,0],937:[0,.68611,.04835,0],945:[0,.44444,0,0],946:[.19444,.69444,.03403,0],947:[.19444,.44444,.06389,0],948:[0,.69444,.03819,0],949:[0,.44444,0,0],950:[.19444,.69444,.06215,0],951:[.19444,.44444,.03704,0],952:[0,.69444,.03194,0],953:[0,.44444,0,0],954:[0,.44444,0,0],955:[0,.69444,0,0],956:[.19444,.44444,0,0],957:[0,.44444,.06898,0],958:[.19444,.69444,.03021,0],959:[0,.44444,0,0],960:[0,.44444,.03704,0],961:[.19444,.44444,0,0],962:[.09722,.44444,.07917,0],963:[0,.44444,.03704,0],964:[0,.44444,.13472,0],965:[0,.44444,.03704,0],966:[.19444,.44444,0,0],967:[.19444,.44444,0,0],968:[.19444,.69444,.03704,0],969:[0,.44444,.03704,0],977:[0,.69444,0,0],981:[.19444,.69444,0,0],982:[0,.44444,.03194,0],1009:[.19444,.44444,0,0],1013:[0,.44444,0,0]},"Math-Italic":{47:[.19444,.69444,0,0],65:[0,.68333,0,.13889],66:[0,.68333,.05017,.08334],67:[0,.68333,.07153,.08334],68:[0,.68333,.02778,.05556],69:[0,.68333,.05764,.08334],70:[0,.68333,.13889,.08334],71:[0,.68333,0,.08334],72:[0,.68333,.08125,.05556],73:[0,.68333,.07847,.11111],74:[0,.68333,.09618,.16667],75:[0,.68333,.07153,.05556],76:[0,.68333,0,.02778],77:[0,.68333,.10903,.08334],78:[0,.68333,.10903,.08334],79:[0,.68333,.02778,.08334],80:[0,.68333,.13889,.08334],81:[.19444,.68333,0,.08334],82:[0,.68333,.00773,.08334],83:[0,.68333,.05764,.08334],84:[0,.68333,.13889,.08334],85:[0,.68333,.10903,.02778],86:[0,.68333,.22222,0],87:[0,.68333,.13889,0],88:[0,.68333,.07847,.08334],89:[0,.68333,.22222,0],90:[0,.68333,.07153,.08334],97:[0,.43056,0,0],98:[0,.69444,0,0],99:[0,.43056,0,.05556],100:[0,.69444,0,.16667],101:[0,.43056,0,.05556],102:[.19444,.69444,.10764,.16667],103:[.19444,.43056,.03588,.02778],104:[0,.69444,0,0],105:[0,.65952,0,0],106:[.19444,.65952,.05724,0],107:[0,.69444,.03148,0],108:[0,.69444,.01968,.08334],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,.05556],112:[.19444,.43056,0,.08334],113:[.19444,.43056,.03588,.08334],114:[0,.43056,.02778,.05556],115:[0,.43056,0,.05556],116:[0,.61508,0,.08334],117:[0,.43056,0,.02778],118:[0,.43056,.03588,.02778],119:[0,.43056,.02691,.08334],120:[0,.43056,0,.02778],121:[.19444,.43056,.03588,.05556],122:[0,.43056,.04398,.05556],915:[0,.68333,.13889,.08334],916:[0,.68333,0,.16667],920:[0,.68333,.02778,.08334],923:[0,.68333,0,.16667],926:[0,.68333,.07569,.08334],928:[0,.68333,.08125,.05556],931:[0,.68333,.05764,.08334],933:[0,.68333,.13889,.05556],934:[0,.68333,0,.08334],936:[0,.68333,.11,.05556],937:[0,.68333,.05017,.08334],945:[0,.43056,.0037,.02778],946:[.19444,.69444,.05278,.08334],947:[.19444,.43056,.05556,0],948:[0,.69444,.03785,.05556],949:[0,.43056,0,.08334],950:[.19444,.69444,.07378,.08334],951:[.19444,.43056,.03588,.05556],952:[0,.69444,.02778,.08334],953:[0,.43056,0,.05556],954:[0,.43056,0,0],955:[0,.69444,0,0],956:[.19444,.43056,0,.02778],957:[0,.43056,.06366,.02778],958:[.19444,.69444,.04601,.11111],959:[0,.43056,0,.05556],960:[0,.43056,.03588,0],961:[.19444,.43056,0,.08334],962:[.09722,.43056,.07986,.08334],963:[0,.43056,.03588,0],964:[0,.43056,.1132,.02778],965:[0,.43056,.03588,.02778],966:[.19444,.43056,0,.08334],967:[.19444,.43056,0,.05556],968:[.19444,.69444,.03588,.11111],969:[0,.43056,.03588,0],977:[0,.69444,0,.08334],981:[.19444,.69444,0,.08334],982:[0,.43056,.02778,0],1009:[.19444,.43056,0,.08334],1013:[0,.43056,0,.05556]},"Math-Regular":{65:[0,.68333,0,.13889],66:[0,.68333,.05017,.08334],67:[0,.68333,.07153,.08334],68:[0,.68333,.02778,.05556],69:[0,.68333,.05764,.08334],70:[0,.68333,.13889,.08334],71:[0,.68333,0,.08334],72:[0,.68333,.08125,.05556],73:[0,.68333,.07847,.11111],74:[0,.68333,.09618,.16667],75:[0,.68333,.07153,.05556],76:[0,.68333,0,.02778],77:[0,.68333,.10903,.08334],78:[0,.68333,.10903,.08334],79:[0,.68333,.02778,.08334],80:[0,.68333,.13889,.08334],81:[.19444,.68333,0,.08334],82:[0,.68333,.00773,.08334],83:[0,.68333,.05764,.08334],84:[0,.68333,.13889,.08334],85:[0,.68333,.10903,.02778],86:[0,.68333,.22222,0],87:[0,.68333,.13889,0],88:[0,.68333,.07847,.08334],89:[0,.68333,.22222,0],90:[0,.68333,.07153,.08334],97:[0,.43056,0,0],98:[0,.69444,0,0],99:[0,.43056,0,.05556],100:[0,.69444,0,.16667],101:[0,.43056,0,.05556],102:[.19444,.69444,.10764,.16667],103:[.19444,.43056,.03588,.02778],104:[0,.69444,0,0],105:[0,.65952,0,0],106:[.19444,.65952,.05724,0],107:[0,.69444,.03148,0],108:[0,.69444,.01968,.08334],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,.05556],112:[.19444,.43056,0,.08334],113:[.19444,.43056,.03588,.08334],114:[0,.43056,.02778,.05556],115:[0,.43056,0,.05556],116:[0,.61508,0,.08334],117:[0,.43056,0,.02778],118:[0,.43056,.03588,.02778],119:[0,.43056,.02691,.08334],120:[0,.43056,0,.02778],121:[.19444,.43056,.03588,.05556],122:[0,.43056,.04398,.05556],915:[0,.68333,.13889,.08334],916:[0,.68333,0,.16667],920:[0,.68333,.02778,.08334],923:[0,.68333,0,.16667],926:[0,.68333,.07569,.08334],928:[0,.68333,.08125,.05556],931:[0,.68333,.05764,.08334],933:[0,.68333,.13889,.05556],934:[0,.68333,0,.08334],936:[0,.68333,.11,.05556],937:[0,.68333,.05017,.08334],945:[0,.43056,.0037,.02778],946:[.19444,.69444,.05278,.08334],947:[.19444,.43056,.05556,0],948:[0,.69444,.03785,.05556],949:[0,.43056,0,.08334],950:[.19444,.69444,.07378,.08334],951:[.19444,.43056,.03588,.05556],952:[0,.69444,.02778,.08334],953:[0,.43056,0,.05556],954:[0,.43056,0,0],955:[0,.69444,0,0],956:[.19444,.43056,0,.02778],957:[0,.43056,.06366,.02778],958:[.19444,.69444,.04601,.11111],959:[0,.43056,0,.05556],960:[0,.43056,.03588,0],961:[.19444,.43056,0,.08334],962:[.09722,.43056,.07986,.08334],963:[0,.43056,.03588,0],964:[0,.43056,.1132,.02778],965:[0,.43056,.03588,.02778],966:[.19444,.43056,0,.08334],967:[.19444,.43056,0,.05556],968:[.19444,.69444,.03588,.11111],969:[0,.43056,.03588,0],977:[0,.69444,0,.08334],981:[.19444,.69444,0,.08334],982:[0,.43056,.02778,0],1009:[.19444,.43056,0,.08334],1013:[0,.43056,0,.05556]},"SansSerif-Regular":{33:[0,.69444,0,0],34:[0,.69444,0,0],35:[.19444,.69444,0,0],36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:[0,.69444,0,0],39:[0,.69444,0,0],40:[.25,.75,0,0],41:[.25,.75,0,0],42:[0,.75,0,0],43:[.08333,.58333,0,0],44:[.125,.08333,0,0],45:[0,.44444,0,0],46:[0,.08333,0,0],47:[.25,.75,0,0],48:[0,.65556,0,0],49:[0,.65556,0,0],50:[0,.65556,0,0],51:[0,.65556,0,0],52:[0,.65556,0,0],53:[0,.65556,0,0],54:[0,.65556,0,0],55:[0,.65556,0,0],56:[0,.65556,0,0],57:[0,.65556,0,0],58:[0,.44444,0,0],59:[.125,.44444,0,0],61:[-0.13,.37,0,0],63:[0,.69444,0,0],64:[0,.69444,0,0],65:[0,.69444,0,0],66:[0,.69444,0,0],67:[0,.69444,0,0],68:[0,.69444,0,0],69:[0,.69444,0,0],70:[0,.69444,0,0],71:[0,.69444,0,0],72:[0,.69444,0,0],73:[0,.69444,0,0],74:[0,.69444,0,0],75:[0,.69444,0,0],76:[0,.69444,0,0],77:[0,.69444,0,0],78:[0,.69444,0,0],79:[0,.69444,0,0],80:[0,.69444,0,0],81:[.125,.69444,0,0],82:[0,.69444,0,0],83:[0,.69444,0,0],84:[0,.69444,0,0],85:[0,.69444,0,0],86:[0,.69444,.01389,0],87:[0,.69444,.01389,0],88:[0,.69444,0,0],89:[0,.69444,.025,0],90:[0,.69444,0,0],91:[.25,.75,0,0],93:[.25,.75,0,0],94:[0,.69444,0,0],95:[.35,.09444,.02778,0],97:[0,.44444,0,0],98:[0,.69444,0,0],99:[0,.44444,0,0],100:[0,.69444,0,0],101:[0,.44444,0,0],102:[0,.69444,.06944,0],103:[.19444,.44444,.01389,0],104:[0,.69444,0,0],105:[0,.67937,0,0],106:[.19444,.67937,0,0],107:[0,.69444,0,0],108:[0,.69444,0,0],109:[0,.44444,0,0],110:[0,.44444,0,0],111:[0,.44444,0,0],112:[.19444,.44444,0,0],113:[.19444,.44444,0,0],114:[0,.44444,.01389,0],115:[0,.44444,0,0],116:[0,.57143,0,0],117:[0,.44444,0,0],118:[0,.44444,.01389,0],119:[0,.44444,.01389,0],120:[0,.44444,0,0],121:[.19444,.44444,.01389,0],122:[0,.44444,0,0],126:[.35,.32659,0,0],305:[0,.44444,0,0],567:[.19444,.44444,0,0],768:[0,.69444,0,0],769:[0,.69444,0,0],770:[0,.69444,0,0],771:[0,.67659,0,0],772:[0,.60889,0,0],774:[0,.69444,0,0],775:[0,.67937,0,0],776:[0,.67937,0,0],778:[0,.69444,0,0],779:[0,.69444,0,0],780:[0,.63194,0,0],915:[0,.69444,0,0],916:[0,.69444,0,0],920:[0,.69444,0,0],923:[0,.69444,0,0],926:[0,.69444,0,0],928:[0,.69444,0,0],931:[0,.69444,0,0],933:[0,.69444,0,0],934:[0,.69444,0,0],936:[0,.69444,0,0],937:[0,.69444,0,0],8211:[0,.44444,.02778,0],8212:[0,.44444,.02778,0],8216:[0,.69444,0,0],8217:[0,.69444,0,0],8220:[0,.69444,0,0],8221:[0,.69444,0,0]},"Script-Regular":{65:[0,.7,.22925,0],66:[0,.7,.04087,0],67:[0,.7,.1689,0],68:[0,.7,.09371,0],69:[0,.7,.18583,0],70:[0,.7,.13634,0],71:[0,.7,.17322,0],72:[0,.7,.29694,0],73:[0,.7,.19189,0],74:[.27778,.7,.19189,0],75:[0,.7,.31259,0],76:[0,.7,.19189,0],77:[0,.7,.15981,0],78:[0,.7,.3525,0],79:[0,.7,.08078,0],80:[0,.7,.08078,0],81:[0,.7,.03305,0],82:[0,.7,.06259,0],83:[0,.7,.19189,0],84:[0,.7,.29087,0],85:[0,.7,.25815,0],86:[0,.7,.27523,0],87:[0,.7,.27523,0],88:[0,.7,.26006,0],89:[0,.7,.2939,0],90:[0,.7,.24037,0]},"Size1-Regular":{40:[.35001,.85,0,0],41:[.35001,.85,0,0],47:[.35001,.85,0,0],91:[.35001,.85,0,0],92:[.35001,.85,0,0],93:[.35001,.85,0,0],123:[.35001,.85,0,0],125:[.35001,.85,0,0],710:[0,.72222,0,0],732:[0,.72222,0,0],770:[0,.72222,0,0],771:[0,.72222,0,0],8214:[-0.00099,.601,0,0],8593:[1e-5,.6,0,0],8595:[1e-5,.6,0,0],8657:[1e-5,.6,0,0],8659:[1e-5,.6,0,0],8719:[.25001,.75,0,0],8720:[.25001,.75,0,0],8721:[.25001,.75,0,0],8730:[.35001,.85,0,0],8739:[-0.00599,.606,0,0],8741:[-0.00599,.606,0,0],8747:[.30612,.805,.19445,0],8748:[.306,.805,.19445,0],8749:[.306,.805,.19445,0],8750:[.30612,.805,.19445,0],8896:[.25001,.75,0,0],8897:[.25001,.75,0,0],8898:[.25001,.75,0,0],8899:[.25001,.75,0,0],8968:[.35001,.85,0,0],8969:[.35001,.85,0,0],8970:[.35001,.85,0,0],8971:[.35001,.85,0,0],9168:[-0.00099,.601,0,0],10216:[.35001,.85,0,0],10217:[.35001,.85,0,0],10752:[.25001,.75,0,0],10753:[.25001,.75,0,0],10754:[.25001,.75,0,0],10756:[.25001,.75,0,0],10758:[.25001,.75,0,0]},"Size2-Regular":{40:[.65002,1.15,0,0],41:[.65002,1.15,0,0],47:[.65002,1.15,0,0],91:[.65002,1.15,0,0],92:[.65002,1.15,0,0],93:[.65002,1.15,0,0],123:[.65002,1.15,0,0],125:[.65002,1.15,0,0],710:[0,.75,0,0],732:[0,.75,0,0],770:[0,.75,0,0],771:[0,.75,0,0],8719:[.55001,1.05,0,0],8720:[.55001,1.05,0,0],8721:[.55001,1.05,0,0],8730:[.65002,1.15,0,0],8747:[.86225,1.36,.44445,0],8748:[.862,1.36,.44445,0],8749:[.862,1.36,.44445,0],8750:[.86225,1.36,.44445,0],8896:[.55001,1.05,0,0],8897:[.55001,1.05,0,0],8898:[.55001,1.05,0,0],8899:[.55001,1.05,0,0],8968:[.65002,1.15,0,0],8969:[.65002,1.15,0,0],8970:[.65002,1.15,0,0],8971:[.65002,1.15,0,0],10216:[.65002,1.15,0,0],10217:[.65002,1.15,0,0],10752:[.55001,1.05,0,0],10753:[.55001,1.05,0,0],10754:[.55001,1.05,0,0],10756:[.55001,1.05,0,0],10758:[.55001,1.05,0,0]},"Size3-Regular":{40:[.95003,1.45,0,0],41:[.95003,1.45,0,0],47:[.95003,1.45,0,0],91:[.95003,1.45,0,0],92:[.95003,1.45,0,0],93:[.95003,1.45,0,0],123:[.95003,1.45,0,0],125:[.95003,1.45,0,0],710:[0,.75,0,0],732:[0,.75,0,0],770:[0,.75,0,0],771:[0,.75,0,0],8730:[.95003,1.45,0,0],8968:[.95003,1.45,0,0],8969:[.95003,1.45,0,0],8970:[.95003,1.45,0,0],8971:[.95003,1.45,0,0],10216:[.95003,1.45,0,0],10217:[.95003,1.45,0,0]},"Size4-Regular":{40:[1.25003,1.75,0,0],41:[1.25003,1.75,0,0],47:[1.25003,1.75,0,0],91:[1.25003,1.75,0,0],92:[1.25003,1.75,0,0],93:[1.25003,1.75,0,0],123:[1.25003,1.75,0,0],125:[1.25003,1.75,0,0],710:[0,.825,0,0],732:[0,.825,0,0],770:[0,.825,0,0],771:[0,.825,0,0],8730:[1.25003,1.75,0,0],8968:[1.25003,1.75,0,0],8969:[1.25003,1.75,0,0],8970:[1.25003,1.75,0,0],8971:[1.25003,1.75,0,0],9115:[.64502,1.155,0,0],9116:[1e-5,.6,0,0],9117:[.64502,1.155,0,0],9118:[.64502,1.155,0,0],9119:[1e-5,.6,0,0],9120:[.64502,1.155,0,0],9121:[.64502,1.155,0,0],9122:[-0.00099,.601,0,0],9123:[.64502,1.155,0,0],9124:[.64502,1.155,0,0],9125:[-0.00099,.601,0,0],9126:[.64502,1.155,0,0],9127:[1e-5,.9,0,0],9128:[.65002,1.15,0,0],9129:[.90001,0,0,0],9130:[0,.3,0,0],9131:[1e-5,.9,0,0],9132:[.65002,1.15,0,0],9133:[.90001,0,0,0],9143:[.88502,.915,0,0],10216:[1.25003,1.75,0,0],10217:[1.25003,1.75,0,0],57344:[-0.00499,.605,0,0],57345:[-0.00499,.605,0,0],57680:[0,.12,0,0],57681:[0,.12,0,0],57682:[0,.12,0,0],57683:[0,.12,0,0]},"Typewriter-Regular":{33:[0,.61111,0,0],34:[0,.61111,0,0],35:[0,.61111,0,0],36:[.08333,.69444,0,0],37:[.08333,.69444,0,0],38:[0,.61111,0,0],39:[0,.61111,0,0],40:[.08333,.69444,0,0],41:[.08333,.69444,0,0],42:[0,.52083,0,0],43:[-0.08056,.53055,0,0],44:[.13889,.125,0,0],45:[-0.08056,.53055,0,0],46:[0,.125,0,0],47:[.08333,.69444,0,0],48:[0,.61111,0,0],49:[0,.61111,0,0],50:[0,.61111,0,0],51:[0,.61111,0,0],52:[0,.61111,0,0],53:[0,.61111,0,0],54:[0,.61111,0,0],55:[0,.61111,0,0],56:[0,.61111,0,0],57:[0,.61111,0,0],58:[0,.43056,0,0],59:[.13889,.43056,0,0],60:[-0.05556,.55556,0,0],61:[-0.19549,.41562,0,0],62:[-0.05556,.55556,0,0],63:[0,.61111,0,0],64:[0,.61111,0,0],65:[0,.61111,0,0],66:[0,.61111,0,0],67:[0,.61111,0,0],68:[0,.61111,0,0],69:[0,.61111,0,0],70:[0,.61111,0,0],71:[0,.61111,0,0],72:[0,.61111,0,0],73:[0,.61111,0,0],74:[0,.61111,0,0],75:[0,.61111,0,0],76:[0,.61111,0,0],77:[0,.61111,0,0],78:[0,.61111,0,0],79:[0,.61111,0,0],80:[0,.61111,0,0],81:[.13889,.61111,0,0],82:[0,.61111,0,0],83:[0,.61111,0,0],84:[0,.61111,0,0],85:[0,.61111,0,0],86:[0,.61111,0,0],87:[0,.61111,0,0],88:[0,.61111,0,0],89:[0,.61111,0,0],90:[0,.61111,0,0],91:[.08333,.69444,0,0],92:[.08333,.69444,0,0],93:[.08333,.69444,0,0],94:[0,.61111,0,0],95:[.09514,0,0,0],96:[0,.61111,0,0],97:[0,.43056,0,0],98:[0,.61111,0,0],99:[0,.43056,0,0],100:[0,.61111,0,0],101:[0,.43056,0,0],102:[0,.61111,0,0],103:[.22222,.43056,0,0],104:[0,.61111,0,0],105:[0,.61111,0,0],106:[.22222,.61111,0,0],107:[0,.61111,0,0],108:[0,.61111,0,0],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,0],112:[.22222,.43056,0,0],113:[.22222,.43056,0,0],114:[0,.43056,0,0],115:[0,.43056,0,0],116:[0,.55358,0,0],117:[0,.43056,0,0],118:[0,.43056,0,0],119:[0,.43056,0,0],120:[0,.43056,0,0],121:[.22222,.43056,0,0],122:[0,.43056,0,0],123:[.08333,.69444,0,0],124:[.08333,.69444,0,0],125:[.08333,.69444,0,0],126:[0,.61111,0,0],127:[0,.61111,0,0],305:[0,.43056,0,0],567:[.22222,.43056,0,0],768:[0,.61111,0,0],769:[0,.61111,0,0],770:[0,.61111,0,0],771:[0,.61111,0,0],772:[0,.56555,0,0],774:[0,.61111,0,0],776:[0,.61111,0,0],778:[0,.61111,0,0],780:[0,.56597,0,0],915:[0,.61111,0,0],916:[0,.61111,0,0],920:[0,.61111,0,0],923:[0,.61111,0,0],926:[0,.61111,0,0],928:[0,.61111,0,0],931:[0,.61111,0,0],933:[0,.61111,0,0],934:[0,.61111,0,0],936:[0,.61111,0,0],937:[0,.61111,0,0],2018:[0,.61111,0,0],2019:[0,.61111,0,0],8242:[0,.61111,0,0]}},M=/[\uAC00-\uD7AF]/,_=/[\u3040-\u309F]|[\u30A0-\u30FF]|[\u4E00-\u9FAF]|[\uAC00-\uD7AF]/,D={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25]},P=0,H=0,B=0,j=0,F=.431,I=1,q=0,R=.04,U=.111,z=.166,W=.2,X=.6,V=.1,$=10,J=2/$,K={defaultRuleThickness:R,bigOpSpacing1:U,bigOpSpacing2:z,bigOpSpacing3:W,bigOpSpacing4:X,bigOpSpacing5:V,ptPerEm:$,pxPerEm:$*4/3,doubleRuleSep:2/$,arraycolsep:5/$,baselineskip:12/$,arrayrulewidth:.4/$,fboxsep:3/$,fboxrule:.4/$},Q={" ":" ","​":" ","Å":"A","Ç":"C","Ð":"D","Þ":"o","å":"a","ç":"c","ð":"d","þ":"o","А":"A","Б":"B","В":"B","Г":"F","Д":"A","Е":"E","Ж":"K","З":"3","И":"N","Й":"N","К":"K","Л":"N","М":"M","Н":"H","О":"O","П":"N","Р":"P","С":"C","Т":"T","У":"y","Ф":"O","Х":"X","Ц":"U","Ч":"h","Ш":"W","Щ":"W","Ъ":"B","Ы":"X","Ь":"B","Э":"3","Ю":"X","Я":"R","а":"a","б":"b","в":"a","г":"r","д":"y","е":"e","ж":"m","з":"e","и":"n","й":"n","к":"n","л":"n","м":"m","н":"n","о":"o","п":"n","р":"p","с":"c","т":"o","у":"y","ф":"b","х":"x","ц":"n","ч":"n","ш":"w","щ":"w","ъ":"a","ы":"m","ь":"a","э":"e","ю":"m","я":"r"},G=function(t,n){n==="mathbb"&&(n="AMS-Regular"),n==="mathcal"&&(n="Caligraphic-Regular"),n==="mathfrak"&&(n="Fraktur-Regular"),n==="mathscr"&&(n="Script-Regular"),n==="mathss"&&(n="SansSerif-Regular"),n==="mathtt"&&(n="Typewriter-Regular"),n==="mathsf"&&(n="Main-Regular"),console.assert(t.length===1),console.assert(O[n],'Unknown font "'+n+'"');var r=t.charCodeAt(0);t[0]in Q?r=Q[t[0]].charCodeAt(0):_.test(t[0])&&(r=77);var i=O[n][r];return i?i?{depth:i[0],height:i[1],italic:i[2],skew:i[3]}:null:{depth:.2,height:.7,italic:0,skew:0}},et={toEm:Y,toPx:Z,metrics:K,sigmas:D,getCharacterMetrics:G,cjkRegex:_,hangulRegex:M},it=et.sigmas,st=[{},{},{}],ot;for(var ut in it)if(it.hasOwnProperty(ut))for(ot=0;ot<3;ot++)st[ot][ut]=it[ut][ot];for(ot=0;ot<3;ot++)st[ot].emPerEx=it.xHeight[ot]/it.quad[ot];var at=function(){function e(t,n,r,i){tt(this,e),this.id=t,this.size=n,this.cramped=i,this.sizeMultiplier=r,this.metrics=st[n>0?n-1:0]}return rt(e,[{key:"sup",value:function(){return gt[Et[this.id]]}},{key:"sub",value:function(){return gt[St[this.id]]}},{key:"fracNum",value:function(){return gt[xt[this.id]]}},{key:"fracDen",value:function(){return gt[Tt[this.id]]}},{key:"cramp",value:function(){return gt[Nt[this.id]]}},{key:"cls",value:function(){return bt[this.size]}},{key:"adjustTo",value:function(t){var n=wt[this.size][t.size];return n.length>0&&(n=" "+n),n}},{key:"isTight",value:function(){return this.size>=2}}]),e}(),ft=0,lt=1,ct=2,ht=3,pt=4,dt=5,vt=6,mt=7,gt=[new at(ft,0,1,!1),new at(lt,0,1,!0),new at(ct,1,1,!1),new at(ht,1,1,!0),new at(pt,2,.7,!1),new at(dt,2,.7,!0),new at(vt,3,.5,!1),new at(mt,3,.5,!0)],bt=["displaystyle textstyle","textstyle","scriptstyle","scriptscriptstyle"],wt=[["","","reset-textstyle scriptstyle","reset-textstyle scriptscriptstyle"],["reset-textstyle displaystyle textstyle","","reset-textstyle scriptstyle","reset-textstyle scriptscriptstyle"],["reset-scriptstyle textstyle displaystyle","reset-scriptstyle textstyle","","reset-scriptstyle scriptscriptstyle"],["reset-scriptscriptstyle textstyle displaystyle","reset-scriptscriptstyle textstyle","reset-scriptscriptstyle scriptstyle",""]],Et=[pt,dt,pt,dt,vt,mt,vt,mt],St=[dt,dt,dt,dt,mt,mt,mt,mt],xt=[ct,ht,pt,dt,vt,mt,vt,mt],Tt=[ht,ht,dt,dt,mt,mt,mt,mt],Nt=[lt,lt,ht,ht,dt,dt,mt,mt],Ct={DISPLAY:gt[ft],TEXT:gt[ct],SCRIPT:gt[pt],SCRIPTSCRIPT:gt[vt],toMathstyle:yt},Ot=function(){function e(t){kt(this,e),this.mathstyle=Ct.toMathstyle(t.mathstyle),this.color=t.color,this.opacity=t.opacity,this.backgroundcolor=t.backgroundcolor,this.size=t.size,this.phantom=t.phantom,this.font=t.font,this.generateID=t.generateID!==undefined?t.generateID:!1,this.isSelected=t.isSelected!==undefined?t.isSelected:!1,this.macros=t.macros||{},typeof t.parentMathstyle=="undefined"?this.parentMathstyle=this.mathstyle:this.parentMathstyle=t.parentMathstyle,typeof t.parentSize=="undefined"?this.parentSize=this.size:this.parentSize=t.parentSize}return At(e,[{key:"clone",value:function(){var n=new e(this);return n.parentMathstyle=this.mathstyle,n.parentSize=this.size,n.macros=this.macros,n}},{key:"cloneWith",value:function(t,n){var r=this.clone();return r[t]=n,r}},{key:"setMathstyle",value:function(t){t&&t!=="auto"&&(this.mathstyle=Ct.toMathstyle(t))}},{key:"withMathstyle",value:function(t){var n=this.clone();return n.setMathstyle(t),n}},{key:"fontFamily",value:function(t){var n=this.clone();return n.font=t,n}},{key:"cramp",value:function(){return this.cloneWith("mathstyle",this.mathstyle.cramp())}},{key:"sup",value:function(){return this.cloneWith("mathstyle",this.mathstyle.sup())}},{key:"sub",value:function(){return this.cloneWith("mathstyle",this.mathstyle.sup())}},{key:"fracDen",value:function(){return this.cloneWith("mathstyle",this.mathstyle.fracDen())}},{key:"fracNum",value:function(){return this.cloneWith("mathstyle",this.mathstyle.fracNum())}},{key:"getColor",value:function(){return this.phantom?"transparent":this.color}},{key:"getBackgroundColor",value:function(){return this.phantom?"transparent":this.backgroundcolor}}]),e}(),Mt={Context:Ot};Pt.prototype.updateDimensions=function(){var e=0,t=0,n=0;if(this.children){var r=!0,i=!1,s=undefined;try{for(var o=this.children[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){var a=u.value;a&&(console.assert(!isNaN(a.height)),a.height>e&&(e=a.height),a.depth>t&&(t=a.depth),a.maxFontSize>n&&(n=a.maxFontSize))}}catch(f){i=!0,s=f}finally{try{!r&&o["return"]!=null&&o["return"]()}finally{if(i)throw s}}}this.height=e,this.depth=t,this.maxFontSize=n},Pt.prototype.setStyle=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=Dt(n);i.length>0&&(this.style||(this.style={}),this.style[e]=i)},Pt.prototype.setTop=function(e){e&&e!==0&&(this.style||(this.style={}),this.style.top=Dt(e)+"em",this.height-=e,this.depth+=e)},Pt.prototype.setLeft=function(e){e&&e!==0&&(this.style||(this.style={}),this.style["margin-left"]=Dt(e)+"em")},Pt.prototype.setRight=function(e){e&&e!==0&&(this.style||(this.style={}),this.style["margin-right"]=Dt(e)+"em")},Pt.prototype.setWidth=function(e){e&&e!==0&&(this.style||(this.style={}),this.style.width=Dt(e)+"em")},Pt.prototype.addMarginRight=function(e){if(e&&e!==0){if(!this.style&&!/qquad|quad|enspace|thickspace|mediumspace|thinspace|negativethinspace/.test(this.classes)){var t={2:"qquad",1:"quad",".5":"enspace",.277778:"thickspace",.222222:"mediumspace",.166667:"thinspace","-0.166667":"negativethinspace"}[e.toString()];if(t){this.classes+=" rspace "+t;return}}this.style||(this.style={});var n=parseFloat(this.style["margin-right"]||"0");this.style["margin-right"]=Dt(n+e)+"em"}};var Ht={"mord+mop":3,"mord+mbin":4,"mord+mrel":5,"mord+minner":3,"mop+mord":3,"mop+mop":3,"mop+mbin":5,"mop+minner":3,"mbin+mord":4,"mbin+mop":4,"mbin+mopen":4,"mbin+minner":4,"mrel+mord":5,"mrel+mop":5,"mrel+mopen":5,"mrel+minner":5,"mclose+mop":3,"mclose+mbin":4,"mclose+mrel":5,"mclose+minner":3,"mpunct+mord":3,"mpunct+mop":3,"mpunct+mbin":4,"mpunct+mrel":5,"mpunct+mopen":3,"mpunct+mpunct":3,"mpunct+minner":3},Bt={"mord+mop":3,"mop+mord":3,"mop+mop":3,"mclose+mop":3,"minner+mop":3};Pt.prototype.toMarkup=function(e,t){e=e||0,t=t||1;var n="",r=this.body||"";if(this.children){var i="none",s=!0,o=!1,u=undefined;try{for(var a=this.children[Symbol.iterator](),f;!(s=(f=a.next()).done);s=!0){var l=f.value,c=0;if(i){var h=l.type;h&&(h==="textord"&&(h="mord"),h==="first"&&(h="none"),l.isTight?c=(Bt[i+"+"+h]||0)/18:c=(Ht[i+"+"+h]||0)/18,c=t*c)}r+=l.toMarkup(c,t),i=jt(l)}}catch(p){o=!0,u=p}finally{try{!s&&a["return"]!=null&&a["return"]()}finally{if(o)throw u}}}var d=this.tag||"span";if(d.length===0)n=r||"";else{n="<"+d,this.svgOverlay&&(this.style||(this.style={}),this.style.position="relative");if(this.attributes)for(var v in this.attributes)this.attributes.hasOwnProperty(v)&&(n+=" "+v+'="'+this.attributes[v]+'"');var m=this.classes.split(" ");this.type&&(/command|placeholder|error/.test(this.type)&&m.push({command:"ML__command",placeholder:"ML__placeholder",error:"ML__error"}[this.type]),this.hasCaret&&this.type==="command"&&m.push("ML__caret"));var g=m;m.length>1&&(g=m.filter(function(e,t,n){return e.length>0&&e!=="mathrm"&&n.indexOf(e)===t}).join(" ")),g.length>0&&(n+=' class="'+g+'"'),e&&(this.style||(this.style={}),this.style["margin-left"]?this.style["margin-left"]=Dt(parseInt(this.style["margin-left"])+e,"em"):this.style["margin-left"]=Dt(e,"em"));if(this.style){var y="";for(var b in this.style)this.style.hasOwnProperty(b)&&(y+=b+":"+this.style[b]+";");y.length>0&&(n+=' style="'+y+'"')}n+=">",this.svgOverlay?(n+=r,n+="<svg ",n+='style="position:absolute;left:0;bottom:0;right:0;width:100%;height:100%;z-index:2;',n+="top:"+(1-this.height)+"em;",n+='"',this.svgStyle&&(n+=' style="'+this.svgStyle+'"'),n+=">",n+=this.svgOverlay,n+="</svg>"):n+=r,n+="</"+d+">"}return n==="<span>​</span>"&&(n=""),this.hasCaret&&this.type!=="command"&&(n='<span class="ML__caret">'+n+"</span>"),n},Pt.prototype.tryCoalesceWith=function(e){if(this.tag!==e.tag)return!1;if(this.type!==e.type)return!1;if(this.type==="error"||this.type==="placeholder"||this.type==="command")return!1;var t=this.children&&this.children.length>0,n=e.children&&e.children.length>0;if(t||n)return!1;var r=this.style?this.style.length:0,i=e.style?e.style.length:0;if(r!==i)return!1;var s=this.classes.trim().replace(/\s+/g," ").split(" "),o=e.classes.trim().replace(/\s+/g," ").split(" ");if(s.length!==o.length)return!1;s.sort(),o.sort();for(var u=0;u<s.length;u++){if(s[u]==="vertical-separator")return!1;if(s[u]!==o[u])return!1}if(this.style&&e.style)for(var a in this.style)if(this.style.hasOwnProperty(a)&&e.style.hasOwnProperty(a)&&this.style[a]!==e.style[a])return!1;return this.body+=e.body,this.height=Math.max(this.height,e.height),this.depth=Math.max(this.depth,e.depth),this.italic=e.italic,!0};var sn={coalesce:Ft,makeSpan:zt,makeOp:$t,makeOrd:Jt,makeRel:Kt,makeClose:Qt,makeOpen:Gt,makeInner:Yt,makePunct:Zt,makeSpanOfType:Vt,makeSymbol:Wt,makeVlist:rn,makeHlist:nn,makeStyleWrap:en,makeSVG:tn,height:It,depth:qt,skew:Rt,italic:Ut},un="",an={},fn={},ln={},cn={},hn={},pn={iff:"\\;⟺\\;",nicefrac:"^{#1}\\!\\!/\\!_{#2}",bra:"\\mathinner{\\langle{#1}|}",ket:"\\mathinner{|{#1}\\rangle}",braket:"\\mathinner{\\langle{#1}\\rangle}",set:"\\mathinner{\\lbrace #1 \\rbrace}",Bra:"\\left\\langle #1\\right|",Ket:"\\left|#1\\right\\rangle",Braket:"\\left\\langle{#1}\\right\\rangle",Set:"\\left\\lbrace #1 \\right\\rbrace"},dn={"(":")","{":"}","[":"]","|":"|","\\lbrace":"\\rbrace","\\{":"\\}","\\langle":"\\rangle","\\lfloor":"\\rfloor","\\lceil":"\\rceil","\\vert":"\\vert","\\lvert":"\\rvert","\\Vert":"\\Vert","\\lVert":"\\rVert","\\lbrack":"\\rbrack","\\ulcorner":"\\urcorner","\\llcorner":"\\lrcorner","\\lgroup":"\\rgroup","\\lmoustache":"\\rmoustache"},vn="CRYPTIC",mn="ARCANE",gn="RARE",yn="UNCOMMON",bn="COMMON",wn="SUPERCOMMON",En={CRYPTIC:0,ARCANE:200,VERY_RARE:600,RARE:1200,UNCOMMON:2e3,COMMON:3e3,SUPERCOMMON:4e3},Cn={183:"\\cdot",188:"\\frac{1}{4}",189:"\\frac{1}{2}",190:"\\frac{3}{4}",8304:"^{0}",8305:"^{i}",185:"^{1}",178:"^{2}",179:"^{3}",8308:"^{4}",8309:"^{5}",8310:"^{6}",8311:"^{7}",8312:"^{8}",8313:"^{9}",8314:"^{+}",8315:"^{-}",8316:"^{=}",8319:"^{n}",8320:"_{0}",8321:"_{1}",8322:"_{2}",8323:"_{3}",8324:"_{4}",8325:"_{5}",8326:"_{6}",8327:"_{7}",8328:"_{8}",8329:"_{9}",8330:"_{+}",8331:"_{-}",8332:"_{=}",8336:"_{a}",8337:"_{e}",8338:"_{o}",8339:"_{x}",8450:"\\C",8469:"\\N",8473:"\\P",8474:"\\Q",8477:"\\R",8484:"\\Z"},Ln={119893:8462,119965:8492,119968:8496,119969:8497,119971:8459,119972:8464,119975:8466,119976:8499,119981:8475,119994:8495,119996:8458,120004:8500,120070:8493,120075:8460,120076:8465,120085:8476,120093:8488,120122:8450,120127:8461,120133:8469,120135:8473,120136:8474,120137:8477,120145:8484},An=[{start:119808,len:26,offset:65,style:"bold"},{start:119834,len:26,offset:97,style:"bold"},{start:119860,len:26,offset:65,style:"italic"},{start:119886,len:26,offset:97,style:"italic"},{start:119912,len:26,offset:65,style:"bolditalic"},{start:119938,len:26,offset:97,style:"bolditalic"},{start:119964,len:26,offset:65,variant:"mathcal"},{start:119990,len:26,offset:97,variant:"mathcal"},{start:120016,len:26,offset:65,variant:"mathcal",style:"bold"},{start:120042,len:26,offset:97,variant:"mathcal",style:"bold"},{start:120068,len:26,offset:65,variant:"mathfrak"},{start:120094,len:26,offset:97,variant:"mathfrak"},{start:120172,len:26,offset:65,variant:"mathfrak",style:"bold"},{start:120198,len:26,offset:97,variant:"mathfrak",style:"bold"},{start:120120,len:26,offset:65,variant:"mathbb"},{start:120146,len:26,offset:97,variant:"mathbb"},{start:120224,len:26,offset:65,variant:"mathsf"},{start:120250,len:26,offset:97,variant:"mathsf"},{start:120276,len:26,offset:65,variant:"mathsf",style:"bold"},{start:120302,len:26,offset:97,variant:"mathsf",style:"bold"},{start:120328,len:26,offset:65,variant:"mathsf",style:"italic"},{start:120354,len:26,offset:97,variant:"mathsf",style:"italic"},{start:120380,len:26,offset:65,variant:"mathsf",style:"bolditalic"},{start:120406,len:26,offset:97,variant:"mathsf",style:"bolditalic"},{start:120432,len:26,offset:65,variant:"mathtt"},{start:120458,len:26,offset:97,variant:"mathtt"},{start:120488,len:25,offset:913,style:"bold"},{start:120514,len:25,offset:945,style:"bold"},{start:120546,len:25,offset:913,style:"italic"},{start:120572,len:25,offset:945,style:"italic"},{start:120604,len:25,offset:913,style:"bolditalic"},{start:120630,len:25,offset:945,style:"bolditalic"},{start:120662,len:25,offset:913,variant:"mathsf",style:"bold"},{start:120688,len:25,offset:945,variant:"mathsf",style:"bold"},{start:120720,len:25,offset:913,variant:"mathsf",style:"bolditalic"},{start:120746,len:25,offset:945,variant:"mathsf",style:"bolditalic"},{start:120782,len:10,offset:48,variant:"",style:"bold"},{start:120792,len:10,offset:48,variant:"mathbb"},{start:120803,len:10,offset:48,variant:"mathsf"},{start:120812,len:10,offset:48,variant:"mathsf",style:"bold"},{start:120822,len:10,offset:48,variant:"mathtt"}],Rn="[math]",Un="[text]",zn="[command]",Wn="main",Xn="ams",Vn="[ord]",$n="mord",Jn="mbin",Kn="mrel",Qn="mopen",Gn="mclose",Yn="mpunct",Zn="minner",er="textord",tr="spacing",nr="command";un="Environments",sr("math","",{frequency:0},function(){return{mathstyle:"textstyle"}}),sr("displaymath","",{frequency:8},function(){return{mathstyle:"displaystyle"}}),sr("array","{columns:colspec}",{frequency:bn},function(e,t){return{colFormat:t[0],mathstyle:"textstyle"}}),sr("eqnarray","",{},function(){return{}}),sr("equation","",{},function(){return{colFormat:[{align:"c"}]}}),sr("subequations","",{},function(){return{colFormat:[{align:"c"}]}}),sr("multline","",{},function(){return{firstRowFormat:[{align:"l"}],colFormat:[{align:"c"}],lastRowFormat:[{align:"r"}]}}),sr(["align","aligned"],"",{},function(e,t,n){var r=0,i=!0,s=!1,o=undefined;try{for(var u=n[Symbol.iterator](),a;!(i=(a=u.next()).done);i=!0){var f=a.value;r=Math.max(r,f.length)}}catch(l){s=!0,o=l}finally{try{!i&&u["return"]!=null&&u["return"]()}finally{if(s)throw o}}var c=[{gap:0},{align:"r"},{gap:0},{align:"l"}],h=2;while(h<r)c.push({gap:1}),c.push({align:"r"}),c.push({gap:0}),c.push({align:"l"}),h+=2;return c.push({gap:0}),{colFormat:c,jot:.3}}),sr("split","",{},function(){return{}}),sr(["gather","gathered"],"",{},function(){return{colFormat:[{gap:.25},{align:"c"},{gap:0}],jot:.3}}),sr(["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","smallmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*","smallmatrix*"],"[columns:colspec]",{},function(e,t){var n={};n.mathstyle="textstyle";switch(e){case"pmatrix":case"pmatrix*":n.lFence="(",n.rFence=")";break;case"bmatrix":case"bmatrix*":n.lFence="[",n.rFence="]";break;case"Bmatrix":case"Bmatrix*":n.lFence="\\lbrace",n.rFence="\\rbrace";break;case"vmatrix":case"vmatrix*":n.lFence="\\vert",n.rFence="\\vert";break;case"Vmatrix":case"Vmatrix*":n.lFence="\\Vert",n.rFence="\\Vert";break;case"smallmatrix":case"smallmatrix*":n.mathstyle="scriptstyle";break;case"matrix":case"matrix*":n.lFence=".",n.rFence=".";break;default:}return n.colFormat=t[0]||[{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"}],n}),sr("cases","",{},function(){return{arraystretch:1.2,lFence:"\\lbrace",rFence:".",colFormat:[{align:"l"},{gap:1},{align:"l"}]}}),sr("theorem","",{},function(){return{}}),sr("center","",{},function(){return{colFormat:[{align:"c"}]}}),un="Trigonometry",or(["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],"",{fontFamily:"mainrm"},function(e){return{type:"mop",limits:"nolimits",symbol:!1,isFunction:!0,body:e.slice(1),fontFamily:"mainrm"}}),Sn(wn,"\\cos","\\sin","\\tan"),Sn(yn,"\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arcsec","\\arccsc"),Sn(yn,"\\arsinh","\\arccosh","\\arctanh","\\arcsech","\\arccsch"),Sn(yn,"\\arg","\\ch","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\lg","\\lb","\\sec","\\sinh","\\sh","\\tanh","\\tg","\\th"),un="Functions",or(["\\deg","\\dim","\\exp","\\hom","\\ker","\\lb","\\lg","\\ln","\\log"],"",{fontFamily:"mainrm"},function(e){return{type:"mop",limits:"nolimits",symbol:!1,isFunction:!0,body:e.slice(1),fontFamily:"mainrm"}}),Sn(wn,"\\ln","\\log","\\exp"),Sn(292,"\\hom"),Sn(bn,"\\dim"),Sn(bn,"\\ker","\\deg"),or(["\\lim","\\mod"],"",{fontFamily:"mainrm"},function(e){return{type:"mop",limits:"limits",symbol:!1,body:e.slice(1),fontFamily:"mainrm"}}),or(["\\det","\\max","\\min"],"",{fontFamily:"mainrm"},function(e){return{type:"mop",limits:"limits",symbol:!1,isFunction:!0,body:e.slice(1),fontFamily:"mainrm"}}),Sn(wn,"\\lim"),Sn(bn,"\\det"),Sn(bn,"\\mod"),Sn(bn,"\\min"),Sn(bn,"\\max"),un="Decoration",or("\\rule","[raise:dimen]{width:dimen}{thickness:dimen}",null,function(e,t){return{type:"rule",shift:t[0],width:t[1],height:t[2]}}),or("\\color","{:color}",null,function(e,t){return{type:"color",color:t[0]}}),or("\\textcolor","{:color}{content:auto}",null,function(e,t){return{type:"color",textcolor:t[0],skipBoundary:!0,body:t[1]}}),Sn(3,"\\textcolor"),or("\\overline","{:auto}",null,function(e,t){return{type:"line",position:"overline",skipBoundary:!0,body:t[0]}}),Sn(bn,"\\overline"),or("\\underline","{:auto}",null,function(e,t){return{type:"line",position:"underline",skipBoundary:!0,body:t[0]}}),Sn(bn,"\\underline"),or("\\overset","{annotation:auto}{symbol:auto}",null,function(e,t){return{type:"overunder",overscript:t[0],skipBoundary:!0,body:t[1]}}),Sn(bn,"\\overset"),or("\\underset","{annotation:auto}{symbol:auto}",null,function(e,t){return{type:"overunder",underscript:t[0],skipBoundary:!0,body:t[1]}}),Sn(bn,"\\underset"),or(["\\stackrel","\\stackbin"],"{annotation:auto}{symbol:auto}",null,function(e,t){return{type:"overunder",overscript:t[0],skipBoundary:!0,body:t[1],mathtype:e==="\\stackrel"?"mrel":"mbin"}}),Sn(bn,"\\stackrel"),Sn(0,"\\stackbin"),or("\\rlap","{:text}",null,function(e,t){return{type:"overlap",align:"right",skipBoundary:!0,body:t[0]}}),Sn(270,"\\rlap"),or("\\llap","{:text}",null,function(e,t){return{type:"overlap",align:"left",skipBoundary:!0,body:t[0]}}),Sn(18,"\\llap"),or("\\mathrlap","{:auto}",null,function(e,t){return{type:"overlap",align:"right",skipBoundary:!0,body:t[0]}}),Sn(vn,"\\mathrlap"),or("\\mathllap","{:auto}",null,function(e,t){return{type:"overlap",align:"left",skipBoundary:!0,body:t[0]}}),Sn(vn,"\\mathllap"),or("\\boxed","{content:math}",null,function(e,t){return{type:"box",framecolor:"black",skipBoundary:!0,body:t[0]}}),Sn(1236,"\\boxed"),or("\\colorbox","{background-color:color}{content:auto}",null,function(e,t){return{type:"box",backgroundcolor:t[0],skipBoundary:!0,body:t[1]}}),Sn(vn,"\\colorbox"),or("\\fcolorbox","{frame-color:color}{background-color:color}{content:auto}",null,function(e,t){return{type:"box",framecolor:t[0],backgroundcolor:t[1],skipBoundary:!0,body:t[2]}}),Sn(vn,"\\fcolorbox"),or("\\bbox","[:bbox]{body:auto}",null,function(e,t){return t[0]?{type:"box",padding:t[0].padding,border:t[0].border,backgroundcolor:t[0].backgroundcolor,skipBoundary:!0,body:t[1]}:{type:"box",skipBoundary:!0,body:t[1]}}),Sn(vn,"\\bbox"),or("\\enclose","{notation:string}[style:string]{body:auto}",null,function(e,t){var n=t[0]||[],r={type:"enclose",strokeColor:"currentColor",strokeWidth:1,strokeStyle:"solid",backgroundcolor:"transparent",padding:"auto",shadow:"auto",captureSelection:!0,body:t[2]};if(t[1]){var i=t[1].split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/),s=!0,o=!1,u=undefined;try{for(var a=i[Symbol.iterator](),f;!(s=(f=a.next()).done);s=!0){var l=f.value,c=l.match(/\s*(\S+)\s+(\S+)\s+(.*)/);if(c)r.strokeWidth=et.toPx(c[1],"px"),isNaN(r.strokeWidth)&&(r.strokeWidth=1),r.strokeStyle=c[2],r.strokeColor=c[3];else{var h=l.match(/\s*([a-z]*)\s*=\s*"(.*)"/);h&&(h[1]==="mathbackground"?r.backgroundcolor=h[2]:h[1]==="mathcolor"?r.strokeColor=h[2]:h[1]==="padding"?r.padding=et.toPx(h[2],"px"):h[1]==="shadow"&&(r.shadow=h[2]))}}}catch(p){o=!0,u=p}finally{try{!s&&a["return"]!=null&&a["return"]()}finally{if(o)throw u}}r.strokeStyle==="dashed"?r.svgStrokeStyle="5,5":r.strokeStyle==="dotted"&&(r.svgStrokeStyle="1,5")}r.borderStyle=r.strokeWidth+"px "+r.strokeStyle+" "+r.strokeColor,n=n.toString().split(/[, ]/).filter(function(e){return e.length>0}).map(function(e){return e.toLowerCase()}),r.notation={};var d=!0,v=!1,m=undefined;try{for(var g=n[Symbol.iterator](),y;!(d=(y=g.next()).done);d=!0){var b=y.value;r.notation[b]=!0}}catch(p){v=!0,m=p}finally{try{!d&&g["return"]!=null&&g["return"]()}finally{if(v)throw m}}return r.notation.updiagonalarrow&&(r.notation.updiagonalstrike=!1),r.notation.box&&(r.notation.left=!1,r.notation.right=!1,r.notation.bottom=!1,r.notation.top=!1),r}),Sn(vn,"\\enclose"),or("\\cancel","{body:auto}",null,function(e,t){return{type:"enclose",strokeColor:"currentColor",strokeWidth:1,strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"auto",notation:{updiagonalstrike:!0},body:t[0]}}),or("\\bcancel","{body:auto}",null,function(e,t){return{type:"enclose",strokeColor:"currentColor",strokeWidth:1,strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"auto",notation:{downdiagonalstrike:!0},body:t[0]}}),or("\\xcancel","{body:auto}",null,function(e,t){return{type:"enclose",strokeColor:"currentColor",strokeWidth:1,strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"auto",notation:{updiagonalstrike:!0,downdiagonalstrike:!0},body:t[0]}}),Sn(vn,"\\cancel","\\bcancel","\\xcancel");var ur={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\boldsymbol":"\\mathbf","\\bm":"\\mathbf","\\bf":"\\mathbf","\\it":"\\mathit"};un="Styling",or(["\\mathrm","\\mathit","\\mathbf","\\bf","\\it","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak","\\boldsymbol","\\bm"],"{text:math}",{},function(e,t){return e in ur&&(e=ur[e]),{type:"font",font:e.slice(1),skipBoundary:!0,body:t[0],captureSelection:!0}}),Sn(wn,"\\mathbb"),Sn(1081,"\\Bbb"),Sn(0,"\\mathcal"),Sn(bn,"\\mathfrak"),Sn(271,"\\frak"),Sn(bn,"\\mathscr"),Sn(yn,"\\mathsf"),Sn(bn,"\\mathtt"),Sn(bn,"\\boldsymbol"),or(["\\mbox"],"{text:text}",{allowedInText:!0},function(e,t){return{type:"font",skipBoundary:!0,body:t[0],font:"mathrm"}}),or(["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textit","\\emph","\\em"],"{text:text}",{allowedInText:!0},function(e,t){return{type:"font",skipBoundary:!0,body:t[0],font:{"\\text":null,"\\textrm":"mathrm","\\textup":"mathrm","\\textnormal":"mathrm","\\textsf":"mathsf","\\texttt":"mathtt","\\textbf":"mathbf","\\textit":"textit","\\emph":"emph","\\em":"emph"}[e]}}),Sn(bn,"\\textrm"),Sn(bn,"\\textit"),Sn(bn,"\\textsf"),Sn(bn,"\\texttt"),Sn(433,"\\textnormal"),Sn(bn,"\\textbf"),Sn(421,"\\textup"),Sn(819,"\\emph"),Sn(49,"\\em"),un="Operators",or("\\sqrt","[index:auto]{radicand:auto}",null,function(e,t){return{type:"surd",body:t[1],index:t[0]}}),Sn(wn,"\\sqrt"),un="Fractions",or(["\\frac","\\dfrac","\\tfrac","\\cfrac","\\binom","\\dbinom","\\tbinom"],"{numerator}{denominator}",{},function(e,t){var n={type:"genfrac",numer:t[0],denom:t[1],mathstyle:"auto"};switch(e){case"\\dfrac":case"\\frac":case"\\tfrac":case"\\cfrac":n.hasBarLine=!0;break;case"\\\\atopfrac":n.hasBarLine=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":n.hasBarLine=!1,n.leftDelim="(",n.rightDelim=")"}switch(e){case"\\dfrac":case"\\dbinom":n.mathstyle="displaystyle";break;case"\\tfrac":case"\\tbinom":n.mathstyle="textstyle"}return e==="\\cfrac"&&(n.continuousFraction=!0),n}),or(["\\over","\\atop","\\choose"],"",{infix:!0},function(e,t){var n=t[0],r=t[1],i=!1,s=null,o=null;switch(e){case"\\atop":break;case"\\over":i=!0;break;case"\\choose":i=!1,s="(",o=")";break;default:throw new Error("Unrecognized genfrac command")}return{type:"genfrac",numer:n,denom:r,hasBarLine:i,leftDelim:s,rightDelim:o,mathstyle:"auto"}}),Sn(21,"\\over"),Sn(12,"\\atop"),Sn(1968,"\\choose"),or(["\\overwithdelims","\\atopwithdelims"],"{left-delim:delim}{right-delim:delim}",{infix:!0},function(e,t){return{type:"genfrac",numer:t[0],denom:t[1],hasBarLine:!1,leftDelim:t[2],rightDelim:t[3],mathstyle:"auto"}}),Sn(15,"\\overwithdelims"),Sn(bn,"\\atopwithdelims"),un="Fractions",or(["\\pdiff"],"{numerator}{denominator}",{},function(e,t){return{type:"genfrac",numer:t[0],denom:t[1],numerPrefix:"∂",denomPrefix:"∂",hasBarLine:!0,leftDelim:null,rightDelim:null,mathstyle:"auto"}}),un="Quantifiers",xn("\\forall",Rn,Wn,er,"∀",wn),xn("\\exists",Rn,Wn,er,"∃",wn),xn("\\nexists",Rn,Xn,er,"∄",wn),xn("\\mid",Rn,Wn,Kn,"∣",bn),xn("\\top",Rn,Wn,er,"⊤",gn),xn("\\bot",Rn,Wn,er,"⊥",gn),un="Variable Sized Symbols",or(["\\sum","\\prod","\\bigcup","\\bigcap","\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","\\intop"],"",{},function(e){return{type:"mop",limits:"auto",symbol:!0,fontFamily:"main",body:{coprod:"∐",bigvee:"⋁",bigwedge:"⋀",biguplus:"⨄",bigcap:"⋂",bigcup:"⋃",intop:"∫",prod:"∏",sum:"∑",bigotimes:"⨂",bigoplus:"⨁",bigodot:"⨀",bigsqcup:"⨆",smallint:"∫"}[e.slice(1)]}}),or(["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","\\intclockwise","\\varointclockwise","\\ointctrclockwise","\\intctrclockwise"],"",{},function(e){return{type:"mop",limits:"nolimits",symbol:!0,body:{"int":"∫",iint:"∬",iiint:"∭",oint:"∮",oiint:"∯",oiiint:"∰",intclockwise:"∱",varointclockwise:"∲",ointctrclockwise:"∳",intctrclockwise:"⨑"}[e.slice(1)]}}),Sn(wn,"\\sum","\\prod","\\bigcap","\\bigcup","\\int"),Sn(bn,"\\bigoplus","\\smallint","\\iint","\\oint"),Sn(gn,"\\bigwedge","\\bigvee"),Sn(756,"\\coprod"),Sn(723,"\\bigsqcup"),Sn(1241,"\\bigotimes"),Sn(150,"\\bigodot"),Sn(174,"\\biguplus"),Sn(878,"\\iiint"),Sn(97,"\\intop"),un="Various",xn("\\sharp",Rn,Wn,er,"♯",bn),xn("\\flat",Rn,Wn,er,"♭",590),xn("\\natural",Rn,Wn,er,"♮",278),xn("\\#",Rn,Wn,er,"#",gn),xn("\\#",Un,Wn,er,"#",gn),xn("\\&",Rn,Wn,er,"&",gn),xn("\\&",Un,Wn,er,"&",gn),xn("\\clubsuit",Rn,Wn,er,"♣",172),xn("\\heartsuit",Rn,Wn,er,"♡",mn),xn("\\spadesuit",Rn,Wn,er,"♠",mn),xn("\\diamondsuit",Rn,Wn,er,"♢",vn),xn("\\differencedelta",Rn,Wn,Kn,"∆",bn),un="Letters and Letter Like Forms",or(["\\unicode"],"{charcode:number}",null,function(e,t){var n=parseInt(t[0]);return isNaN(n)&&(n=10067),{type:"mord",fontFamily:"main",body:String.fromCodePoint(n)}}),xn("?",Rn,Wn,er,"?"),xn("!",Rn,Wn,er,"!"),xn("\\nabla",Rn,Wn,er,"∇",wn),xn("\\partial",Rn,Wn,er,"∂",wn),xn("\\ell",Rn,Wn,er,"ℓ",bn),xn("\\imaginaryI",Rn,"main",$n,"i"),xn("\\imaginaryJ",Rn,"main",$n,"j"),xn("\\Re",Rn,Wn,er,"ℜ",bn),xn("\\Im",Rn,Wn,er,"ℑ",bn),xn("\\hbar",Rn,Wn,er,"ℏ",bn),xn("\\hslash",Rn,Xn,er,"ℏ",bn),xn("\\differentialD",Rn,"mathrm",$n,"d"),xn("\\rd",Rn,"mathrm",$n,"d"),xn("\\capitalDifferentialD",Rn,"mathrm",$n,"D"),xn("\\rD",Rn,"mathrm",$n,"D"),xn("\\exponentialE",Rn,"mathrm",$n,"e"),xn("\\Finv",Rn,Xn,er,"Ⅎ",3),xn("\\Game",Rn,Xn,er,"⅁",1),xn("\\wp",Rn,Wn,er,"℘",1306),xn("\\eth",Rn,Xn,er,"ð",77),xn("\\mho",Rn,Xn,er,"℧",138),xn("\\Bbbk",Rn,Xn,er,"k"),xn("\\doubleStruckCapitalN",Rn,"mathbb",$n,"N"),xn("\\N",Rn,"mathbb",$n,"N"),xn("\\doubleStruckCapitalR",Rn,"mathbb",$n,"R"),xn("\\R",Rn,"mathbb",$n,"R"),xn("\\doubleStruckCapitalQ",Rn,"mathbb",$n,"Q"),xn("\\Q",Rn,"mathbb",$n,"Q"),xn("\\doubleStruckCapitalC",Rn,"mathbb",$n,"C"),xn("\\C",Rn,"mathbb",$n,"C"),xn("\\doubleStruckCapitalZ",Rn,"mathbb",$n,"Z"),xn("\\Z",Rn,"mathbb",$n,"Z"),xn("\\doubleStruckCapitalP",Rn,"mathbb",$n,"P"),xn("\\P",Rn,"mathbb",$n,"P"),xn("\\scriptCapitalE",Rn,"mathscr",$n,"E"),xn("\\scriptCapitalH",Rn,"mathscr",$n,"H"),xn("\\scriptCapitalL",Rn,"mathscr",$n,"L"),xn("\\gothicCapitalC",Rn,"mathfrak",$n,"C"),xn("\\gothicCapitalH",Rn,"mathfrak",$n,"H"),xn("\\gothicCapitalI",Rn,"mathfrak",$n,"I"),xn("\\gothicCapitalR",Rn,"mathfrak",$n,"R"),xn("\\pounds",Rn,Wn,$n,"£",509),xn("\\yen",Rn,Xn,er,"¥",57),xn("\\euro",Rn,Wn,$n,"€",4),xn("\\euro",Un,Wn,er,"€",4),un="Crosses",xn("\\textdagger",Rn,Wn,Jn,"†"),xn("\\dagger",Rn,Wn,Jn,"†",bn),xn("\\dag",Rn,Wn,Jn,"†",bn),xn("\\ddag",Rn,Wn,Jn,"‡",500),xn("\\textdaggerdbl",Rn,Wn,Jn,"‡"),xn("\\ddagger",Rn,Wn,Jn,"‡",353),xn("\\maltese",Rn,Xn,er,"✠",24),xn("\\maltese",Un,Xn,er,"✠",24),un="Arrows",xn("\\longrightarrow",Rn,Wn,Kn,"⟶",wn),xn("\\rightarrow",Rn,Wn,Kn,"→",wn),xn("\\Longrightarrow",Rn,Wn,Kn,"⟹",wn),xn("\\Rightarrow",Rn,Wn,Kn,"⇒",wn),xn("\\longmapsto",Rn,Wn,Kn,"⟼",bn),xn("\\mapsto",Rn,Wn,Kn,"↦",bn),xn("\\Longleftrightarrow",Rn,Wn,Kn,"⟺",bn),xn("\\rightleftarrows",Rn,Xn,Kn,"⇄",bn),xn("\\leftarrow",Rn,Wn,Kn,"←",bn),xn("\\curvearrowleft",Rn,Xn,Kn,"↶",bn),xn("\\uparrow",Rn,Wn,Kn,"↑",bn),xn("\\downarrow",Rn,Wn,Kn,"↓",bn),xn("\\hookrightarrow",Rn,Wn,Kn,"↪",bn),xn("\\rightharpoonup",Rn,Wn,Kn,"⇀",bn),xn("\\rightleftharpoons",Rn,Wn,Kn,"⇌",bn),xn("\\Leftarrow",Rn,Wn,Kn,"⇐",1695),xn("\\longleftrightarrow",Rn,Wn,Kn,"⟷",1599),xn("\\longleftarrow",Rn,Wn,Kn,"⟵",878),xn("\\Longleftarrow",Rn,Wn,Kn,"⟸",296),xn("\\searrow",Rn,Wn,Kn,"↘",1609),xn("\\nearrow",Rn,Wn,Kn,"↗",1301),xn("\\swarrow",Rn,Wn,Kn,"↙",167),xn("\\nwarrow",Rn,Wn,Kn,"↖",108),xn("\\Uparrow",Rn,Wn,Kn,"⇑",257),xn("\\Downarrow",Rn,Wn,Kn,"⇓",556),xn("\\updownarrow",Rn,Wn,Kn,"↕",192),xn("\\Updownarrow",Rn,Wn,Kn,"⇕",161),xn("\\hookleftarrow",Rn,Wn,Kn,"↩",115),xn("\\leftharpoonup",Rn,Wn,Kn,"↼",93),xn("\\leftharpoondown",Rn,Wn,Kn,"↽",42),xn("\\rightharpoondown",Rn,Wn,Kn,"⇁",80),xn("\\leftrightarrows",Rn,Xn,Kn,"⇆",765),xn("\\dashrightarrow",Rn,Xn,Kn,"⇢",311),xn("\\dashleftarrow",Rn,Xn,Kn,"⇠",5),xn("\\leftleftarrows",Rn,Xn,Kn,"⇇",8),xn("\\Lleftarrow",Rn,Xn,Kn,"⇚",7),xn("\\twoheadleftarrow",Rn,Xn,Kn,"↞",32),xn("\\leftarrowtail",Rn,Xn,Kn,"↢",25),xn("\\looparrowleft",Rn,Xn,Kn,"↫",6),xn("\\leftrightharpoons",Rn,Xn,Kn,"⇋",205),xn("\\circlearrowleft",Rn,Xn,Kn,"↺",105),xn("\\Lsh",Rn,Xn,Kn,"↰",11),xn("\\upuparrows",Rn,Xn,Kn,"⇈",15),xn("\\downharpoonleft",Rn,Xn,Kn,"⇃",21),xn("\\multimap",Rn,Xn,Kn,"⊸",108),xn("\\leftrightsquigarrow",Rn,Xn,Kn,"↭",31),xn("\\twoheadrightarrow",Rn,Xn,Kn,"↠",835),xn("\\rightarrowtail",Rn,Xn,Kn,"↣",195),xn("\\looparrowright",Rn,Xn,Kn,"↬",37),xn("\\curvearrowright",Rn,Xn,Kn,"↷",209),xn("\\circlearrowright",Rn,Xn,Kn,"↻",63),xn("\\Rsh",Rn,Xn,Kn,"↱",18),xn("\\downdownarrows",Rn,Xn,Kn,"⇊",6),xn("\\upharpoonright",Rn,Xn,Kn,"↾",579),xn("\\downharpoonright",Rn,Xn,Kn,"⇂",39),xn("\\rightsquigarrow",Rn,Xn,Kn,"⇝",674),xn("\\leadsto",Rn,Xn,Kn,"⇝",709),xn("\\Rrightarrow",Rn,Xn,Kn,"⇛",62),xn("\\restriction",Rn,Xn,Kn,"↾",29),xn("\\upharpoonleft",Rn,Xn,Kn,"↿",vn),xn("\\rightrightarrows",Rn,Xn,Kn,"⇉",vn),un="Negated Arrows",xn("\\nrightarrow",Rn,Xn,Kn,"↛",324),xn("\\nRightarrow",Rn,Xn,Kn,"⇏",107),xn("\\nleftrightarrow",Rn,Xn,Kn,"↮",36),xn("\\nLeftrightarrow",Rn,Xn,Kn,"⇎",20),xn("\\nleftarrow",Rn,Xn,Kn,"↚",7),xn("\\nLeftarrow",Rn,Xn,Kn,"⇍",5),un="Negated Relations",xn("\\nless",Rn,Xn,Kn,"≮",146),xn("\\nleqslant",Rn,Xn,Kn,"",58),xn("\\lneq",Rn,Xn,Kn,"⪇",54),xn("\\lneqq",Rn,Xn,Kn,"≨",36),xn("\\nleqq",Rn,Xn,Kn,"",18),xn("\\unlhd",Rn,Xn,Jn,"⊴",253),xn("\\unrhd",Rn,Xn,Jn,"⊵",66),xn("\\lvertneqq",Rn,Xn,Kn,"",6),xn("\\lnsim",Rn,Xn,Kn,"⋦",4),xn("\\lnapprox",Rn,Xn,Kn,"⪉",vn),xn("\\nprec",Rn,Xn,Kn,"⊀",71),xn("\\npreceq",Rn,Xn,Kn,"⋠",57),xn("\\precnsim",Rn,Xn,Kn,"⋨",4),xn("\\precnapprox",Rn,Xn,Kn,"⪹",2),xn("\\nsim",Rn,Xn,Kn,"≁",40),xn("\\nshortmid",Rn,Xn,Kn,"",1),xn("\\nmid",Rn,Xn,Kn,"∤",417),xn("\\nvdash",Rn,Xn,Kn,"⊬",266),xn("\\nvDash",Rn,Xn,Kn,"⊭",405),xn("\\ngtr",Rn,Xn,Kn,"≯",90),xn("\\ngeqslant",Rn,Xn,Kn,"",23),xn("\\ngeqq",Rn,Xn,Kn,"",12),xn("\\gneq",Rn,Xn,Kn,"⪈",29),xn("\\gneqq",Rn,Xn,Kn,"≩",35),xn("\\gvertneqq",Rn,Xn,Kn,"",6),xn("\\gnsim",Rn,Xn,Kn,"⋧",3),xn("\\gnapprox",Rn,Xn,Kn,"⪊",vn),xn("\\nsucc",Rn,Xn,Kn,"⊁",44),xn("\\nsucceq",Rn,Xn,Kn,"⋡",vn),xn("\\succnsim",Rn,Xn,Kn,"⋩",4),xn("\\succnapprox",Rn,Xn,Kn,"⪺",vn),xn("\\ncong",Rn,Xn,Kn,"≆",128),xn("\\nshortparallel",Rn,Xn,Kn,"",6),xn("\\nparallel",Rn,Xn,Kn,"∦",54),xn("\\nVDash",Rn,Xn,Kn,"⊯",5),xn("\\nsupseteqq",Rn,Xn,Kn,"",1),xn("\\supsetneq",Rn,Xn,Kn,"⊋",286),xn("\\varsupsetneq",Rn,Xn,Kn,"",2),xn("\\supsetneqq",Rn,Xn,Kn,"⫌",49),xn("\\varsupsetneqq",Rn,Xn,Kn,"",3),xn("\\nVdash",Rn,Xn,Kn,"⊮",179),xn("\\precneqq",Rn,Xn,Kn,"⪵",11),xn("\\succneqq",Rn,Xn,Kn,"⪶",3),xn("\\nsubseteqq",Rn,Xn,Kn,"",16),un="Various",xn("\\checkmark",Rn,Xn,er,"✓",1025),xn("\\diagup",Rn,Xn,er,"╱",440),xn("\\diagdown",Rn,Xn,er,"╲",175),xn("\\measuredangle",Rn,Xn,er,"∡",271),xn("\\sphericalangle",Rn,Xn,er,"∢",156),xn("\\backprime",Rn,Xn,er,"‵",104),xn("\\backdoubleprime",Rn,Xn,er,"‶",vn),un="Shapes",xn("\\ast",Rn,Wn,Jn,"∗",wn),xn("\\star",Rn,Wn,Jn,"⋆",bn),xn("\\diamond",Rn,Wn,Jn,"⋄",1356),xn("\\Diamond",Rn,Xn,er,"◊",695),xn("\\lozenge",Rn,Xn,er,"◊",422),xn("\\blacklozenge",Rn,Xn,er,"⧫",344),xn("\\bigstar",Rn,Xn,er,"★",168),un="Hebrew",xn("\\aleph",Rn,Wn,er,"ℵ",1381),xn("\\beth",Rn,Xn,er,"ℶ",54),xn("\\daleth",Rn,Xn,er,"ℸ",43),xn("\\gimel",Rn,Xn,er,"ℷ",36),un="Fences",xn("\\lbrace",Rn,Wn,Qn,"{",wn),xn("\\rbrace",Rn,Wn,Gn,"}",wn),xn("\\langle",Rn,Wn,Qn,"⟨",bn),xn("\\rangle",Rn,Wn,Gn,"⟩",bn),xn("\\lfloor",Rn,Wn,Qn,"⌊",bn),xn("\\rfloor",Rn,Wn,Gn,"⌋",bn),xn("\\lceil",Rn,Wn,Qn,"⌈",bn),xn("\\rceil",Rn,Wn,Gn,"⌉",bn),xn("\\vert",Rn,Wn,$n,"∣",wn),xn("\\mvert",Rn,Wn,Kn,"∣"),xn("\\lvert",Rn,Wn,Qn,"∣",496),xn("\\rvert",Rn,Wn,Gn,"∣",496),xn("\\|",Rn,Wn,er,"∥"),xn("\\Vert",Rn,Wn,er,"∥",wn),xn("\\mVert",Rn,Wn,er,"∥"),xn("\\lVert",Rn,Wn,Qn,"∥",287),xn("\\rVert",Rn,Wn,Gn,"∥",vn),xn("\\lbrack",Rn,Wn,Qn,"[",574),xn("\\rbrack",Rn,Wn,Gn,"]",213),xn("\\{",Rn,Wn,Qn,"{"),xn("\\{",Un,Wn,er,"{"),xn("\\}",Rn,Wn,Gn,"}"),xn("\\}",Un,Wn,er,"}"),xn("(",Rn,Wn,Qn,"("),xn(")",Rn,Wn,Gn,")"),xn("[",Rn,Wn,Qn,"["),xn("]",Rn,Wn,Gn,"]"),xn("\\ulcorner",Rn,Xn,Qn,"┌",296),xn("\\urcorner",Rn,Xn,Gn,"┐",310),xn("\\llcorner",Rn,Xn,Qn,"└",137),xn("\\lrcorner",Rn,Xn,Gn,"┘",199),xn("\\lgroup",Rn,Wn,Qn,"⟮",24),xn("\\rgroup",Rn,Wn,Gn,"⟯",24),xn("\\lmoustache",Rn,Wn,Qn,"⎰",vn),xn("\\rmoustache",Rn,Wn,Gn,"⎱",vn),or(["\\middle"],"{:delim}",{},function(e,t){return{type:"delim",delim:t[0]}}),un="Sizing";var ar={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}};or(["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],"{:delim}",{},function(e,t){return{type:"sizeddelim",size:ar[e].size,cls:ar[e].mclass,delim:t[0]}}),un="Relations",xn("=",Rn,Wn,Kn,"=",wn),xn("\\ne",Rn,Wn,Kn,"≠",wn),xn("\\neq",Rn,Wn,Kn,"≠",bn),xn("<",Rn,Wn,Kn,"<",wn),xn("\\lt",Rn,Wn,Kn,"<",bn),xn(">",Rn,Wn,Kn,">",wn),xn("\\gt",Rn,Wn,Kn,">",bn),xn("\\le",Rn,Wn,Kn,"≤",bn),xn("\\ge",Rn,Wn,Kn,"≥",bn),xn("\\leqslant",Rn,Xn,Kn,"⩽",wn),xn("\\geqslant",Rn,Xn,Kn,"⩾",wn),xn("\\leq",Rn,Wn,Kn,"≤",bn),xn("\\geq",Rn,Wn,Kn,"≥",bn),xn("\\ll",Rn,Wn,Kn,"≪"),xn("\\gg",Rn,Wn,Kn,"≫",bn),xn("\\coloneq",Rn,Wn,Kn,"≔",5),xn("\\measeq",Rn,Wn,Kn,"≝"),xn("\\eqdef",Rn,Wn,Kn,"≞"),xn("\\questeq",Rn,Wn,Kn,"≟"),xn(":",Rn,Wn,Kn,":"),xn("\\cong",Rn,Wn,Kn,"≅",bn),xn("\\equiv",Rn,Wn,Kn,"≡",bn),xn("\\prec",Rn,Wn,Kn,"≺",bn),xn("\\preceq",Rn,Wn,Kn,"⪯",bn),xn("\\succ",Rn,Wn,Kn,"≻",bn),xn("\\succeq",Rn,Wn,Kn,"⪰",1916),xn("\\perp",Rn,Wn,Kn,"⊥",bn),xn("\\parallel",Rn,Wn,Kn,"∥",bn),xn("\\propto",Rn,Wn,Kn,"∝",bn),xn("\\Colon",Rn,Wn,Kn,"∷"),xn("\\smile",Rn,Wn,Kn,"⌣",bn),xn("\\frown",Rn,Wn,Kn,"⌢",bn),xn("\\sim",Rn,Wn,Kn,"∼",bn),xn("\\gtrsim",Rn,Xn,Kn,"≳",bn),xn("\\approx",Rn,Wn,Kn,"≈",wn),xn("\\approxeq",Rn,Xn,Kn,"≊",147),xn("\\thickapprox",Rn,Xn,Kn,"≈",377),xn("\\lessapprox",Rn,Xn,Kn,"⪅",146),xn("\\gtrapprox",Rn,Xn,Kn,"⪆",95),xn("\\precapprox",Rn,Xn,Kn,"⪷",50),xn("\\succapprox",Rn,Xn,Kn,"⪸",vn),xn("\\thicksim",Rn,Xn,Kn,"∼",779),xn("\\succsim",Rn,Xn,Kn,"≿",251),xn("\\precsim",Rn,Xn,Kn,"≾",104),xn("\\backsim",Rn,Xn,Kn,"∽",251),xn("\\eqsim",Rn,Xn,Kn,"≂",62),xn("\\backsimeq",Rn,Xn,Kn,"⋍",91),xn("\\simeq",Rn,Wn,Kn,"≃",vn),xn("\\lesssim",Rn,Xn,Kn,"≲",vn),xn("\\nleq",Rn,Xn,Kn,"≰",369),xn("\\ngeq",Rn,Xn,Kn,"≱",164),xn("\\smallsmile",Rn,Xn,Kn,"⌣",31),xn("\\smallfrown",Rn,Xn,Kn,"⌢",71),xn("\\bowtie",Rn,Wn,Kn,"⋈",558),xn("\\asymp",Rn,Wn,Kn,"≍",755),xn("\\sqsubseteq",Rn,Wn,Kn,"⊑",1255),xn("\\sqsupseteq",Rn,Wn,Kn,"⊒",183),xn("\\leqq",Rn,Xn,Kn,"≦",1356),xn("\\eqslantless",Rn,Xn,Kn,"⪕",15),xn("\\lll",Rn,Xn,Kn,"⋘",157),xn("\\lessgtr",Rn,Xn,Kn,"≶",281),xn("\\lesseqgtr",Rn,Xn,Kn,"⋚",134),xn("\\lesseqqgtr",Rn,Xn,Kn,"⪋",vn),xn("\\risingdotseq",Rn,Xn,Kn,"≓",8),xn("\\fallingdotseq",Rn,Xn,Kn,"≒",99),xn("\\subseteqq",Rn,Xn,Kn,"⫅",82),xn("\\Subset",Rn,Xn,Kn,"⋐"),xn("\\sqsubset",Rn,Xn,Kn,"⊏",309),xn("\\preccurlyeq",Rn,Xn,Kn,"≼",549),xn("\\curlyeqprec",Rn,Xn,Kn,"⋞",14),xn("\\vDash",Rn,Xn,Kn,"⊨",646),xn("\\Vvdash",Rn,Xn,Kn,"⊪",20),xn("\\bumpeq",Rn,Xn,Kn,"≏",13),xn("\\Bumpeq",Rn,Xn,Kn,"≎",12),xn("\\geqq",Rn,Xn,Kn,"≧",972),xn("\\eqslantgtr",Rn,Xn,Kn,"⪖",13),xn("\\ggg",Rn,Xn,Kn,"⋙",127),xn("\\gtrless",Rn,Xn,Kn,"≷",417),xn("\\gtreqless",Rn,Xn,Kn,"⋛",190),xn("\\gtreqqless",Rn,Xn,Kn,"⪌",91),xn("\\supseteqq",Rn,Xn,Kn,"⫆",6),xn("\\Supset",Rn,Xn,Kn,"⋑",34),xn("\\sqsupset",Rn,Xn,Kn,"⊐",71),xn("\\succcurlyeq",Rn,Xn,Kn,"≽",442),xn("\\curlyeqsucc",Rn,Xn,Kn,"⋟",10),xn("\\Vdash",Rn,Xn,Kn,"⊩",276),xn("\\shortmid",Rn,Xn,Kn,"∣",67),xn("\\shortparallel",Rn,Xn,Kn,"∥",17),xn("\\between",Rn,Xn,Kn,"≬",110),xn("\\pitchfork",Rn,Xn,Kn,"⋔",66),xn("\\varpropto",Rn,Xn,Kn,"∝",203),xn("\\backepsilon",Rn,Xn,Kn,"∍",176),xn("\\llless",Rn,Xn,Kn,"⋘",vn),xn("\\gggtr",Rn,Xn,Kn,"⋙",vn),xn("\\lhd",Rn,Xn,Jn,"⊲",447),xn("\\rhd",Rn,Xn,Jn,"⊳",338),xn("\\Join",Rn,Wn,Kn,"⋈",35),xn("\\doteq",Rn,Wn,Kn,"≐",1450),xn("\\doteqdot",Rn,Xn,Kn,"≑",60),xn("\\Doteq",Rn,Xn,Kn,"≑",vn),xn("\\eqcirc",Rn,Xn,Kn,"≖",6),xn("\\circeq",Rn,Xn,Kn,"≗",31),xn("\\lessdot",Rn,Xn,Jn,"⋖",88),xn("\\gtrdot",Rn,Xn,Jn,"⋗",45),xn("\\~",Rn,Wn,Kn,"~"),un="Logic",xn("\\leftrightarrow",Rn,Wn,Kn,"↔",wn),xn("\\Leftrightarrow",Rn,Wn,Kn,"⇔",wn),xn("\\to",Rn,Wn,Kn,"→",wn),xn("\\models",Rn,Wn,Kn,"⊨",bn),xn("\\vdash",Rn,Wn,Kn,"⊢",bn),xn("\\therefore",Rn,Xn,Kn,"∴",1129),xn("\\because",Rn,Xn,Kn,"∵",388),xn("\\implies",Rn,Wn,Kn,"⟹",1858),xn("\\gets",Rn,Wn,Kn,"←",150),xn("\\dashv",Rn,Wn,Kn,"⊣",299),xn("\\impliedby",Rn,Wn,Kn,"⟸",vn),xn("\\biconditional",Rn,Wn,Kn,"⟷",vn),xn("\\roundimplies",Rn,Wn,Kn,"⥰",vn),un="Operators",xn("+",Rn,Wn,Jn,"+",wn),xn("-",Rn,Wn,Jn,"−",wn),xn("−",Rn,Wn,Jn,"−",wn),xn("\\pm",Rn,Wn,Jn,"±",bn),xn("\\mp",Rn,Wn,Jn,"∓",bn),xn("*",Rn,Wn,Jn,"∗",bn),xn("\\times",Rn,Wn,Jn,"×",bn),xn("\\div",Rn,Wn,Jn,"÷",bn),xn("\\surd",Rn,Wn,er,"√",bn),xn("\\divides",Rn,Wn,Jn,"∣",vn),xn("\\ltimes",Rn,Xn,Jn,"⋉",576),xn("\\rtimes",Rn,Xn,Jn,"⋊",946),xn("\\leftthreetimes",Rn,Xn,Jn,"⋋",34),xn("\\rightthreetimes",Rn,Xn,Jn,"⋌",14),xn("\\intercal",Rn,Xn,Jn,"⊺",478),xn("\\dotplus",Rn,Xn,Jn,"∔",81),xn("\\centerdot",Rn,Xn,Jn,"⋅",271),xn("\\doublebarwedge",Rn,Xn,Jn,"⩞",5),xn("\\divideontimes",Rn,Xn,Jn,"⋇",51),xn("\\cdot",Rn,Wn,Jn,"⋅",vn),un="Others",xn("\\infty",Rn,Wn,er,"∞",wn),xn("\\prime",Rn,Wn,Vn,"′",wn),xn("\\doubleprime",Rn,Wn,er,"″"),xn("\\angle",Rn,Wn,er,"∠",bn),xn("`",Rn,Wn,er,"‘"),xn("\\$",Rn,Wn,er,"$"),xn("\\$",Un,Wn,er,"$"),xn("\\%",Rn,Wn,er,"%"),xn("\\%",Un,Wn,er,"%"),xn("\\_",Rn,Wn,er,"_"),xn("\\_",Un,Wn,er,"_"),un="Greek",xn("\\alpha",Rn,Wn,Vn,"α",bn),xn("\\beta",Rn,Wn,Vn,"β",bn),xn("\\gamma",Rn,Wn,Vn,"γ",bn),xn("\\delta",Rn,Wn,Vn,"δ",bn),xn("\\epsilon",Rn,Wn,Vn,"ϵ",bn),xn("\\varepsilon",Rn,Wn,Vn,"ε"),xn("\\zeta",Rn,Wn,Vn,"ζ",bn),xn("\\eta",Rn,Wn,Vn,"η",bn),xn("\\theta",Rn,Wn,Vn,"θ",bn),xn("\\vartheta",Rn,Wn,Vn,"ϑ",bn),xn("\\iota",Rn,Wn,Vn,"ι",bn),xn("\\kappa",Rn,Wn,Vn,"κ",bn),xn("\\varkappa",Rn,Xn,Vn,"ϰ",bn),xn("\\lambda",Rn,Wn,Vn,"λ",bn),xn("\\mu",Rn,Wn,Vn,"μ",bn),xn("\\nu",Rn,Wn,Vn,"ν",bn),xn("\\xi",Rn,Wn,Vn,"ξ",bn),xn("\\omicron",Rn,Wn,Vn,"o"),xn("\\pi",Rn,Wn,Vn,"π",bn),xn("\\varpi",Rn,Wn,Vn,"ϖ",bn),xn("\\rho",Rn,Wn,Vn,"ρ",bn),xn("\\varrho",Rn,Wn,Vn,"ϱ",bn),xn("\\sigma",Rn,Wn,Vn,"σ",bn),xn("\\varsigma",Rn,Wn,Vn,"ς",bn),xn("\\tau",Rn,Wn,Vn,"τ",bn),xn("\\phi",Rn,Wn,Vn,"ϕ",bn),xn("\\varphi",Rn,Wn,Vn,"φ",bn),xn("\\upsilon",Rn,Wn,Vn,"υ",bn),xn("\\chi",Rn,Wn,Vn,"χ",bn),xn("\\psi",Rn,Wn,Vn,"ψ",bn),xn("\\omega",Rn,Wn,Vn,"ω",bn),xn("\\Gamma",Rn,Wn,Vn,"Γ",bn),xn("\\Delta",Rn,Wn,Vn,"Δ",bn),xn("\\Theta",Rn,Wn,Vn,"Θ",bn),xn("\\Lambda",Rn,Wn,Vn,"Λ",bn),xn("\\Xi",Rn,Wn,Vn,"Ξ",bn),xn("\\Pi",Rn,Wn,Vn,"Π",bn),xn("\\Sigma",Rn,Wn,Vn,"Σ",bn),xn("\\Upsilon",Rn,Wn,Vn,"Υ",bn),xn("\\Phi",Rn,Wn,Vn,"Φ",bn),xn("\\Psi",Rn,Wn,Vn,"Ψ",bn),xn("\\Omega",Rn,Wn,Vn,"Ω",bn),xn("\\digamma",Rn,Xn,Vn,"ϝ",248),un="Others",xn("\\emptyset",[Un,Rn],Wn,er,"∅",wn),xn("\\varnothing",[Un,Rn],Xn,er,"∅",wn),un="Set Operators",xn("\\cap",Rn,Wn,Jn,"∩",wn),xn("\\cup",Rn,Wn,Jn,"∪",wn),xn("\\setminus",Rn,Wn,Jn,"∖",bn),xn("\\smallsetminus",Rn,Xn,Jn,"∖",254),xn("\\complement",Rn,Xn,er,"∁",200),un="Set Relations",xn("\\in",Rn,Wn,Kn,"∈",wn),xn("\\notin",Rn,Wn,Kn,"∉",wn),xn("\\not",Rn,Wn,Kn,"̸",bn),xn("\\ni",Rn,Wn,Kn,"∋",bn),xn("\\owns",Rn,Wn,Kn,"∋",18),xn("\\subset",Rn,Wn,Kn,"⊂",wn),xn("\\supset",Rn,Wn,Kn,"⊃",wn),xn("\\subseteq",Rn,Wn,Kn,"⊆",wn),xn("\\supseteq",Rn,Wn,Kn,"⊇",wn),xn("\\subsetneq",Rn,Xn,Kn,"⊊",1945),xn("\\varsubsetneq",Rn,Xn,Kn,"",198),xn("\\subsetneqq",Rn,Xn,Kn,"⫋",314),xn("\\varsubsetneqq",Rn,Xn,Kn,"",55),xn("\\nsubset",Rn,Xn,Kn,"⊄",vn),xn("\\nsupset",Rn,Xn,Kn,"⊅",vn),xn("\\nsubseteq",Rn,Xn,Kn,"⊈",950),xn("\\nsupseteq",Rn,Xn,Kn,"⊉",49),un="Spacing",xn("\\ ",Rn,Wn,tr," "),xn("~",Rn,Wn,tr," "),xn("\\space",Rn,Wn,tr," "),xn("\\nobreakspace",[Un,Rn],Wn,tr," "),xn("\\!",Rn,Wn,tr,null),xn("\\,",Rn,Wn,tr,null),xn("\\:",Rn,Wn,tr,null),xn("\\;",Rn,Wn,tr,null),xn("\\enskip",Rn,Wn,tr,null),xn("\\enspace",Rn,Wn,tr,null,672),xn("\\quad",Rn,Wn,tr,null,bn),xn("\\qquad",Rn,Wn,tr,null,bn),or(["\\hspace","\\hspace*"],"{width:skip}",null,function(e,t){return{type:"spacing",width:t[0]||0}}),or(["\\mathop","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathord","\\mathinner"],"{:auto}",null,function(e,t){var n={type:{"\\mathop":"mop","\\mathbin":"mbin","\\mathrel":"mrel","\\mathopen":"mopen","\\mathclose":"mclose","\\mathpunct":"mpunct","\\mathord":"mord","\\mathinner":"minner"}[e],body:fr(t[0])||t[0],captureSelection:!0};return e==="\\mathop"&&(n.limits="nolimits",n.isFunction=!0),n}),or(["\\operatorname","\\operatorname*"],"{operator:string}",null,function(e,t){var n={type:"mop",skipBoundary:!0,body:t[0],isFunction:!0};return e==="\\operatorname"?n.limits="nolimits":e==="\\operatorname*"&&(n.limits="limits"),n}),un="Ignore",xn(" ",Un,Wn,tr," "),un="Punctuation",xn("\\colon",Rn,Wn,Yn,":",bn),xn("\\cdotp",Rn,Wn,Yn,"⋅",bn),xn("\\ldots",Un,Wn,Zn,"…",bn),xn("\\ldots",Rn,Wn,Zn,"…",bn),xn("\\cdots",Rn,Wn,Zn,"⋯",bn),xn("\\ddots",Rn,Wn,Zn,"⋱",bn),xn("\\mathellipsis",Rn,Wn,Zn,"…",91),xn("\\textellipsis",Un,Wn,Zn,"…",12),xn("\\vdots",Rn,Wn,er,"⋮",bn),xn("\\ldotp",Rn,Wn,Yn,".",18),xn(",",Rn,Wn,Yn,","),xn(";",Rn,Wn,Yn,";"),xn("--",Un,Wn,er,"–"),xn("---",Un,Wn,er,"—"),un="Logical Operators",xn("\\wedge",Rn,Wn,Jn,"∧",wn),xn("\\vee",Rn,Wn,Jn,"∨",wn),xn("\\lnot",Rn,Wn,er,"¬",bn),xn("\\neg",Rn,Wn,er,"¬",wn),xn("\\land",Rn,Wn,Jn,"∧",659),xn("\\lor",Rn,Wn,Jn,"∨",364),xn("\\barwedge",Rn,Xn,Jn,"⊼",21),xn("\\veebar",Rn,Xn,Jn,"⊻",43),xn("\\nor",Rn,Xn,Jn,"⊻",7),xn("\\curlywedge",Rn,Xn,Jn,"⋏",58),xn("\\curlyvee",Rn,Xn,Jn,"⋎",57),un="Boxes",xn("\\square",Rn,Xn,er,"□",bn),xn("\\Box",Rn,Xn,er,"□",bn),xn("\\blacksquare",Rn,Xn,er,"■",1679),xn("\\boxminus",Rn,Xn,Jn,"⊟",79),xn("\\boxplus",Rn,Xn,Jn,"⊞",276),xn("\\boxtimes",Rn,Xn,Jn,"⊠",457),xn("\\boxdot",Rn,Xn,Jn,"⊡",120),un="Circles",xn("\\circ",Rn,Wn,Jn,"∘",wn),xn("\\bigcirc",Rn,Wn,Jn,"◯",903),xn("\\bullet",Rn,Wn,Jn,"∙",bn),xn("\\circleddash",Rn,Xn,Jn,"⊝",bn),xn("\\circledast",Rn,Xn,Jn,"⊛",339),xn("\\oplus",Rn,Wn,Jn,"⊕",bn),xn("\\ominus",Rn,Wn,Jn,"⊖",1568),xn("\\otimes",Rn,Wn,Jn,"⊗",bn),xn("\\odot",Rn,Wn,Jn,"⊙",bn),xn("\\circledcirc",Rn,Xn,Jn,"⊚",93),xn("\\oslash",Rn,Wn,Jn,"⊘",497),xn("\\circledS",Rn,Xn,er,"Ⓢ",31),xn("\\circledR",Rn,Xn,er,"®",1329),un="Triangles",xn("\\triangle",Rn,Wn,er,"△",bn),xn("\\triangleq",Rn,Xn,Kn,"≜",bn),xn("\\bigtriangleup",Rn,Wn,Jn,"△",1773),xn("\\vartriangle",Rn,Xn,Kn,"△",762),xn("\\triangledown",Rn,Xn,er,"▽",520),xn("\\bigtriangledown",Rn,Wn,Jn,"▽",661),xn("\\triangleleft",Rn,Wn,Jn,"◃",534),xn("\\vartriangleleft",Rn,Xn,Kn,"⊲",281),xn("\\trianglelefteq",Rn,Xn,Kn,"⊴",176),xn("\\ntriangleleft",Rn,Xn,Kn,"⋪",13),xn("\\ntrianglelefteq",Rn,Xn,Kn,"⋬",22),xn("\\triangleright",Rn,Wn,Jn,"▹",516),xn("\\vartriangleright",Rn,Xn,Kn,"⊳",209),xn("\\trianglerighteq",Rn,Xn,Kn,"⊵",45),xn("\\ntriangleright",Rn,Xn,Kn,"⋫",15),xn("\\ntrianglerighteq",Rn,Xn,Kn,"⋭",6),xn("\\blacktriangle",Rn,Xn,er,"▲",360),xn("\\blacktriangledown",Rn,Xn,er,"▼",159),xn("\\blacktriangleleft",Rn,Xn,Kn,"◀",101),xn("\\blacktriangleright",Rn,Xn,Kn,"▶",271),un="Others",xn("\\/",[Rn],Wn,Vn,"/"),xn("\\backslash",[Un,Rn],Wn,Vn,"\\"),xn("|",Rn,Wn,er,"∣"),un="Big Operators",xn("\\sqcup",Rn,Wn,Jn,"⊔",1717),xn("\\sqcap",Rn,Wn,Jn,"⊓",735),xn("\\uplus",Rn,Wn,Jn,"⊎",597),xn("\\wr",Rn,Wn,Jn,"≀",286),xn("\\Cap",Rn,Xn,Jn,"⋒",2),xn("\\Cup",Rn,Xn,Jn,"⋓",2),xn("\\doublecap",Rn,Xn,Jn,"⋒",1),xn("\\doublecup",Rn,Xn,Jn,"⋓",1),xn("\\amalg",Rn,Wn,Jn,"⨿",vn),xn("\\And",Rn,Wn,Jn,"&"),un="Accents",or(["\\acute","\\grave","\\dot","\\ddot","\\mathring","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec"],"{body:auto}",null,function(e,t){return{type:"accent",accent:{"\\acute":"ˊ","\\grave":"ˋ","\\dot":"˙","\\ddot":"¨","\\mathring":"˚","\\tilde":"~","\\bar":"ˉ","\\breve":"˘","\\check":"ˇ","\\hat":"^","\\vec":"⃗"}[e],limits:"accent",skipBoundary:!0,body:t[0]}}),Sn(bn,"\\bar","\\ddot","\\acute","\\tilde","\\check"),Sn(1548,"\\breve"),Sn(735,"\\grave"),Sn(wn,"\\vec"),un="Letters and Letter Like Forms",xn("\\imath",Rn,Wn,$n,"ı"),xn("\\jmath",Rn,Wn,$n,"ȷ"),un="Others",xn("`",Un,Wn,er,"‘"),xn("'",Un,Wn,er,"’"),xn("``",Un,Wn,er,"“"),xn("''",Un,Wn,er,"”"),xn("\\degree",Rn,Wn,er,"°",46),xn("\\degree",Un,Wn,er,"°",46),un="Others",xn("'",Rn,Wn,er,"′"),xn('"',Rn,Wn,er,"”"),un="",Tn("0123456789/@.",Rn,Wn,$n),Tn('0123456789!@*()-=+[]";:?/.,',Un,Wn,er),Tn("0123456789!@*()-=+{}[]\\';:?/.,~<>`|'$%#&^_\" ",zn,Wn,nr),Nn(65,90,Rn,Wn,$n),Nn(65,90,zn,Wn,nr),Nn(97,122,Rn,Wn,$n),Nn(97,122,zn,Wn,nr),xn("–",Un,Wn,er,"–"),xn("—",Un,Wn,er,"—"),xn("‘",Un,Wn,er,"‘"),xn("’",Un,Wn,er,"’"),xn("“",Un,Wn,er,"“"),xn("”",Un,Wn,er,"”"),xn('"',Un,Wn,er,"”"),un="Others",xn("\\%",Un+Rn,Wn,er,"%"),xn("\\&",Un+Rn,Wn,er,"&"),xn("\\$",Un+Rn,Wn,er,"$"),xn("\\ss",Un,Wn,er,"ß"),xn("\\ae",Un,Wn,er,"æ"),xn("\\oe",Un,Wn,er,"œ"),xn("\\AE",Un,Wn,er,"Æ"),xn("\\OE",Un,Wn,er,"Œ"),xn("\\O",Un,Wn,er,"Ø"),xn("\\i",Un+Rn,Wn,er,"ı"),xn("\\j",Un+Rn,Wn,er,"ȷ"),xn("\\aa",Un+Rn,Wn,er,"å"),xn("\\AA",Un+Rn,Wn,er,"Å");var lr={matchCodepoint:kn,matchSymbol:Hn,matchFunction:Pn,unicodeToMathVariant:On,mathVariantToUnicode:Mn,unicodeStringToLatex:Dn,getInfo:In,getValue:jn,getFontName:Bn,getEnvironmentInfo:Fn,suggest:qn,FREQUENCY_VALUE:En,TEXT_SYMBOLS:an,MATH_SYMBOLS:fn,COMMAND_SYMBOLS:ln,ENVIRONMENTS:hn,RIGHT_DELIM:dn,FUNCTIONS:cn,MACROS:pn},cr=sn.makeSymbol,hr=sn.makeStyleWrap,pr=sn.makeSpan,dr=sn.makeVlist,br=["(",")","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","\\surd"],wr=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\mvert","\\mid","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache"],Er=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Sr=[0,1.2,1.8,2.4,3],Tr=[{type:"small",mathstyle:Ct.SCRIPTSCRIPT},{type:"small",mathstyle:Ct.SCRIPT},{type:"small",mathstyle:Ct.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Nr=[{type:"small",mathstyle:Ct.SCRIPTSCRIPT},{type:"small",mathstyle:Ct.SCRIPT},{type:"small",mathstyle:Ct.TEXT},{type:"stack"}],Cr=[{type:"small",mathstyle:Ct.SCRIPTSCRIPT},{type:"small",mathstyle:Ct.SCRIPT},{type:"small",mathstyle:Ct.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],_r={makeSizedDelim:xr,makeCustomSizedDelim:Ar,makeLeftRightDelim:Or},jr=sn.makeSpan,Fr=sn.makeOrd,Ir=sn.makeInner,qr=sn.makeHlist,Rr=sn.makeVlist,Ur=et.metrics,zr=function(){function e(t,n,r,i,s){Pr(this,e),this.mode=t,this.type=n,this.body=r,this.fontFamily=i;if(s)for(var o in s)s.hasOwnProperty(o)&&(this[o]=s[o]);this.type!=="textord"&&this.fontFamily==="main"&&typeof this.body=="string"&&this.body.length===1&&Qr.test(this.body)&&(this.fontFamily="mathit"),this.type==="textord"&&this.fontFamily==="main"&&(this.fontFamily="mathrm"),this.fontFamily==="main"?this.fontFamily="mathrm":i==="ams"&&(this.fontFamily="amsrm")}return Br(e,[{key:"getInitialBaseElement",value:function(){var t=this;if(Array.isArray(this.body)&&this.body.length>0)for(var n=0;n<this.body.length;n++)if(this.body[n].type!=="first"){t=this.body[n].getInitialBaseElement();break}return t}},{key:"getFinalBaseElement",value:function(){return Array.isArray(this.body)&&this.body.length>0?this.body[this.body.length-1].getFinalBaseElement():this}},{key:"isCharacterBox",value:function(){var t=this.getInitialBaseElement();return/minner|mbin|mrel|mpunct|mopen|mclose|textord/.test(t.type)}},{key:"forEach",value:function(t){t(this);if(Array.isArray(this.body)){var n=!0,r=!1,i=undefined;try{for(var s=this.body[Symbol.iterator](),o;!(n=(o=s.next()).done);n=!0){var u=o.value;u&&u.forEach(t)}}catch(a){r=!0,i=a}finally{try{!n&&s["return"]!=null&&s["return"]()}finally{if(r)throw i}}}else this.body&&Dr(this.body)==="object"&&t(this.body);if(this.superscript){var f=!0,l=!1,c=undefined;try{for(var h=this.superscript[Symbol.iterator](),p;!(f=(p=h.next()).done);f=!0){var d=p.value;d&&d.forEach(t)}}catch(a){l=!0,c=a}finally{try{!f&&h["return"]!=null&&h["return"]()}finally{if(l)throw c}}}if(this.subscript){var v=!0,m=!1,g=undefined;try{for(var y=this.subscript[Symbol.iterator](),b;!(v=(b=y.next()).done);v=!0){var w=b.value;w&&w.forEach(t)}}catch(a){m=!0,g=a}finally{try{!v&&y["return"]!=null&&y["return"]()}finally{if(m)throw g}}}if(this.overscript){var E=!0,S=!1,x=undefined;try{for(var T=this.overscript[Symbol.iterator](),N;!(E=(N=T.next()).done);E=!0){var C=N.value;C&&C.forEach(t)}}catch(a){S=!0,x=a}finally{try{!E&&T["return"]!=null&&T["return"]()}finally{if(S)throw x}}}if(this.underscript){var k=!0,L=!1,A=undefined;try{for(var O=this.underscript[Symbol.iterator](),M;!(k=(M=O.next()).done);k=!0){var _=M.value;_&&_.forEach(t)}}catch(a){L=!0,A=a}finally{try{!k&&O["return"]!=null&&O["return"]()}finally{if(L)throw A}}}if(this.numer){var D=!0,P=!1,H=undefined;try{for(var B=this.numer[Symbol.iterator](),j;!(D=(j=B.next()).done);D=!0){var F=j.value;F&&F.forEach(t)}}catch(a){P=!0,H=a}finally{try{!D&&B["return"]!=null&&B["return"]()}finally{if(P)throw H}}}if(this.denom){var I=!0,q=!1,R=undefined;try{for(var U=this.denom[Symbol.iterator](),z;!(I=(z=U.next()).done);I=!0){var W=z.value;W&&W.forEach(t)}}catch(a){q=!0,R=a}finally{try{!I&&U["return"]!=null&&U["return"]()}finally{if(q)throw R}}}if(this.index){var X=!0,V=!1,$=undefined;try{for(var J=this.index[Symbol.iterator](),K;!(X=(K=J.next()).done);X=!0){var Q=K.value;Q&&Q.forEach(t)}}catch(a){V=!0,$=a}finally{try{!X&&J["return"]!=null&&J["return"]()}finally{if(V)throw $}}}if(this.array){var G=!0,Y=!1,Z=undefined;try{for(var et=this.array[Symbol.iterator](),tt;!(G=(tt=et.next()).done);G=!0){var nt=tt.value,rt=!0,it=!1,st=undefined;try{for(var ot=nt[Symbol.iterator](),ut;!(rt=(ut=ot.next()).done);rt=!0){var at=ut.value,ft=!0,lt=!1,ct=undefined;try{for(var ht=at[Symbol.iterator](),pt;!(ft=(pt=ht.next()).done);ft=!0){var dt=pt.value;dt.forEach(t)}}catch(a){lt=!0,ct=a}finally{try{!ft&&ht["return"]!=null&&ht["return"]()}finally{if(lt)throw ct}}}}catch(a){it=!0,st=a}finally{try{!rt&&ot["return"]!=null&&ot["return"]()}finally{if(it)throw st}}}}catch(a){Y=!0,Z=a}finally{try{!G&&et["return"]!=null&&et["return"]()}finally{if(Y)throw Z}}}}},{key:"filter",value:function(t){var n=[];t(this)&&n.push(this);for(var r=0,i=["body","superscript","subscript","overscript","underscript","numer","denom","index"];r<i.length;r++){var s=i[r];if(Array.isArray(this[s])){var o=!0,u=!1,a=undefined;try{for(var f=this[s][Symbol.iterator](),l;!(o=(l=f.next()).done);o=!0){var c=l.value;c&&(n=n.concat(c.filter(t)))}}catch(h){u=!0,a=h}finally{try{!o&&f["return"]!=null&&f["return"]()}finally{if(u)throw a}}}}if(Array.isArray(this.array)){var p=!0,d=!1,v=undefined;try{for(var m=this.array[Symbol.iterator](),g;!(p=(g=m.next()).done);p=!0){var y=g.value,b=!0,w=!1,E=undefined;try{for(var S=y[Symbol.iterator](),x;!(b=(x=S.next()).done);b=!0){var T=x.value;T&&(n=n.concat(T.filter(t)))}}catch(h){w=!0,E=h}finally{try{!b&&S["return"]!=null&&S["return"]()}finally{if(w)throw E}}}}catch(h){d=!0,v=h}finally{try{!p&&m["return"]!=null&&m["return"]()}finally{if(d)throw v}}}return n}},{key:"decomposeGroup",value:function(t){var n=t.withMathstyle(this.mathstyle);return Fr(Yr(n,this.body))}},{key:"decomposeArray",value:function(t){var n=this.colFormat;n&&n.length===0&&(n=[{align:"l"}]),n||(n=[{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"}]);var r=[],i=0,s=!0,o=!1,u=undefined;try{for(var a=n[Symbol.iterator](),f;!(s=(f=a.next()).done);s=!0){var l=f.value;l.align&&i++}}catch(c){o=!0,u=c}finally{try{!s&&a["return"]!=null&&a["return"]()}finally{if(o)throw u}}var h=!0,p=!1,d=undefined;try{for(var v=this.array[Symbol.iterator](),m;!(h=(m=v.next()).done);h=!0){var g=m.value,y=0;while(y<g.length){var b=[],w=Math.min(g.length,y+i);while(y<w)b.push(g[y++]);r.push(b)}}}catch(c){p=!0,d=c}finally{try{!h&&v["return"]!=null&&v["return"]()}finally{if(p)throw d}}r[r.length-1].length===1&&r[r.length-1][0].length===0&&r.pop();var E=Ct.toMathstyle(this.mathstyle)||t.mathstyle,S=this.arraystretch||1,x=S*Ur.baselineskip,T=.7*x,N=.3*x,C=0,k=0,L=[],A=r.length;for(var O=0;O<A;++O){var M=r[O];k=Math.max(k,M.length);var _=T,D=N,P=[];for(var H=0;H<M.length;++H){var B=t.withMathstyle(this.mathstyle||"auto"),j=Yr(B,M[H])||[],F=[Fr(null)].concat(j);D=Math.max(D,sn.depth(F)),_=Math.max(_,sn.height(F)),P.push(F)}var I=O===A-1?0:this.jot||0;this.rowGaps&&this.rowGaps[O]&&(I=this.rowGaps[O],I>0&&(I+=N,D<I&&(D=I),I=0)),P.height=_,P.depth=D,C+=_,P.pos=C,C+=D+I,L.push(P)}var q=C/2+E.metrics.axisHeight,R=[];for(var U=0;U<k;U++){var z=[];for(var W=0,X=L;W<X.length;W++){var V=X[W],$=V[U];if(!$)continue;$.depth=V.depth,$.height=V.height,z.push($),z.push(V.pos-q)}z.length>0&&R.push(Rr(t,z,"individualShift"))}var J=[],K=!1,Q=!1,G=0,Y=!this.lFence,Z=!0,et=!1,tt=undefined;try{for(var nt=n[Symbol.iterator](),rt;!(Z=(rt=nt.next()).done);Z=!0){var it=rt.value;if(it.align&&G>=R.length)break;if(it.align&&G<R.length)K?J.push(Wr(2*Ur.arraycolsep)):(Q||Y)&&J.push(Wr(Ur.arraycolsep)),J.push(jr(R[G],"col-align-"+it.align)),G++,K=!0,Q=!1,Y=!1;else if(typeof it.gap!="undefined")typeof it.gap=="number"?J.push(Wr(it.gap)):J.push(Xr(t,L,q,it.gap)),K=!1,Q=!1,Y=!1;else if(it.rule){var st=jr(null,"vertical-separator");st.setStyle("height",C,"em"),st.setStyle("margin-top",3*t.mathstyle.metrics.axisHeight-q,"em"),st.setStyle("vertical-align","top");var ot=0;Q?ot=Ur.doubleRuleSep-Ur.arrayrulewidth:K&&(ot=Ur.arraycolsep-Ur.arrayrulewidth),st.setLeft(ot,"em"),J.push(st),K=!1,Q=!0,Y=!1}}}catch(c){et=!0,tt=c}finally{try{!Z&&nt["return"]!=null&&nt["return"]()}finally{if(et)throw tt}}K&&!this.rFence&&J.push(Wr(Ur.arraycolsep));if(!!this.lFence&&this.lFence!=="."||!!this.rFence&&this.rFence!=="."){var ut=jr(J,"mtable"),at=sn.height(ut),ft=sn.depth(ut);return Fr([this.bind(t,_r.makeLeftRightDelim("mopen",this.lFence,at,ft,t)),ut,this.bind(t,_r.makeLeftRightDelim("mclose",this.rFence,at,ft,t))])}return Fr(J,"mtable")}},{key:"decomposeGenfrac",value:function(t){var n=this.mathstyle==="auto"?t.mathstyle:Ct.toMathstyle(this.mathstyle),r=t.withMathstyle(n),i=[];this.numerPrefix&&i.push(Fr(this.numerPrefix,"mathrm"));var s=this.continuousFraction?n:n.fracNum();i=i.concat(Yr(r.withMathstyle(s),this.numer));var o=qr(i,t.mathstyle.adjustTo(s)),u=[];this.denomPrefix&&u.push(Fr(this.denomPrefix,"mathrm"));var a=this.continuousFraction?n:n.fracDen();u=u.concat(Yr(r.withMathstyle(a),this.denom));var f=qr(u,t.mathstyle.adjustTo(a)),l=this.hasBarLine?Ur.defaultRuleThickness/n.sizeMultiplier:0,c,h,p;n.size===Ct.DISPLAY.size?(c=n.metrics.num1,l>0?h=3*l:h=7*Ur.defaultRuleThickness,p=n.metrics.denom1):(l>0?(c=n.metrics.num2,h=l):(c=n.metrics.num3,h=3*Ur.defaultRuleThickness),p=n.metrics.denom2);var d=o?o.depth:0,v=f?f.height:0,m;if(l===0){var g=c-d-(v-p);g<h&&(c+=.5*(h-g),p+=.5*(h-g)),m=Rr(r,[o,-c,f,p],"individualShift")}else{var y=n.metrics.axisHeight;c-d-(y+.5*l)<h&&(c+=h-(c-d-(y+.5*l))),y-.5*l-(v-p)<h&&(p+=h-(y-.5*l-(v-p)));var b=jr(""," frac-line");b.height=l;var w=[];o&&(w.push(o),w.push(-c)),w.push(b),w.push(l/2-y),f&&(w.push(f),w.push(p)),m=Rr(r,w,"individualShift")}m.classes+=" mfrac",m.height*=n.sizeMultiplier/t.mathstyle.sizeMultiplier,m.depth*=n.sizeMultiplier/t.mathstyle.sizeMultiplier;var E=n.size===Ct.DISPLAY.size?n.metrics.delim1:n.metrics.delim2,S=_r.makeCustomSizedDelim("mopen",this.leftDelim,E,!0,t.withMathstyle(n)),x=_r.makeCustomSizedDelim("mclose",this.rightDelim,E,!0,t.withMathstyle(n)),T=Fr([S,m,x],t.parentSize!==t.size?"sizing reset-"+t.parentSize+" "+t.size:"genfrac");return this.bind(t,T)}},{key:"decomposeLeftright",value:function(n){var r=n.clone();if(!this.body)return this.leftDelim?this.bind(r,(new e("math","mopen",this.leftDelim)).decompose(n)):this.rightDelim?this.bind(r,(new e("math","mclose",this.rightDelim)).decompose(n)):null;var i=Yr(r,this.body),s=r.mathstyle,o=0,u=0,a=[];o=sn.height(i)*s.sizeMultiplier,u=sn.depth(i)*s.sizeMultiplier,this.leftDelim&&a.push(this.bind(r,_r.makeLeftRightDelim("mopen",this.leftDelim,o,u,r)));if(i){for(var f=0;f<i.length;f++){if(i[f].delim){var l=i[f].hasCaret;i[f]=this.bind(r,_r.makeLeftRightDelim("minner",i[f].delim,o,u,r)),l&&(i[f].hasCaret=!0)}if(i[f].classes&&i[f].classes.indexOf("ML__selected")>=0)for(var c=0;c<i[f].children.length;c++)if(i[f].children[c].delim){var h=i[f].hasCaret;i[f].children[c]=this.bind(r,_r.makeLeftRightDelim("minner",i[f].children[c].delim,o,u,r)),h&&(i[f].hasCaret=!0)}}a=a.concat(i)}if(this.rightDelim){var p=this.rightDelim;p==="?"&&(p={"(":")","\\{":"\\}","\\[":"\\]","\\lbrace":"\\rbrace","\\langle":"\\rangle","\\lfloor":"\\rfloor","\\lceil":"\\rceil","\\vert":"\\vert","\\lvert":"\\rvert","\\Vert":"\\Vert","\\lVert":"\\rVert","\\lbrack":"\\rbrack","\\ulcorner":"\\urcorner","\\llcorner":"\\lrcorner","\\lgroup":"\\rgroup","\\lmoustache":"\\rmoustache"}[this.leftDelim],p=p||this.leftDelim,r.opacity=.5),a.push(this.bind(r,_r.makeLeftRightDelim("mclose",p,o,u,r)))}return this.inner?Ir(a,s.cls()):a}},{key:"decomposeSurd",value:function(t){var n=t.mathstyle,r=Yr(t.cramp(),this.body),i=Ur.defaultRuleThickness/n.sizeMultiplier,s=i;n.id<Ct.TEXT.id&&(s=n.metrics.xHeight);var o=i+s/4,u=(sn.height(r)+sn.depth(r))*n.sizeMultiplier,a=u+(o+i),f=jr(_r.makeCustomSizedDelim("","\\surd",a,!1,t),"sqrt-sign"),l=f.height+f.depth-i;l>sn.height(r)+sn.depth(r)+o&&(o=(o+l-sn.height(r)-sn.depth(r))/2),f.setTop(f.height-sn.height(r)-(o+i));var c=jr("",t.mathstyle.adjustTo(Ct.TEXT)+" sqrt-line");c.height=i;var h;sn.height(r)===0&&sn.depth(r)===0?h=jr():h=Rr(t,[r,o,c,i]);if(!this.index)return this.bind(t,Fr([f,h],"sqrt"));var p=t.withMathstyle(Ct.SCRIPTSCRIPT),d=jr(Yr(p,this.index),n.adjustTo(Ct.SCRIPTSCRIPT)),v=Math.max(f.height,h.height),m=Math.max(f.depth,h.depth),g=.6*(v-m),y=Rr(t,[d],"shift",-g);return this.bind(t,Fr([jr(y,"root"),f,h],"sqrt"))}},{key:"decomposeAccent",value:function(t){var n=t.mathstyle,r=Yr(t.cramp(),this.body);if(this.superscript||this.subscript)r=this.attachSupsub(t,Fr(r),"mord");var i=0;Array.isArray(this.body)&&this.body.length===1&&this.body[0].isCharacterBox()&&(i=sn.skew(r));var s=Math.min(sn.height(r),n.metrics.xHeight),o=sn.makeSymbol("Main-Regular",this.accent,"math");o.italic=0;var u=this.accent==="⃗"?" accent-vec":"",a=jr(jr(o),"accent-body"+u);return a=Rr(t,[r,-s,a]),a.children[1].setLeft(2*i),Fr(a,"accent")}},{key:"decomposeLine",value:function(t){var n=t.mathstyle,r=Yr(t.cramp(),this.body),i=Ur.defaultRuleThickness/n.sizeMultiplier,s=jr("",t.mathstyle.adjustTo(Ct.TEXT)+" "+this.position+"-line");s.height=i,s.maxFontSize=1;var o;if(this.position==="overline")o=Rr(t,[r,3*i,s,i]);else{var u=jr(r);o=Rr(t,[i,s,3*i,u],"top",sn.height(u))}return Fr(o,this.position)}},{key:"decomposeOverunder",value:function(t){var n=Yr(t,this.body),r=t.withMathstyle("scriptstyle"),i=this.overscript?jr(Yr(r,this.overscript),t.mathstyle.adjustTo(r.mathstyle)):null,s=this.underscript?jr(Yr(r,this.underscript),t.mathstyle.adjustTo(r.mathstyle)):null;return $r(t,n,0,0,i,s,this.mathtype||"mrel")}},{key:"decomposeOverlap",value:function(t){var n=jr(Yr(t,this.body),"inner");return Fr([n,jr("","fix")],this.align==="left"?"llap":"rlap")}},{key:"decomposeRule",value:function(t){var n=t.mathstyle,r=Fr("","rule"),i=this.shift&&!isNaN(this.shift)?this.shift:0;i/=n.sizeMultiplier;var s=this.width/n.sizeMultiplier,o=this.height/n.sizeMultiplier;return r.setStyle("border-right-width",s,"em"),r.setStyle("border-top-width",o,"em"),r.setStyle("margin-top",-(o-i),"em"),r.setStyle("border-color",t.color),r.width=s,r.height=o+i,r.depth=-i,r}},{key:"decomposeFont",value:function(t){var n=[];return this.font==="emph"?t.font==="mathit"?n=Yr(t.fontFamily("mathrm"),this.body):n=Yr(t.fontFamily("textit"),this.body):this.font==="textit"||this.font==="textbf"?(n=Yr(t,this.body),this.font==="textit"?n.forEach(function(e){e.classes+=" mathit"}):this.font==="textbf"&&n.forEach(function(e){e.classes+=" mathbf"})):n=Yr(t.fontFamily(this.font),this.body),Fr(n)}},{key:"decomposeOp",value:function(t){var n=t.mathstyle,r=!1;n.size===Ct.DISPLAY.size&&typeof this.body=="string"&&this.body!=="\\smallint"&&(r=!0);var i,s=0,o=0;if(this.symbol){var u=r?"Size2-Regular":"Size1-Regular";i=sn.makeSymbol(u,this.body,"op-symbol "+(r?"large-op":"small-op")),i.type="mop",s=(i.height-i.depth)/2-n.metrics.axisHeight*n.sizeMultiplier,o=i.italic,this.bind(t,i)}else Array.isArray(this.body)?(i=sn.makeOp(Yr(t,this.body)),this.bind(t,i)):(console.assert(this.type==="mop"),i=this.makeSpan(t.fontFamily("mainrm"),this.body));if(this.superscript||this.subscript){var a=this.limits||"auto";return this.alwaysHandleSupSub||a==="limits"||a==="auto"&&n.size===Ct.DISPLAY.size?this.attachLimits(t,i,s,o):this.attachSupsub(t,i,"mop")}return this.symbol&&i.setTop(s),i}},{key:"applySizing",value:function(t){var n={size1:.5,size2:.7,size3:.8,size4:.9,size5:1,size6:1.2,size7:1.44,size8:1.73,size9:2.07,size10:2.49}[this.size]*t.mathstyle.sizeMultiplier;t.size=this.size,t.sizeMultiplier=n}},{key:"decomposeColor",value:function(t){var n=null;return this.color?t.color=this.color:this.body&&(n=Fr(Yr(t,this.body)),this.textcolor&&n.setStyle("color",this.textcolor),this.backgroundcolor&&n.setStyle("background-color",this.backgroundcolor),n=this.bind(t,n)),n}},{key:"decomposeBox",value:function(t){var n=Fr(Yr(t,this.body));n.setStyle("position","relative");var r=Fr(n),i=this.padding?this.padding:Ur.fboxsep;return r.setStyle("padding",i,"em"),this.backgroundcolor&&r.setStyle("background-color",this.backgroundcolor),this.framecolor&&r.setStyle("border",Ur.fboxrule+"em solid "+this.framecolor),this.border&&r.setStyle("border",this.border),r.height=n.height,r.depth=n.depth,r.setStyle("position","relative"),r.setStyle("height",r.height+r.depth,"em"),this.bind(t,r)}},{key:"decomposeEnclose",value:function(t){var n=Fr(Yr(t,this.body)),r=n,i=this.padding==="auto"?.2:this.padding;r.setStyle("padding",i,"em"),r.setStyle("display","inline-block"),r.setStyle("height",r.height+r.depth,"em"),r.setStyle("left",-i,"em"),this.backgroundcolor&&this.backgroundcolor!=="transparent"&&r.setStyle("background-color",this.backgroundcolor);var s="";this.notation.box&&r.setStyle("border",this.borderStyle),this.notation.actuarial&&(r.setStyle("border-top",this.borderStyle),r.setStyle("border-right",this.borderStyle)),this.notation.madruwb&&(r.setStyle("border-bottom",this.borderStyle),r.setStyle("border-right",this.borderStyle)),this.notation.roundedbox&&(r.setStyle("border-radius",(sn.height(r)+sn.depth(r))/2,"em"),r.setStyle("border",this.borderStyle)),this.notation.circle&&(r.setStyle("border-radius","50%"),r.setStyle("border",this.borderStyle)),this.notation.top&&r.setStyle("border-top",this.borderStyle),this.notation.left&&r.setStyle("border-left",this.borderStyle),this.notation.right&&r.setStyle("border-right",this.borderStyle),this.notation.bottom&&r.setStyle("border-bottom",this.borderStyle),this.notation.horizontalstrike&&(s+='<line x1="3%"  y1="50%" x2="97%" y2="50%"',s+=' stroke-width="'.concat(this.strokeWidth,'" stroke="').concat(this.strokeColor,'"'),s+=' stroke-linecap="round"',this.svgStrokeStyle&&(s+=' stroke-dasharray="'.concat(this.svgStrokeStyle,'"')),s+="/>"),this.notation.verticalstrike&&(s+='<line x1="50%"  y1="3%" x2="50%" y2="97%"',s+=' stroke-width="'.concat(this.strokeWidth,'" stroke="').concat(this.strokeColor,'"'),s+=' stroke-linecap="round"',this.svgStrokeStyle&&(s+=' stroke-dasharray="'.concat(this.svgStrokeStyle,'"')),s+="/>"),this.notation.updiagonalstrike&&(s+='<line x1="3%"  y1="97%" x2="97%" y2="3%"',s+=' stroke-width="'.concat(this.strokeWidth,'" stroke="').concat(this.strokeColor,'"'),s+=' stroke-linecap="round"',this.svgStrokeStyle&&(s+=' stroke-dasharray="'.concat(this.svgStrokeStyle,'"')),s+="/>"),this.notation.downdiagonalstrike&&(s+='<line x1="3%"  y1="3%" x2="97%" y2="97%"',s+=' stroke-width="'.concat(this.strokeWidth,'" stroke="').concat(this.strokeColor,'"'),s+=' stroke-linecap="round"',this.svgStrokeStyle&&(s+=' stroke-dasharray="'.concat(this.svgStrokeStyle,'"')),s+="/>");if(s){var o;return this.shadow!=="none"&&(this.shadow==="auto"?o="filter: drop-shadow(0 0 .5px rgba(255, 255, 255, .7)) drop-shadow(1px 1px 2px #333)":o="filter: drop-shadow("+this.shadow+")"),sn.makeSVG(r,s,o)}return r}},{key:"decompose",value:function(t,n){console.assert(t instanceof Mt.Context);var r=null;if(this.type==="group"||this.type==="root")r=this.decomposeGroup(t);else if(this.type==="array")r=this.decomposeArray(t);else if(this.type==="genfrac")r=this.decomposeGenfrac(t);else if(this.type==="surd")r=this.decomposeSurd(t);else if(this.type==="accent")r=this.decomposeAccent(t);else if(this.type==="leftright")r=this.decomposeLeftright(t);else if(this.type==="delim")r=jr("",""),r.delim=this.delim;else if(this.type==="sizeddelim")r=this.bind(t,_r.makeSizedDelim(this.cls,this.delim,this.size,t));else if(this.type==="line")r=this.decomposeLine(t);else if(this.type==="overunder")r=this.decomposeOverunder(t);else if(this.type==="overlap")r=this.decomposeOverlap(t);else if(this.type==="rule")r=this.decomposeRule(t);else if(this.type!=="styling")if(this.type==="msubsup")r=Fr("​"),n&&(r.height=n[0].height,r.depth=n[0].depth);else if(this.type==="mord"||this.type==="minner"||this.type==="mbin"||this.type==="mrel"||this.type==="mpunct"||this.type==="mopen"||this.type==="mclose"||this.type==="textord")typeof this.body=="string"?r=this.makeSpan(t,this.body):r=this.makeSpan(t,Yr(t,this.body)),r.type=this.type;else if(this.type==="mop")r=this.decomposeOp(t);else if(this.type==="font")r=this.decomposeFont(t);else if(this.type==="space")r=this.makeSpan(t," ");else if(this.type==="spacing")if(this.body==="​")r=this.makeSpan(t,"​");else if(this.body===" ")this.mode==="math"?r=this.makeSpan(t," "):r=this.makeSpan(t," ");else if(this.width)r=jr("​","mspace "),this.width>0?r.setWidth(this.width):r.setStyle("margin-left",this.width,"em");else{var i={qquad:"qquad",quad:"quad",enspace:"enspace",";":"thickspace",":":"mediumspace",",":"thinspace","!":"negativethinspace"}[this.body]||"quad";r=jr("​","mspace "+i)}else this.type==="color"?r=this.decomposeColor(t):this.type==="sizing"?this.applySizing(t):this.type==="mathstyle"?t.setMathstyle(this.mathstyle):this.type==="box"?r=this.decomposeBox(t):this.type==="enclose"?r=this.decomposeEnclose(t):this.type==="esc"||this.type==="command"||this.type==="error"?(r=this.makeSpan(t,this.body),r.classes="",this.error&&(r.classes+=" ML__error"),this.suggestion&&(r.classes+=" ML__suggestion")):this.type==="placeholder"?r=this.makeSpan(t,"⬚"):this.type==="first"?this.hasCaret&&(r=this.makeSpan(t,"​"),r.hasCaret=!0):console.assert(!1,'Unknown MathAtom type: "'+this.type+'"');if(!r)return r;this.hasCaret&&this.type!=="styling"&&this.type!=="msubsup"&&this.type!=="command"&&this.type!=="placeholder"&&this.type!=="first"&&(Array.isArray(r)?r[r.length-1].hasCaret=!0:r.hasCaret=!0);if(!this.limits&&(this.superscript||this.subscript))if(Array.isArray(r)){var s=r[r.length-1];r[r.length-1]=this.attachSupsub(t,s,s.type)}else r=[this.attachSupsub(t,r,r.type)];return Array.isArray(r)?r:[r]}},{key:"attachSupsub",value:function(t,n,r){if(!this.superscript&&!this.subscript)return n;var i=t.mathstyle,s=null,o=null;if(this.superscript){var u=Yr(t.sup(),this.superscript);s=jr(u,i.adjustTo(i.sup()))}if(this.subscript){var a=Yr(t.sub(),this.subscript);o=jr(a,i.adjustTo(i.sub()))}var f=0,l=0;this.isCharacterBox()||(f=sn.height(n)-i.metrics.supDrop,l=sn.depth(n)+i.metrics.subDrop);var c;i===Ct.DISPLAY?c=i.metrics.sup1:i.cramped?c=i.metrics.sup3:c=i.metrics.sup2;var h=Ct.TEXT.sizeMultiplier*i.sizeMultiplier,p=.5/Ur.ptPerEm/h,d=null;if(o&&s){f=Math.max(f,c,s.depth+.25*i.metrics.xHeight),l=Math.max(l,i.metrics.sub2);var v=Ur.defaultRuleThickness;if(f-sn.depth(s)-(sn.height(o)-l)<4*v){l=4*v-(f-s.depth)+sn.height(o);var m=.8*i.metrics.xHeight-(f-sn.depth(s));m>0&&(f+=m,l-=m)}d=Rr(t,[o,l,s,-f],"individualShift"),this.symbol&&d.children[0].setLeft(-sn.italic(n))}else o&&!s?(l=Math.max(l,i.metrics.sub1,sn.height(o)-.8*i.metrics.xHeight),d=Rr(t,[o],"shift",l),d.children[0].setRight(p),this.isCharacterBox()&&d.children[0].setLeft(-sn.italic(n))):!o&&s&&(f=Math.max(f,c,s.depth+.25*i.metrics.xHeight),d=Rr(t,[s],"shift",-f),d.children[0].setRight(p));var g=jr(d,"msubsup");return this.hasCaret&&(g.hasCaret=!0),sn.makeSpanOfType(r,[n,g])}},{key:"bind",value:function(t,n){return t.generateID&&this.type!=="first"&&this.body!=="​"&&(this.id=Vr(t),this.id&&(n.attributes||(n.attributes={}),n.attributes["data-atom-id"]=this.id)),n}},{key:"makeSpan",value:function(t,n){var r=this.type==="textord"?"mord":this.type,i=sn.makeSpanOfType(r,n),s=t.font||this.fontFamily;this.fontFamily==="amsrm"?(s="amsrm",t.font==="mathbf"?i.setStyle("font-weight","bold"):t.font==="mathit"&&i.setStyle("font-variant","italic")):r==="mop"&&(s=this.fontFamily||t.font);var o="Main-Regular";s&&(o=Gr(n,s),!o&&this.fontFamily&&(s=this.fontFamily,o=Gr(n,s)||s),!o&&t.font&&(s=t.font,o=Gr(n,s)||s),o==="AMS-Regular"?i.classes+=" amsrm":o==="Main-Italic"?i.classes+=" mainit":o==="Math-Italic"?i.classes+=" mathit":o!=="Main-Regular"&&s&&(i.classes+=" "+s)),o||console.error("no fontname");if(n&&typeof n=="string"&&n.length>0){i.height=0,i.depth=0,i.skew=0,i.italic=0;for(var u=0;u<n.length;u++){var a=et.getCharacterMetrics(n.charAt(u),o);a&&(i.height=Math.max(i.height,a.height),i.depth=Math.max(i.depth,a.depth),i.skew=a.skew,i.italic=a.italic)}this.mode!=="math"&&(i.italic=0)}return t.parentSize!==t.size&&(i.classes+=" sizing reset-"+t.parentSize,i.classes+=" "+t.size),t.mathstyle.isTight()&&(i.isTight=!0),i.setRight(i.italic),t.color&&i.setStyle("color",t.getColor()),t.backgroundcolor&&i.setStyle("background-color",t.getBackgroundColor()),typeof t.opacity=="number"&&i.setStyle("opacity",t.opacity),this.bind(t,i),this.hasCaret&&!this.superscript&&!this.subscript&&(i.hasCaret=!0,t.mathstyle.isTight()&&(i.isTight=!0)),i}},{key:"attachLimits",value:function(t,n,r,i){var s=this.superscript?jr(Yr(t.sup(),this.superscript),t.mathstyle.adjustTo(t.mathstyle.sup())):null,o=this.subscript?jr(Yr(t.sub(),this.subscript),t.mathstyle.adjustTo(t.mathstyle.sub())):null;return $r(t,n,r,i,s,o,"mop")}}]),e}(),Jr={main:"Main-Regular",mainrm:"Main-Regular",mathrm:"Main-Regular",mathbf:"Main-Bold",amsrm:"AMS-Regular",mathbb:"AMS-Regular",mathcal:"Caligraphic-Regular",mathfrak:"Fraktur-Regular",mathscr:"Script-Regular",mathsf:"SansSerif-Regular",mathtt:"Typewriter-Regular",textrm:"Main-Regular",textit:"Main-Italic",textbf:"Main-Bold"},Kr=/\u0393|\u0394|\u0398|\u039b|\u039E|\u03A0|\u03A3|\u03a5|\u03a6|\u03a8|\u03a9|[\u03b1-\u03c9]|\u03d1|\u03d5|\u03d6|\u03f1|\u03f5/,Qr=/[A-Za-z]|[\u03b1-\u03c9]|\u03d1|\u03d5|\u03d6|\u03f1|\u03f5/,ei={MathAtom:zr,decompose:Yr,makeRoot:Zr},ti={m0:"#3f3d99",m1:"#993d71",m2:"#998b3d",m3:"#3d9956",m4:"#3d5a99",m5:"#993d90",m6:"#996d3d",m7:"#43993d",m8:"#3d7999",m9:"#843d99"},ni=["#d35d60","#7293cb","#e1974d","#84bb5d","#9066a7","#aD6a58","#f5a4ce","#fff590","#212121","#818787","#d4d5d2","#ffffff"],ri=["#cc2428","#3769b1","#da7e30","#409852","#6b4c9a","#922426","#e7298a","#ffe907","#000000","#525055","#adafaa","#ffffff"],ii={apricot:"#FBB982",aquamarine:"#00B5BE",bittersweet:"#C04F17",black:"#221E1F",blue:"#2D2F92",bluegreen:"#00B3B8",blueviolet:"#473992",brickred:"#B6321C",brown:"#792500",burntorange:"#F7921D",cadetblue:"#74729A",carnationpink:"#F282B4",cerulean:"#00A2E3",cornflowerblue:"#41B0E4",cyan:"#00AEEF",dandelion:"#FDBC42",darkorchid:"#A4538A",emerald:"#00A99D",forestgreen:"#009B55",fuchsia:"#8C368C",goldenrod:"#FFDF42",gray:"#949698",green:"#00A64F",greenyellow:"#DFE674",junglegreen:"#00A99A",lavender:"#F49EC4",limegreen:"#8DC73E",magenta:"#EC008C",mahogany:"#A9341F",maroon:"#AF3235",melon:"#F89E7B",midnightblue:"#006795",mulberry:"#A93C93",navyblue:"#006EB8",olivegreen:"#3C8031",orange:"#F58137",orangered:"#ED135A",orchid:"#AF72B0",peach:"#F7965A",periwinkle:"#7977B8",pinegreen:"#008B72",plum:"#92268F",processblue:"#00B0F0",purple:"#99479B",rawsienna:"#974006",red:"#ED1B23",redorange:"#F26035",redviolet:"#A1246B",rhodamine:"#EF559F",royalblue:"#0071BC",royalpurple:"#613F99",rubinered:"#ED017D",salmon:"#F69289",seagreen:"#3FBC9D",sepia:"#671800",skyblue:"#46C5DD",springgreen:"#C6DC67",tan:"#DA9D76",tealblue:"#00AEB3",thistle:"#D883B7",turquoise:"#00B4CE",violet:"#58429B",violetred:"#EF58A0",white:"#FFFFFF",wildstrawberry:"#EE2967",yellow:"#FFF200",yellowgreen:"#98CC70",yelloworange:"#FAA21A"},oi={stringToColor:si,AREA_COLORS:ni,LINE_COLORS:ri},li=ei.MathAtom,ci=function(){function e(t,n,r){ui(this,e),this.tokens=t,this.index=0,this.args=n,this.macros=r,this.mathList=[],this.parseMode="math",this.tabularMode=!1,this.endCount=0}return fi(e,[{key:"swapMathList",value:function(t){var n=this.mathList;return this.mathList=t||[],n}},{key:"swapParseMode",value:function(t){var n=this.parseMode;return this.parseMode=t,n}},{key:"end",value:function(){return this.endCount++,this.index>=this.tokens.length||this.endCount>1e3}},{key:"get",value:function(){return this.endCount=0,this.index<this.tokens.length?this.tokens[this.index++]:null}},{key:"peek",value:function(t){var n=this.index+(t?t:0);return n<this.tokens.length?this.tokens[n]:null}},{key:"lastMathAtom",value:function(){if(this.mathList.length===0||this.mathList[this.mathList.length-1].type!=="mop"){var t=new li(this.parseMode,"msubsup","​","main");t.attributes={"aria-hidden":!0},this.mathList.push(t)}return this.mathList[this.mathList.length-1]}},{key:"hasToken",value:function(t){var n=this.index;return n<this.tokens.length?this.tokens[n].type===t:!1}},{key:"hasLiteral",value:function(t){var n=this.index;return n<this.tokens.length?this.tokens[n].type==="literal"&&(!t||this.tokens[n].value===t):!1}},{key:"hasLiteralPattern",value:function(t){return this.hasToken("literal")&&t.test(this.tokens[this.index].value)}},{key:"hasCommand",value:function(t){console.assert(t==="\\"||t.charAt(0)!=="\\","hasCommand() does not require a \\");var n=this.index;return n<this.tokens.length?this.tokens[n].type==="command"&&this.tokens[n].value===t:!1}},{key:"hasInfixCommand",value:function(){var t=this.index;if(t<this.tokens.length&&this.tokens[t].type==="command"){var n=lr.getInfo("\\"+this.tokens[t].value,this.parseMode,this.macros);return n&&n.infix}return!1}},{key:"hasColumnSeparator",value:function(){var t=this.index;return this.tabularMode&&t<this.tokens.length?this.tokens[t].type==="literal"&&this.tokens[t].value==="&":!1}},{key:"hasRowSeparator",value:function(){var t=this.index;return this.tabularMode&&t<this.tokens.length?this.tokens[t].type==="command"&&(this.tokens[t].value==="\\"||this.tokens[t].value==="cr"):!1}},{key:"parseColumnSeparator",value:function(){return this.hasColumnSeparator()?(this.index++,!0):!1}},{key:"placeholder",value:function(){return this.args&&typeof this.args["?"]=="string"?di(A.tokenize(this.args["?"]),this.parseMode,null,this.macros):[new li(this.parseMode,"placeholder","?")]}},{key:"hasImplicitCommand",value:function(t){if(this.index<this.tokens.length){var n=this.tokens[this.index];if(n.type==="command")return t.includes(n.value)}return!1}},{key:"parseRowSeparator",value:function(){return this.hasRowSeparator()?(this.index++,!0):!1}},{key:"parseToken",value:function(t){return this.hasToken(t)?(this.index++,!0):!1}},{key:"skipUntilToken",value:function(t){while(!this.end()&&!this.parseToken(t))this.get()}},{key:"parseCommand",value:function(t){return this.hasCommand(t)?(this.index++,!0):!1}},{key:"parseLiteral",value:function(t){return this.hasLiteral(t)?(this.index++,!0):!1}},{key:"parseFiller",value:function(){var t=!1,n=!1;do{var r=this.parseToken("space"),i=this.parseCommand("relax");t=t||r||i,n=!r&&!i}while(!n);return t}},{key:"parseKeyword",value:function(t){var n=this.index,r=this.end(),i="";while(!r){var s=this.get();s.type==="literal"&&(i+=s.value),r=this.end()||s.type!=="literal"||i.length>=t.length}var o=t.toUpperCase()===i.toUpperCase();return o||(this.index=n),o}},{key:"scanString",value:function(){var t="",n=this.end();while(!n)if(this.hasLiteral("]"))n=!0;else if(this.hasToken("literal"))t+=this.get().value,n=this.end();else if(this.parseToken("space"))t+=" ",n=this.end();else if(this.hasToken("command")){var r=this.get(),i=lr.getInfo("\\"+r.value,this.parseMode,this.macros);i&&(i.type==="mord"||i.type==="textord")&&i.value&&(t+=i.value),n=this.end()}else n=!0;return t}},{key:"scanColor",value:function(){return oi.stringToColor(this.scanString())}},{key:"scanNumber",value:function(t){var n=this.parseLiteral("-");n||this.parseLiteral("+"),this.parseToken("space"),t=!!t;var r=10,i=/[0-9]/;if(this.parseLiteral("'"))r=8,i=/[0-7]/,t=!0;else if(this.parseLiteral('"')||this.parseLiteral("x"))r=16,i=/[0-9A-F]/,t=!0;var s="";while(this.hasLiteralPattern(i))s+=this.get().value;if(!t&&(this.parseLiteral(".")||this.parseLiteral(","))){s+=".";while(this.hasLiteralPattern(i))s+=this.get().value}var o=t?parseInt(s,r):parseFloat(s);return n?-o:o}},{key:"scanDimen",value:function(){var t=this.scanNumber(!1);this.parseToken("space");var n;return this.parseKeyword("pt")?n=et.toEm(t,"pt"):this.parseKeyword("mm")?n=et.toEm(t,"mm"):this.parseKeyword("cm")?n=et.toEm(t,"cm"):this.parseKeyword("ex")?n=et.toEm(t,"ex"):this.parseKeyword("px")?n=et.toEm(t,"px"):this.parseKeyword("em")?n=et.toEm(t,"em"):this.parseKeyword("bp")?n=et.toEm(t,"bp"):this.parseKeyword("dd")?n=et.toEm(t,"dd"):this.parseKeyword("pc")?n=et.toEm(t,"pc"):this.parseKeyword("in")?n=et.toEm(t,"in"):this.parseKeyword("mu")?n=et.toEm(t,"mu"):n=et.toEm(t,"pt"),n}},{key:"scanSkip",value:function(){var t=this.scanDimen();return this.parseToken("space"),this.parseKeyword("plus")&&this.scanDimen(),this.parseToken("space"),this.parseKeyword("minus")&&this.scanDimen(),t}},{key:"scanColspec",value:function(){this.parseToken("space");var t=[];while(!this.end()&&!this.hasToken("}")&&!this.hasLiteral("]"))if(this.hasLiteral()){var n=this.get().value;if("lcr".includes(n))t.push({align:n});else if(n==="|")t.push({rule:!0});else if(n==="@"){if(this.parseToken("{")){var r=this.swapParseMode("math");t.push({gap:this.scanImplicitGroup(function(e){return e.type==="}"})}),this.swapParseMode(r)}this.parseToken("}")}}return t}},{key:"scanModeSet",value:function(){var t;this.parseCommand("(")&&(t=")"),!t&&this.parseCommand("[")&&(t="]");if(!t)return null;var n=this.swapParseMode("math"),r=new li("math","group");return r.mathstyle=t===")"?"textstyle":"displaystyle",r.body=this.scanImplicitGroup(function(e){return e.type==="command"&&e.value===t}),this.parseCommand(t),this.swapParseMode(n),!r.body||r.body.length===0?null:r}},{key:"scanModeShift",value:function(){if(!this.hasToken("$")&&!this.hasToken("$$"))return null;var t=this.get().type,n=new li("math","group");n.mathstyle=t==="$"?"textstyle":"displaystyle",n.latexOpen=n.mathstyle==="textstyle"?"$":"$$",n.latexClose=n.latexOpen;var r=this.swapParseMode("math");return n.body=this.scanImplicitGroup(function(e){return e.type===t}),this.parseToken(t),this.swapParseMode(r),!n.body||n.body.length===0?null:n}},{key:"scanEnvironment",value:function(){if(!this.parseCommand("begin"))return null;var t=this.scanArg("string"),n=lr.getEnvironmentInfo(t),r=[];if(n&&n.params){var i=!0,s=!1,o=undefined;try{for(var u=n.params[Symbol.iterator](),a;!(i=(a=u.next()).done);i=!0){var f=a.value;if(f.optional){var l=this.scanOptionalArg(f.type);r.push(l)}else r.push(this.scanArg(f.type))}}catch(c){s=!0,o=c}finally{try{!i&&u["return"]!=null&&u["return"]()}finally{if(s)throw o}}}var h=this.parseMode,p=this.tabularMode,d=this.swapMathList([]);this.tabularMode=n.tabular;var v=[],m=[],g=[],y=!1;do{y=this.end(),!y&&this.parseCommand("end")&&(y=this.scanArg("string")===t);if(!y)if(this.parseColumnSeparator())g.push(this.swapMathList([]));else if(this.parseRowSeparator()){g.push(this.swapMathList([]));var b=0;this.parseToken("space"),this.parseLiteral("[")&&(b=this.scanDimen(),this.parseToken("space"),this.parseLiteral("]")),m.push(b||0),v.push(g),g=[]}else this.mathList=this.mathList.concat(this.scanImplicitGroup())}while(!y);g.push(this.swapMathList([])),g.length>0&&v.push(g);var w=this.swapMathList(d);console.assert(!this.tabularMode||w.length===0,"Leftover atoms in tabular mode"),this.parseMode=h,this.tabularMode=p;if(!n.tabular&&w.length===0)return null;if(n.tabular&&v.length===0)return null;var E=new li(this.parseMode,"array",null,null,n.parser?n.parser(t,r,v):{});return E.array=v,E.body=w,E.rowGaps=m,E.env=n,E.env.name=t,E}},{key:"scanImplicitGroup",value:function(t){t||(t=function(t){return t.type==="}"||t.type==="literal"&&t.value==="&"||t.type==="command"&&(t.value==="end"||t.value==="cr"||t.value==="\\")});var n=null,r=null,i=this.swapMathList([]);while(!this.end()&&!t(this.peek()))if(this.hasImplicitCommand(hi)){var s=new li(this.parseMode,"sizing");s.size={tiny:"size1",scriptsize:"size2",footnotesize:"size3",small:"size4",normalsize:"size5",large:"size6",Large:"size7",LARGE:"size8",huge:"size9",Huge:"size10"}[this.get().value],this.mathList.push(s)}else if(this.hasImplicitCommand(pi)){this.parseMode="math";var o=new li("math","mathstyle");o.mathstyle=this.get().value,this.mathList.push(o)}else this.hasInfixCommand()&&!n?(n=this.get(),r=this.swapMathList([])):this.parseAtom();var u;if(n){var a=this.swapMathList(i),f=lr.getInfo("\\"+n.value,"math",this.macros);f?u=[new li(this.parseMode,f.type||"mop",f.value||n.value,f.fontFamily,f.handler?f.handler("\\"+n.value,[r,a]):null)]:u=[new li(this.parseMode,"mop",n.value,"",null)]}else u=this.swapMathList(i);return u}},{key:"scanGroup",value:function(){if(!this.parseToken("{"))return null;var t=new li(this.parseMode,"group");return t.body=this.scanImplicitGroup(function(e){return e.type==="}"}),this.parseToken("}"),t}},{key:"scanSmartFence",value:function(){this.parseToken("space");if(!this.parseLiteral("("))return null;var t=new li(this.parseMode,"leftright");t.leftDelim="(",t.inner=!1;var n=this.swapMathList([]),r=1;while(!this.end()&&r!==0)this.hasLiteral("(")&&(r+=1),this.hasLiteral(")")&&(r-=1),r!==0&&this.parseAtom();return r===0&&this.parseLiteral(")"),t.rightDelim=r===0?")":"?",t.body=this.swapMathList(n),t}},{key:"scanDelim",value:function(){this.parseToken("space");var t=this.get();if(!t)return null;var n=".";t.type==="command"?n="\\"+t.value:t.type==="literal"&&(n=t.value);var r=lr.getInfo(n,"math",this.macros);return r?r.type==="mopen"||r.type==="mclose"?n:["?","|","<",">","\\vert","\\Vert","\\|","\\surd","\\uparrow","\\downarrow","\\Uparrow","\\Downarrow","\\updownarrow","\\Updownarrow","\\mid","\\mvert","\\mVert"].includes(n)?n:null:null}},{key:"scanLeftRight",value:function(){if(this.parseCommand("right")||this.parseCommand("mright")){var t=new li(this.parseMode,"leftright");return t.rightDelim=this.scanDelim()||".",t}var n="right";if(!this.parseCommand("left")){if(!this.parseCommand("mleft"))return null;n="mright"}var r=this.scanDelim()||".",i=this.swapMathList([]);while(!this.end()&&!this.parseCommand(n))this.parseAtom();var s=this.scanDelim(),o=new li(this.parseMode,"leftright");return o.leftDelim=r,o.rightDelim=s,o.inner=n==="right",o.body=this.swapMathList(i),o}},{key:"parseSupSub",value:function(){if(this.parseMode!=="math")return!1;var t=!1;while(this.hasToken("^")||this.hasToken("_")||this.hasLiteral("'")){var n=void 0;this.hasToken("^")?n="superscript":this.hasToken("_")&&(n="subscript");if(this.parseToken("^")||this.parseToken("_")){var r=this.scanArg();if(r){var i=this.lastMathAtom();i[n]=i[n]||[],i[n]=i[n].concat(r),t=!0}}else if(this.parseLiteral("'")){var s=this.lastMathAtom();s.superscript=s.superscript||[],s.superscript.push(new li(s.parseMode,"mord","′","main")),t=!0}}return t}},{key:"parseLimits",value:function(){if(this.parseCommand("limits")){var t=this.lastMathAtom();return t.limits="limits",t.explicitLimits=!0,!0}if(this.parseCommand("nolimits")){var n=this.lastMathAtom();return n.limits="nolimits",n.explicitLimits=!0,!0}return!1}},{key:"scanOptionalArg",value:function(t){t=!t||t==="auto"?this.parseMode:t,this.parseToken("space");if(!this.parseLiteral("["))return null;var n=this.parseMode;this.parseMode=t;var r=this.swapMathList(),i;while(!this.end()&&!this.parseLiteral("]"))if(t==="string")i=this.scanString();else if(t==="number")i=this.scanNumber();else if(t==="dimen")i=this.scanDimen();else if(t==="skip")i=this.scanSkip();else if(t==="colspec")i=this.scanColspec();else if(t==="color")i=this.scanColor()||"#ffffff";else if(t==="bbox"){var s=this.scanString().toLowerCase().trim().split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/),o=!0,u=!1,a=undefined;try{for(var f=s[Symbol.iterator](),l;!(o=(l=f.next()).done);o=!0){var c=l.value,h=oi.stringToColor(c);if(h)i=i||{},i.backgroundcolor=h;else{var p=c.match(/^\s*([0-9.]+)\s*([a-z][a-z])/);if(p)i=i||{},i.padding=et.toEm(p[1],p[2]);else{var d=c.match(/^\s*border\s*:\s*(.*)/);d&&(i=i||{},i.border=d[1])}}}}catch(v){u=!0,a=v}finally{try{!o&&f["return"]!=null&&f["return"]()}finally{if(u)throw a}}}else console.assert(t==="math",'Unexpected parse mode: "'+t+'"'),this.mathList=this.mathList.concat(this.scanImplicitGroup(function(e){return e.type==="literal"&&e.value==="]"}));this.parseMode=n;var m=this.swapMathList(r);return i?i:m}},{key:"scanArg",value:function(t){t=!t||t==="auto"?this.parseMode:t,this.parseFiller();var n;if(!this.parseToken("{")){if(t==="delim")return this.scanDelim()||".";if(t==="math"){var r=this.parseMode;this.parseMode="math";var i=this.scanToken();return this.parseMode=r,Array.isArray(i)?i:i?[i]:null}}if(this.hasToken("#")){var s=this.get();return this.skipUntilToken("}"),s.value==="?"?this.placeholder():this.args?this.args[s.value]===undefined&&this.args["?"]!==undefined?this.placeholder():this.args[s.value]||null:null}var o=this.parseMode;this.parseMode=t;var u=this.swapMathList([]);if(t==="string")n=this.scanString(),this.skipUntilToken("}");else if(t==="number")n=this.scanNumber(),this.skipUntilToken("}");else if(t==="dimen")n=this.scanDimen(),this.skipUntilToken("}");else if(t==="skip")n=this.scanSkip(),this.skipUntilToken("}");else if(t==="colspec")n=this.scanColspec(),this.skipUntilToken("}");else if(t==="color")n=this.scanColor()||"#ffffff",this.skipUntilToken("}");else if(t==="delim")n=this.scanDelim()||".",this.skipUntilToken("}");else{console.assert(t==="math"||t==="text",'Unexpected parse mode: "'+t+'"');do this.mathList=this.mathList.concat(this.scanImplicitGroup());while(!this.parseToken("}")&&!this.end())}this.parseMode=o;var a=this.swapMathList(u);return n?n:a}},{key:"scanToken",value:function(){var t=this.get();if(!t)return null;var n=null;if(t.type==="space")this.parseMode==="text"&&(n=new li("text","textord"," "));else if(t.type==="esc")n=new li(this.parseMode,"esc","ESC");else if(t.type==="backslash")n=new li(this.parseMode,"command","\\");else if(t.type==="commandliteral"||t.type==="backslash"){var r=t.value;while(this.hasToken("commandliteral")||this.hasToken("backslash"))r+=this.get().value;n=new li(this.parseMode,"command",r)}else if(t.type==="placeholder")n=new li(this.parseMode,"placeholder",t.value);else if(t.type==="command")if(t.value==="placeholder")n=new li(this.parseMode,"placeholder",this.scanArg("string"));else if(t.value==="char"){var i=Math.floor(this.scanNumber(!0));if(!isFinite(i)||i<0||i>1114111)i=10067;n=new li(this.parseMode,this.parseMode==="math"?"mord":"textord",String.fromCodePoint(i),"main"),n.latex='{\\char"'+("000000"+i.toString(16)).toUpperCase().substr(-6)+"}"}else if(t.value==="hskip"||t.value==="kern"){var s=this.scanSkip();isNaN(s)||(n=new li(this.parseMode,"spacing"),n.width=s)}else{n=this.scanMacro(t.value);if(!n){var o=lr.getInfo("\\"+t.value,this.parseMode,this.macros),u=[];if(o&&o.params){var a=!0,f=!1,l=undefined;try{for(var c=o.params[Symbol.iterator](),h;!(a=(h=c.next()).done);a=!0){var p=h.value;if(p.optional){var d=this.scanOptionalArg(p.type);u.push(d)}else{var v=this.scanArg(p.type);v&&v.length===1&&v[0].type==="placeholder"&&p.placeholder&&(v[0].value=p.placeholder),v?u.push(v):p.placeholder?u.push([new li(this.parseMode,"placeholder",p.placeholder)]):u.push(this.placeholder())}}}catch(m){f=!0,l=m}finally{try{!a&&c["return"]!=null&&c["return"]()}finally{if(f)throw l}}}if(o&&!o.infix){o.handler?n=new li(this.parseMode,o.type,null,o.fontFamily,o.handler("\\"+t.value,u)):n=new li(this.parseMode,o.type||"mop",o.value||t.value,o.fontFamily),n.latex="\\"+t.value+" ";if(n.isFunction&&this.smartFence){var g=this.scanSmartFence();g&&(n=[n,g])}}}}else if(t.type==="literal"){var y=lr.getInfo(t.value,this.parseMode,this.macros);y?(n=new li(this.parseMode,y.type,y.value||t.value,y.fontFamily),y.isFunction&&(n.isFunction=!0)):n=new li(this.parseMode,this.parseMode==="math"?"mord":"textord",t.value,"main"),n.latex=lr.matchCodepoint(t.value);if(y&&y.isFunction&&this.smartFence){var b=this.scanSmartFence();b&&(n=[n,b])}}else if(t.type==="#"){if(t.value==="?")n=this.placeholder();else if(this.args){n=this.args[t.value]||null;if(Array.isArray(n)&&n.length===1)n=n[0];else if(Array.isArray(n)){var w=new li(this.parseMode,"group");w.body=n,n=w}else n=this.placeholder()}}else console.warn('Unexpected token type "'+t.type+'"');return n}},{key:"scanMacro",value:function(t){if(!this.macros||!this.macros[t])return null;var n={},r,i=0;typeof this.macros[t]=="string"?(r=this.macros[t],/(^|[^\\])#1/.test(r)&&(i=1),/(^|[^\\])#2/.test(r)&&(i=2),/(^|[^\\])#3/.test(r)&&(i=3),/(^|[^\\])#4/.test(r)&&(i=4),/(^|[^\\])#5/.test(r)&&(i=5),/(^|[^\\])#6/.test(r)&&(i=6),/(^|[^\\])#7/.test(r)&&(i=7),/(^|[^\\])#8/.test(r)&&(i=8),/(^|[^\\])#9/.test(r)&&(i=9)):(r=this.macros[t].def,i=this.macros[t].args||0);for(var s=1;s<=i;s++)n[s]=this.scanArg();this.args&&typeof this.args["?"]=="string"&&(n["?"]=this.args["?"]);var o=new li(this.parseMode,"group",di(A.tokenize(r),this.parseMode,n,this.macros));o.captureSelection=!0,o.latex="\\"+t;var u="";for(var a=1;a<=i;a++){u+="{";if(Array.isArray(n[a]))for(var f=0;f<n[a].length;f++)u+=n[a][f].latex;u+="}"}return o.latex+=u?u:" ",o}},{key:"parseAtom",value:function(){var t=this.scanEnvironment()||this.scanModeShift()||this.scanModeSet()||this.scanGroup()||this.scanLeftRight();return!t&&(this.parseSupSub()||this.parseLimits())?!0:(t||(t=this.scanToken()),Array.isArray(t)?this.mathList=this.mathList.concat(t):t&&this.mathList.push(t),t!==null)}}]),e}(),hi=["tiny","scriptsize","footnotesize","small","normalsize","large","Large","LARGE","huge","Huge"],pi=["displaystyle","textstyle","scriptstyle","scriptscriptstyle"],vi={Parser:ci,parseTokens:di},Ei={pathFromString:gi,pathToString:mi,pathDistance:bi,pathCommonAncestor:yi,clone:wi};xi.prototype._announce=function(e,t,n){typeof this.config.onAnnounce=="function"&&this.config.onAnnounce(this.target,e,t,n)},xi.prototype.filter=function(e,t){var n=this.suppressSelectionChangeNotifications;this.suppressSelectionChangeNotifications=!0,t=t<0?-1:1;var r=[],i=this.extent;t>=0?this.collapseForward():this.collapseBackward();var s=Ei.pathToString(this.path);do console.assert(this.anchor(),Ei.pathToString(this.path)),this.anchor()&&e.bind(this)(this.path,this.anchor())&&r.push(this.toString()),t>=0?this.next({iterateAll:!0}):this.previous({iterateAll:!0});while(s!==Ei.pathToString(this.path));return this.extent=i,this.suppressSelectionChangeNotifications=n,r},xi.prototype.forEach=function(e){this.root.forEach(e)},xi.prototype.forEachSelected=function(e){var t=this.siblings(),n=this.startOffset()+1,r=this.endOffset()+1;for(var i=n;i<r;i++)t[i]&&t[i].type!=="first"&&t[i].forEach(e)},xi.prototype.toString=function(){return Ei.pathToString(this.path,this.extent)},xi.prototype.adjustPlaceholder=function(){var e=this.siblings();if(e&&e.length<=1){var t,n=this.relation();if(n==="numer")t="numerator";else if(n==="denom")t="denominator";else if(this.parent().type==="surd"&&n==="body")t="radicand";else if(this.parent().type==="overunder"&&n==="body")t="base";else if(n==="underscript"||n==="overscript")t="annotation";if(t){var r=[new ei.MathAtom("math","placeholder","⬚")];Array.prototype.splice.apply(e,[1,0].concat(r))}}},xi.prototype.selectionWillChange=function(){typeof this.config.onSelectionWillChange=="function"&&!this.suppressSelectionChangeNotifications&&this.config.onSelectionWillChange(this.target)},xi.prototype.selectionDidChange=function(){typeof this.config.onSelectionDidChange=="function"&&!this.suppressSelectionChangeNotifications&&this.config.onSelectionDidChange(this.target)},xi.prototype.setPath=function(e,t){if(typeof e=="string")e=Ei.pathFromString(e);else if(Array.isArray(e)){var n=Ei.clone(e),r=this.path;this.path=n,t===0&&this.anchor().type==="placeholder"&&(t=1),e={path:n,extent:t||0},this.path=r}var i=Ei.pathDistance(this.path,e.path)!==0,s=e.extent!==this.extent;if(i||s)i&&this.adjustPlaceholder(),this.selectionWillChange(),this.path=Ei.clone(e.path),this.siblings().length<this.anchorOffset()?(console.log("invalid selection: "+this.toString()+" for "+this.root.toLatex()),this.path=[{relation:"body",offset:0}],this.extent=0):this.setExtent(e.extent),this.selectionDidChange();return i||s},xi.prototype.setRange=function(e,t){var n=Ei.pathDistance(e,t);if(n===0)return this.setPath(e,0);if(n===1){var r=t[t.length-1].offset-e[e.length-1].offset;return this.setPath(Ei.clone(e),r)}var i=Ei.pathCommonAncestor(e,t),s=i.length;if(e.length===s||t.length===s||e[s].relation!==t[s].relation)return this.setPath(i,-1);i.push(e[s]),i=Ei.clone(i);var o=t[s].offset-e[s].offset+1;return o<=0?t.length>s+1?(i[s].relation=t[s].relation,i[s].offset=t[s].offset,i[i.length-1].offset-=1,o=-o+2):(i[s].relation=t[s].relation,i[s].offset=t[s].offset,o=-o+1):t.length<=e.length?i[i.length-1].offset-=1:o-=1,this.setPath(i,o)},xi.prototype.ancestor=function(e){if(e>this.path.length)return null;var t=this.root;for(var n=0;n<this.path.length-e;n++){var r=this.path[n];if(r.relation.startsWith("cell")){var i=parseInt(r.relation.match(/cell([0-9]*)$/)[1]);t=ki(t,i)[r.offset]}else{if(!t[r.relation])return null;if(t[r.relation].length===0||t[r.relation][0].type!=="first"){var s=new ei.MathAtom(t.parseMode,"first",null);t[r.relation].unshift(s)}var o=Math.min(r.offset,t[r.relation].length-1);t=t[r.relation][o]}}return t},xi.prototype.anchor=function(){if(this.relation().startsWith("cell")){var e=parseInt(this.relation().match(/cell([0-9]*)$/)[1]);return ki(this.parent(),e)[this.anchorOffset()]}var t=this.siblings();return t[Math.min(t.length-1,this.anchorOffset())]},xi.prototype.parent=function(){return this.ancestor(1)},xi.prototype.relation=function(){return this.path.length>0?this.path[this.path.length-1].relation:""},xi.prototype.anchorOffset=function(){return this.path.length>0?this.path[this.path.length-1].offset:0},xi.prototype.focusOffset=function(){return this.path.length>0?this.path[this.path.length-1].offset+this.extent:0},xi.prototype.startOffset=function(){return Math.min(this.focusOffset(),this.anchorOffset())},xi.prototype.endOffset=function(){return Math.max(this.focusOffset(),this.anchorOffset())},xi.prototype.insertFirstAtom=function(){this.siblings()},xi.prototype.siblings=function(){if(this.path.length===0)return[];var e;if(this.relation().startsWith("cell")){var t=parseInt(this.relation().match(/cell([0-9]*)$/)[1]);e=ki(this.parent(),t)}else e=this.parent()[this.relation()]||[],typeof e=="string"&&(e=[]);if(e.length===0||e[0].type!=="first"){var n=new ei.MathAtom(this.parent().parseMode,"first",null);e.unshift(n)}return e},xi.prototype.sibling=function(e){var t=this.startOffset()+e,n=this.siblings();return t<0||t>n.length?null:n[t]},xi.prototype.isCollapsed=function(){return this.extent===0},xi.prototype.setExtent=function(e){this.extent=e},xi.prototype.collapseForward=function(){return this.extent===0?!1:(this.setSelection(this.endOffset()),!0)},xi.prototype.collapseBackward=function(){return this.extent===0?!1:(this.setSelection(this.startOffset()),!0)},xi.prototype.selectGroup_=function(){this.setSelection(0,"end")},xi.prototype.selectAll_=function(){this.path=[{relation:"body",offset:0}],this.setSelection(0,"end")},xi.prototype.deleteAll_=function(){this.selectAll_(),this.delete_()},xi.prototype.contains=function(e){if(this.isCollapsed())return!1;var t=this.siblings(),n=this.startOffset(),r=this.endOffset();for(var i=n;i<r;i++)if(Ai(t[i],e))return!0;return!1},xi.prototype.extractContents=function(){if(this.isCollapsed())return null;var e=[],t=this.siblings(),n=this.startOffset()+1,r=this.endOffset()+1;for(var i=n;i<r;i++)t[i]&&t[i].type!=="first"&&e.push(t[i]);return e},xi.prototype.extractCharactersBeforeInsertionPoint=function(e){var t=this.siblings();if(t.length<=1)return"";var n="",r=this.startOffset();while(r>=1&&e>0)n=Oi(t[r])+n,e-=1,r-=1;return n},xi.prototype.commandOffsets=function(){var e=this.siblings();if(e.length<=1)return null;var t=Math.min(this.endOffset(),e.length-1);if(e[t].type!=="command")return null;while(t>0&&e[t].type==="command")t-=1;var n=this.startOffset()+1;while(n<=e.length-1&&e[n].type==="command")n+=1;return n>t?{start:t+1,end:n}:null},xi.prototype.extractCommandStringAroundInsertionPoint=function(){var e="",t=this.commandOffsets();if(t){var n=this.siblings();for(var r=t.start;r<t.end;r++)e+=n[r].body||""}return e},xi.prototype.decorateCommandStringAroundInsertionPoint=function(e){var t=this.commandOffsets();if(t){var n=this.siblings();for(var r=t.start;r<t.end;r++)n[r].error=e}},xi.prototype.commitCommandStringBeforeInsertionPoint=function(){var e=this.commandOffsets();if(e){var t=this.siblings(),n=this.anchorOffset()+1;for(var r=e.start;r<n;r++)t[r].suggestion=!1}},xi.prototype.spliceCommandStringAroundInsertionPoint=function(e){var t=this.commandOffsets();if(t){Array.prototype.splice.apply(this.siblings(),[t.start,t.end-t.start].concat(e));var n=[],r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){var a=u.value;n=n.concat(a.filter(function(e){return e.type==="placeholder"}))}}catch(f){i=!0,s=f}finally{try{!r&&o["return"]!=null&&o["return"]()}finally{if(i)throw s}}this.setExtent(0),this.path[this.path.length-1].offset=t.start-1,(n.length===0||!this.leap(1,!1))&&this.setSelection(t.start+e.length-1)}},xi.prototype.extractContentsOrdInGroupBeforeInsertionPoint=function(){var e=[],t=this.siblings();if(t.length<=1)return[];var n=this.startOffset();while(n>=1&&(t[n].type==="mord"||t[n].type==="surd"||t[n].type==="leftright"||t[n].type==="font"))e.unshift(t[n]),n--;return e},xi.prototype.setSelection=function(e,t,n){e=e||0,t=t||0;var r=this.path[this.path.length-1].relation;n||(n=r);var i=this.parent(),s=n.startsWith("cell");if(!i&&n!=="body")return!1;if(!s&&!i[n]||s&&!i.array)return!1;var o=n!==r;this.path[this.path.length-1].relation=n;var u=this.siblings(),a=u.length;this.path[this.path.length-1].relation=r;var f=this.extent;t==="end"?t=a-e-1:t==="start"&&(t=-e),this.setExtent(t);var l=this.extent!==f;this.setExtent(f),e<0&&(e=a+e),e=Math.max(0,Math.min(e,a-1));var c=this.path[this.path.length-1].offset,h=c!==e;if(o||h||l)o&&this.adjustPlaceholder(),this.selectionWillChange(),this.path[this.path.length-1].relation=n,this.path[this.path.length-1].offset=e,this.setExtent(t),this.selectionDidChange();return!0},xi.prototype.next=function(e){e=e||{};var t={body:"numer",numer:"denom",denom:"index",index:"overscript",overscript:"underscript",underscript:"subscript",subscript:"superscript"};if(this.anchorOffset()===this.siblings().length-1){this.adjustPlaceholder(),this.selectionWillChange();var n=t[this.relation()];while(n&&!this.setSelection(0,0,n))n=t[n];if(n){this.selectionDidChange();return}if(this.relation().startsWith("cell")){var r=Li(this.parent()),i=parseInt(this.relation().match(/cell([0-9]*)$/)[1])+1;while(i<r){var s=ki(this.parent(),i);if(s&&this.setSelection(0,0,"cell"+i)){this.selectionDidChange();return}i+=1}}if(this.path.length===1){if(this.suppressSelectionChangeNotifications||!this.config.onMoveOutOf||this.config.onMoveOutOf(this,"forward"))this.path[0].offset=0}else{var o=!e.iterateAll&&this.parent().skipBoundary;this.path.pop(),o&&this.next(e)}this.selectionDidChange();return}this.setSelection(this.anchorOffset()+1);var u=this.anchor();if(u&&!u.captureSelection){var a;if(u.array){var f=0;a="";var l=Li(u);while(!a&&f<l)ki(u,f)&&(a="cell"+f.toString()),f+=1;console.assert(a),this.path.push({relation:a,offset:0}),this.setSelection(0,0,a);return}a="body";while(a){if(Array.isArray(u[a])){this.path.push({relation:a,offset:0}),this.insertFirstAtom(),!e.iterateAll&&u.skipBoundary&&this.next(e);return}a=t[a]}}},xi.prototype.previous=function(e){e=e||{};var t={numer:"body",denom:"numer",index:"denom",overscript:"index",underscript:"overscript",subscript:"underscript",superscript:"subscript"};!e.iterateAll&&this.anchorOffset()===1&&this.parent()&&this.parent().skipBoundary&&this.setSelection(0);if(this.anchorOffset()<1){var n;n=t[this.relation()];while(n&&!this.setSelection(-1,0,n))n=t[n];n==="body"&&this.parent()&&this.parent().type==="msubsup"&&(n=null);if(n)return;this.adjustPlaceholder(),this.selectionWillChange();if(this.relation().startsWith("cell")){var r=parseInt(this.relation().match(/cell([0-9]*)$/)[1])-1;while(r>=0){var i=ki(this.parent(),r);if(i&&this.setSelection(-1,0,"cell"+r)){this.selectionDidChange();return}r-=1}}if(this.path.length===1){if(this.suppressSelectionChangeNotifications||!this.config.onMoveOutOf||this.config.onMoveOutOf.bind(this)(-1))this.path[0].offset=this.root.body.length-1}else this.path.pop(),this.setSelection(this.anchorOffset()-1);this.selectionDidChange();return}var s=this.anchor();if(!s.captureSelection){var o;if(s.array){o="";var u=Li(s),a=u-1;while(!o&&a<u)ki(s,a)&&(o="cell"+a.toString()),a-=1;a+=1,console.assert(o),this.path.push({relation:o,offset:ki(s,a).length-1}),this.setSelection(-1,0,o);return}o="superscript";while(o){if(Array.isArray(s[o])){this.path.push({relation:o,offset:s[o].length-1}),this.setSelection(-1,0,o);return}o=t[o]}}this.setSelection(this.anchorOffset()-1),!e.iterateAll&&this.sibling(0)&&this.sibling(0).skipBoundary&&this.previous(e)},xi.prototype.move=function(e,t){t=t||{extend:!1};var n=t.extend||!1;this.removeSuggestion();if(n)this.extend(e,t);else{var r=Ti(this);if(e>0){this.collapseForward()&&e--;while(e>0)this.next(),e--}else if(e<0){this.collapseBackward()&&e++;while(e!==0)this.previous(),e++}this._announce("move",r)}},xi.prototype.up=function(e){e=e||{extend:!1};var t=e.extend||!1;this.collapseForward(),this.relation()==="denom"?(t?(this.selectionWillChange(),this.path.pop(),this.path[this.path.length-1].offset-=1,this.setExtent(1),this.selectionDidChange()):this.setSelection(this.anchorOffset(),0,"numer"),this._announce("moveUp")):this._announce("line")},xi.prototype.down=function(e){e=e||{extend:!1};var t=e.extend||!1;this.collapseForward(),this.relation()==="numer"?(t?(this.selectionWillChange(),this.path.pop(),this.path[this.path.length-1].offset-=1,this.setExtent(1),this.selectionDidChange()):this.setSelection(this.anchorOffset(),0,"denom"),this._announce("moveDown")):this._announce("line")},xi.prototype.extend=function(e){var t=this.path[this.path.length-1].offset,n=0,r=Ti(this);n=this.extent+e;var i=t+n;if(i<0&&n!==0){if(this.path.length>1){this.selectionWillChange(),this.path.pop(),this.setExtent(-1),this.selectionDidChange(),this._announce("move",r);return}t=this.path[this.path.length-1].offset,n=this.extent}else if(i>=this.siblings().length){if(this.path.length>1){this.selectionWillChange(),this.path.pop(),this.path[this.path.length-1].offset-=1,this.setExtent(1),this.selectionDidChange(),this._announce("move",r);return}this.isCollapsed()&&(t-=1),n-=1}this.setSelection(t,n),this._announce("move",r)},xi.prototype.skip=function(e,t){t=t||{extend:!1};var n=t.extend||!1;e=e<0?-1:1;var r=Ti(this),i=this.siblings(),s=this.focusOffset(),o=s+(e>0?1:0);o=Math.max(0,Math.min(o,i.length-1));var u=i[o].type;if(o===0&&e<0||o===i.length-1&&e>0){this.move(e,t);return}if(u==="mopen"&&e>0||u==="mclose"&&e<0){var a=u==="mopen"?1:-1;o+=e>0?1:-1;while(o>=0&&o<i.length&&a!==0)i[o].type==="mopen"?a+=1:i[o].type==="mclose"&&(a-=1),o+=e;a!==0&&(o=s+e),e>0&&(o-=1)}else{while(o>=0&&o<i.length&&i[o].type===u)o+=e;o-=e>0?1:0}n?this.extend(o-s):this.setSelection(o),this._announce("move",r)},xi.prototype.jump=function(e,t){t=t||{extend:!1};var n=t.extend||!1;e=e<0?-1:1;var r=this.siblings(),i=this.focusOffset();e>0&&(i=Math.min(i+1,r.length-1));var s=e<0?0:r.length-1;n?this.extend(s-i):this.move(s-i)},xi.prototype.jumpToMathFieldBoundary=function(e,t){t=t||{extend:!1};var n=t.extend||!1;e=e||1,e=e<0?-1:1;var r=Ti(this),i=[this.path[0]],s;n?e<0?i[0].offset>0&&(s=-i[0].offset):i[0].offset<this.siblings().length-1&&(s=this.siblings().length-i[0].offset):(i[0].offset=e<0?0:this.root.body.length-1,s=0),this.setPath(i,s),this._announce("move",r)},xi.prototype.leap=function(e,t){var n=this;e=e||1,e=e<0?-1:1,t=t||!0;var r=Ti(this),i=this.filter(function(e,t){return t.type==="placeholder"||e.length>1&&n.siblings().length===1},e);if(i.length===0){if(t)if(this.config.onTabOutOf)this.config.onTabOutOf(this.target,e>0?"forward":"backward");else if(document.activeElement){var s='a[href]:not([disabled]),\n                    button:not([disabled]),\n                    textarea:not([disabled]),\n                    input[type=text]:not([disabled]),\n                    select:not([disabled]),\n                    [contentEditable="true"],\n                    [tabindex]:not([disabled]):not([tabindex="-1"])',o=Array.prototype.filter.call(document.querySelectorAll(s),function(e){return(e.offsetWidth>0||e.offsetHeight>0)&&!e.contains(document.activeElement)||e===document.activeElement}),u=o.indexOf(document.activeElement)+e;u<0&&(u=o.length-1),u>=o.length&&(u=0),o[u].focus()}return!1}return this.move(e),this.anchor().type==="placeholder"&&this.move(e),this.setPath(i[0]),this.anchor().type==="placeholder"&&this.setExtent(-1),this._announce("move",r),!0},xi.prototype.parseMode=function(){var e=this.anchor();if(e)if(e.type==="commandliteral"||e.type==="esc"||e.type==="command")return"command";return"math"},xi.prototype.insert=function(e,t){t=t||{};var n=this.suppressContentChangeNotifications;t.suppressContentChangeNotifications&&(this.suppressContentChangeNotifications=!0),typeof this.config.onContentWillChange=="function"&&!t.suppressContentChangeNotifications&&this.config.onContentWillChange(this.target);var r=this.suppressContentChangeNotifications;this.suppressContentChangeNotifications=!0,t.insertionMode||(t.insertionMode="replaceSelection"),t.selectionMode||(t.selectionMode="placeholder"),t.format||(t.format="auto"),t.macros=t.macros||this.config.macros;var i=this.parseMode(),s,o=[this.extractContents()];t.placeholder!==undefined&&(o["?"]=t.placeholder),t.insertionMode==="replaceSelection"&&!this.isCollapsed()?this.delete_():t.insertionMode==="replaceAll"?(this.root.body.splice(1),this.path=[{relation:"body",offset:0}],this.extent=0):t.insertionMode==="insertBefore"?this.collapseBackward():t.insertionMode==="insertAfter"&&this.collapseForward();var u=this.siblings(),a=this.startOffset();a+1<u.length&&u[a+1].type==="placeholder"?this.delete_(1):a>0&&u[a].type==="placeholder"&&this.delete_(-1);if(t.format==="auto")if(i==="command"){s=[];var f=!0,l=!1,c=undefined;try{for(var h=e[Symbol.iterator](),p;!(f=(p=h.next()).done);f=!0){var d=p.value,v=lr.matchSymbol("command",d);v&&s.push(new ei.MathAtom("command","command",v.value,"main"))}}catch(m){l=!0,c=m}finally{try{!f&&h["return"]!=null&&h["return"]()}finally{if(l)throw c}}}else e===""?s=[new ei.MathAtom("command","command","\\","main")]:(o[0]?e=e.replace(/(^|[^\\])#@/g,"$1#0"):/(^|[^\\])#@/.test(e)?(e=e.replace(/(^|[^\\])#@/g,"$1#0"),o[0]=this.extractContentsOrdInGroupBeforeInsertionPoint(),this._deleteAtoms(-o[0].length),Array.isArray(o[0])&&o[0].length===0&&(o[0]=undefined)):e=e.replace(/(^|[^\\])#@/g,"$1#?"),s=vi.parseTokens(A.tokenize(lr.unicodeStringToLatex(e)),i,o,t.macros,t.smartFence),s.length===1&&s[0].type==="genfrac"&&(s[0].numer=Mi(s[0].numer),s[0].denom=Mi(s[0].denom)));else t.format==="latex"&&(s=vi.parseTokens(A.tokenize(e),i,o,t.macros,t.smartFence));Array.prototype.splice.apply(this.siblings(),[this.anchorOffset()+1,0].concat(s)),this.insertFirstAtom();if(t.selectionMode==="placeholder"){var g=[],y=!0,b=!1,w=undefined;try{for(var E=s[Symbol.iterator](),S;!(y=(S=E.next()).done);y=!0){var x=S.value;g=g.concat(x.filter(function(e){return e.type==="placeholder"}))}}catch(m){b=!0,w=m}finally{try{!y&&E["return"]!=null&&E["return"]()}finally{if(b)throw w}}g.length===0||!this.leap(1,!1)?this.setSelection(this.anchorOffset()+s.length):this._announce("move")}else t.selectionMode!=="before"&&(t.selectionMode==="after"?this.setSelection(this.anchorOffset()+s.length):t.selectionMode==="item"&&this.setSelection(this.anchorOffset()+1,s.length));this.suppressContentChangeNotifications=r,typeof this.config.onContentDidChange=="function"&&!this.suppressContentChangeNotifications&&this.config.onContentDidChange(this.target),this.suppressContentChangeNotifications=n},xi.prototype._insertSmartFence=function(e){if(!this.config.smartFence)return!1;var t=this.parent();if(t&&t.type==="leftright"&&t.leftDelim!=="|"&&/\||\\vert|\\Vert|\\mvert|\\mid/.test(e))return this.insert("\\,\\middle"+e+"\\, "),!0;e==="{"&&(e="\\lbrace"),e==="["&&(e="\\lbrack"),e==="}"&&(e="\\rbrace"),e==="]"&&(e="\\rbrack");var n=lr.RIGHT_DELIM[e];if(n&&(!t||t.type!=="leftright"||t.leftDelim!=="|")){var r="",i=this.isCollapsed();return this.sibling(0).isFunction?r="\\mleft"+e+"\\mright":r="\\left"+e+"\\right",r+=i?"?":n,this.insert(r),i&&this.move(-1),!0}var s;for(var o in lr.RIGHT_DELIM)lr.RIGHT_DELIM.hasOwnProperty(o)&&e===lr.RIGHT_DELIM[o]&&(s=o);if(s){if(t&&t.type==="leftright"&&this.endOffset()===this.siblings().length-1)return t.rightDelim=e,this.move(1),!0;var u=this.siblings(),a;for(a=this.endOffset();a>=0;a--)if(u[a].type==="leftright")break;if(a>=0)return u[a].rightDelim=e,u[a].body=u[a].body.concat(u.slice(a+1,this.endOffset()+1)),u.splice(a+1,this.endOffset()-a),this.setSelection(a),!0;if(t&&t.type==="leftright"){t.rightDelim=e;var f=u.slice(this.endOffset()+1);return u.splice(this.endOffset()+1),this.path.pop(),Array.prototype.splice.apply(this.siblings(),[this.endOffset()+1,0].concat(f)),!0}var l=this.ancestor(2);return l&&l.type==="leftright"&&this.endOffset()===u.length-1?(this.move(1),this._insertSmartFence(e)):(this.insert(e),!0)}return!1},xi.prototype.positionInsertionPointAfterCommitedCommand=function(){var e=this.siblings(),t=this.commandOffsets(),n=t.start;while(n<t.end&&!e[n].suggestion)n++;this.setSelection(n-1)},xi.prototype.removeSuggestion=function(){var e=this.siblings();for(var t=e.length-1;t>=0;t--)e[t].suggestion&&e.splice(t,1)},xi.prototype.insertSuggestion=function(e,t){this.removeSuggestion();var n=[],r=e.substr(t),i=!0,s=!1,o=undefined;try{for(var u=r[Symbol.iterator](),a;!(i=(a=u.next()).done);i=!0){var f=a.value,l=new ei.MathAtom("command","command",f,"main");l.suggestion=!0,n.push(l)}}catch(c){s=!0,o=c}finally{try{!i&&u["return"]!=null&&u["return"]()}finally{if(s)throw o}}Array.prototype.splice.apply(this.siblings(),[this.anchorOffset()+1,0].concat(n))},xi.prototype._deleteAtoms=function(e){e>0?this.siblings().splice(this.anchorOffset()+1,e):(this.siblings().splice(this.anchorOffset()+e+1,-e),this.setSelection(this.anchorOffset()+e))},xi.prototype["delete"]=function(e){e=e||0;if(e===0)this.delete_(0);else if(e>0)while(e>0)this.delete_(1),e--;else while(e<0)this.delete_(-1),e++},xi.prototype.delete_=function(e){typeof this.config.onContentWillChange=="function"&&!this.suppressContentChangeNotifications&&this.config.onContentWillChange(this.target);var t=this.suppressContentChangeNotifications;this.suppressContentChangeNotifications=!0,e=e||0,e=e<0?-1:e>0?1:e,this.removeSuggestion();var n=this.siblings();if(!this.isCollapsed()){var r=this.startOffset()+1,i=this.endOffset()+1;this._announce("deleted",null,n.slice(r,i)),n.splice(r,i-r),this.setSelection(r-1)}else{var s=this.anchorOffset();if(e<0)if(s!==0){var o=this.sibling(0);o.type==="leftright"?(o.rightDelim="?",this.move(-1)):!o.captureSelection&&/^(group|array|genfrac|surd|leftright|font|overlap|overunder|color|box|mathstyle|sizing)$/.test(o.type)?this.move(-1):(this._announce("delete",null,n.slice(s,s+1)),n.splice(s,1),this.setSelection(s-1))}else{var u=this.relation();if(u==="superscript"||u==="subscript"){var a=this.parent()[u].filter(function(e){return e.type!=="placeholder"&&e.type!=="first"});this.parent()[u]=null,this.path.pop(),Array.prototype.splice.apply(this.siblings(),[this.anchorOffset(),0].concat(a)),this.setSelection(this.anchorOffset()-1),this._announce("deleted: "+u)}else if(u==="denom"){var f=this.parent().numer.filter(function(e){return e.type!=="placeholder"&&e.type!=="first"}),l=this.parent().denom.filter(function(e){return e.type!=="placeholder"&&e.type!=="first"});this.path.pop(),Array.prototype.splice.apply(this.siblings(),[this.anchorOffset(),1].concat(l)),Array.prototype.splice.apply(this.siblings(),[this.anchorOffset(),0].concat(f)),this.setSelection(this.anchorOffset()+f.length-1),this._announce("deleted: denominator")}else if(u==="body"){var c=this.siblings().filter(function(e){return e.type!=="placeholder"});this.path.length>1&&(c.shift(),this.path.pop(),Array.prototype.splice.apply(this.siblings(),[this.anchorOffset(),1].concat(c)),this.setSelection(this.anchorOffset()-1),this._announce("deleted: root"))}else this.move(-1),this["delete"](-1)}else if(e>0)if(s!==n.length-1)/^(group|array|genfrac|surd|leftright|font|overlap|overunder|color|box|mathstyle|sizing)$/.test(this.sibling(1).type)?this.move(1):(this._announce("delete",null,n.slice(s+1,s+2)),n.splice(s+1,1));else{var h=this.relation();if(h==="numer"){var p=this.parent().numer.filter(function(e){return e.type!=="placeholder"&&e.type!=="first"}),d=this.parent().denom.filter(function(e){return e.type!=="placeholder"&&e.type!=="first"});this.path.pop(),Array.prototype.splice.apply(this.siblings(),[this.anchorOffset(),1].concat(d)),Array.prototype.splice.apply(this.siblings(),[this.anchorOffset(),0].concat(p)),this.setSelection(this.anchorOffset()+p.length-1),this._announce("deleted: numerator")}else this.move(1),this["delete"](1)}}this.suppressContentChangeNotifications=t,typeof this.config.onContentDidChange=="function"&&!this.suppressContentChangeNotifications&&this.config.onContentDidChange(this.target)},xi.prototype.moveToNextPlaceholder_=function(){this.leap(1)},xi.prototype.moveToPreviousPlaceholder_=function(){this.leap(-1)},xi.prototype.moveToNextChar_=function(){this.move(1)},xi.prototype.moveToPreviousChar_=function(){this.move(-1)},xi.prototype.moveUp_=function(){this.up()},xi.prototype.moveDown_=function(){this.down()},xi.prototype.moveToNextWord_=function(){this.skip(1)},xi.prototype.moveToPreviousWord_=function(){this.skip(-1)},xi.prototype.moveToGroupStart_=function(){this.setSelection(0)},xi.prototype.moveToGroupEnd_=function(){this.setSelection(-1)},xi.prototype.moveToMathFieldStart_=function(){this.jumpToMathFieldBoundary(-1)},xi.prototype.moveToMathFieldEnd_=function(){this.jumpToMathFieldBoundary(1)},xi.prototype.deleteNextChar_=function(){this.delete_(1)},xi.prototype.deletePreviousChar_=function(){this.delete_(-1)},xi.prototype.deleteNextWord_=function(){this.extendToNextBoundary(),this.delete_()},xi.prototype.deletePreviousWord_=function(){this.extendToPreviousBoundary(),this.delete_()},xi.prototype.deleteToGroupStart_=function(){this.extendToGroupStart(),this.delete_()},xi.prototype.deleteToGroupEnd_=function(){this.extendToMathFieldStart(),this.delete_()},xi.prototype.deleteToMathFieldEnd_=function(){this.extendToMathFieldEnd(),this.delete_()},xi.prototype.transpose_=function(){},xi.prototype.extendToNextChar_=function(){this.extend(1)},xi.prototype.extendToPreviousChar_=function(){this.extend(-1)},xi.prototype.extendToNextWord_=function(){this.skip(1,{extend:!0})},xi.prototype.extendToPreviousWord_=function(){this.skip(-1,{extend:!0})},xi.prototype.extendUp_=function(){this.up({extend:!0})},xi.prototype.extendDown_=function(){this.down({extend:!0})},xi.prototype.extendToNextBoundary_=function(){this.skip(1,{extend:!0})},xi.prototype.extendToPreviousBoundary_=function(){this.skip(-1,{extend:!0})},xi.prototype.extendToGroupStart_=function(){this.setExtent(-this.anchorOffset())},xi.prototype.extendToGroupEnd_=function(){this.setExtent(this.siblings().length-this.anchorOffset())},xi.prototype.extendToMathFieldStart_=function(){this.jumpToMathFieldBoundary(-1,{extend:!0})},xi.prototype.extendToMathFieldEnd_=function(){this.jumpToMathFieldBoundary(1,{extend:!0})},xi.prototype.moveToSuperscript_=function(){this.collapseForward();if(!this.anchor().superscript)if(this.anchor().subscript)this.anchor().superscript=[new ei.MathAtom(this.parent().parseMode,"first",null)];else{var e=this.sibling(1);e&&e.superscript?this.path[this.path.length-1].offset+=1:e&&e.subscript?(this.path[this.path.length-1].offset+=1,this.anchor().superscript=[new ei.MathAtom(this.parent().parseMode,"first",null)]):(this.siblings().splice(this.anchorOffset()+1,0,new ei.MathAtom(this.parent().parseMode,"msubsup","​")),this.path[this.path.length-1].offset+=1,this.anchor().superscript=[new ei.MathAtom(this.parent().parseMode,"first",null)])}this.path.push({relation:"superscript",offset:0}),this.selectGroup_()},xi.prototype.moveToSubscript_=function(){this.collapseForward();if(!this.anchor().subscript)if(this.anchor().superscript)this.anchor().subscript=[new ei.MathAtom(this.parent().parseMode,"first",null)];else{var e=this.sibling(1);e&&e.subscript?this.path[this.path.length-1].offset+=1:e&&e.superscript?(this.path[this.path.length-1].offset+=1,this.anchor().subscript=[new ei.MathAtom(this.parent().parseMode,"first",null)]):(this.siblings().splice(this.anchorOffset()+1,0,new ei.MathAtom(this.parent().parseMode,"msubsup","​")),this.path[this.path.length-1].offset+=1,this.anchor().subscript=[new ei.MathAtom(this.parent().parseMode,"first",null)])}this.path.push({relation:"subscript",offset:0}),this.selectGroup_()},xi.prototype.moveToOpposite_=function(){var e={superscript:"subscript",subscript:"superscript",denom:"numer",numer:"denom"},t=e[this.relation()];return t?(this.parent()[t]||(this.parent()[t]=[new ei.MathAtom(this.parent().parseMode,"first",null)]),this.setSelection(1,"end",t),!0):(this.moveToSuperscript_(),!1)},xi.prototype.moveBeforeParent_=function(){this.path.length>1?(this.path.pop(),this.setSelection(this.anchorOffset()-1)):this._announce("plonk")},xi.prototype.moveAfterParent_=function(){if(this.path.length>1){var e=Ti(this);this.path.pop(),this.setExtent(0),this._announce("move",e)}else this._announce("plonk")},xi.prototype._addCell=function(e){var t=this.parent();if(t&&t.type==="array"&&Array.isArray(t.array)){var n=this.relation();if(n.startsWith("cell")){var r=Ci(t,parseInt(n.match(/cell([0-9]*)$/)[1]));e==="after row"||e==="before row"?(r.col=0,r.row=r.row+(e==="after row"?1:0),t.array.splice(r.row,0,[[]])):(r.col+=e==="after column"?1:0,t.array[r.row].splice(r.col,0,[]));var i=Ni(t,r);this.selectionWillChange(),this.path.pop(),this.path.push({relation:"cell"+i.toString(),offset:0}),this.insertFirstAtom(),this.selectionDidChange()}}},xi.prototype.addRowAfter_=function(){this._addCell("after row")},xi.prototype.addRowBefore_=function(){this._addCell("before row")},xi.prototype.addColumnAfter_=function(){this._addCell("after column")},xi.prototype.addColumnBefore_=function(){this._addCell("before column")},xi.prototype._applyStyle=function(e){var t=null,n=this.isCollapsed(),r=this.startOffset()===this.anchorOffset()?1:-1;if(!n){var i=this.parent();i&&(i.type==="box"||i.type==="color")&&this.startOffset()<=1&&this.endOffset()===this.siblings().length&&(this.path.pop(),this.setSelection(this.startOffset(),1)),t=this.extractContents();if(t.length===1&&(e.color&&t[0].type==="color"&&t[0].textcolor===e.color||e.backgroundColor&&t[0].type==="box"&&t[0].backgroundcolor===e.backgroundColor)){t=t[0].body,t[0].type==="first"&&t.shift(),Array.prototype.splice.apply(this.siblings(),[this.startOffset(),1].concat(t)),this.setSelection(this.startOffset(),t?t.length:0);return}t=_i(t,e),Array.isArray(t)||(t=[t]),this.siblings().splice(this.startOffset()+1,this.endOffset()-this.startOffset())}if(e.color){var s=new ei.MathAtom(this.parseMode(),"color",t);s.latex="\\textcolor",s.textcolor=e.color,s.skipBoundary=!0,s.body?s.body[0].type!=="first"&&s.body.unshift(new ei.MathAtom(this.parseMode(),"first",null)):s.body=[new ei.MathAtom(this.parseMode(),"first",null)];var o=e.color==="transparent"||e.color==="black"||e.color==="#000"||e.color==="#000000"||this.parent()&&this.parent().type==="color"&&this.parent().textcolor===e.color;if(n&&this.parent()&&this.parent().type==="color"){this.path.pop(),this.setSelection(this.startOffset(),0);if(o)return;this.siblings().splice(this.startOffset()+1,0,s)}else if(!n&&o){if(!this.parent()||this.parent().type!=="color"){t.length>0&&t[0].type==="first"&&t.shift(),Array.prototype.splice.apply(this.siblings(),[this.startOffset(),0].concat(t)),this.setSelection(this.startOffset(),t.length);return}s.textcolor="#000",this.siblings().splice(this.startOffset(),0,s)}else this.siblings().splice(this.startOffset()+(n?1:0),0,s);t=[this.sibling(0)]}if(e.backgroundColor){var u=new ei.MathAtom(this.parseMode(),"box",t);u.latex="\\colorbox",u.backgroundcolor=e.backgroundColor,u.skipBoundary=!0,u.body?u.body[0].type!=="first"&&u.body.unshift(new ei.MathAtom(this.parseMode(),"first",null)):u.body=[new ei.MathAtom(this.parseMode(),"first",null)];if(n&&this.parent()&&this.parent().type==="box"){var a=e.backgroundColor==="transparent"||e.backgroundColor==="white"||e.backgroundColor==="#fff"||e.backgroundColor==="#ffffff"||this.parent().backgroundcolor===e.backgroundColor;this.path.pop(),this.setSelection(this.startOffset(),0);if(a)return;this.siblings().splice(this.startOffset()+1,0,u)}else this.siblings().splice(this.startOffset()+(n?1:0),0,u)}n?(this.setSelection(this.startOffset()+1,0),this.path.push({relation:"body",offset:0}),this.setSelection(0,0),this.insertFirstAtom()):this.setExtent(r)};var Di={EditableMathlist:xi},Pi={Escape:"Esc"," ":"Spacebar",ArrowLeft:"Left",ArrowUp:"Up",ArrowRight:"Right",ArrowDown:"Down",Delete:"Del"},Hi={q:"KeyQ",w:"KeyW",e:"KeyE",r:"KeyR",t:"KeyT",y:"KeyY",u:"KeyU",i:"KeyI",o:"KeyO",p:"KeyP",a:"KeyA",s:"KeyS",d:"KeyD",f:"KeyF",g:"KeyG",h:"KeyH",j:"KeyJ",k:"KeyK",l:"KeyL",z:"KeyZ",x:"KeyX",c:"KeyC",v:"KeyV",b:"KeyB",n:"KeyN",m:"KeyM",1:"Digit1",2:"Digit2",3:"Digit3",4:"Digit4",5:"Digit5",6:"Digit6",7:"Digit7",8:"Digit8",9:"Digit9",0:"Digit0","!":"Shift-Digit1","@":"Shift-Digit2","#":"Shift-Digit3",$:"Shift-Digit4","%":"Shift-Digit5","^":"Shift-Digit6","&":"Shift-Digit7","*":"Shift-Digit8","(":"Shift-Digit9",")":"Shift-Digit0","-":"Minus",_:"Shift-Minus","/":"Slash","\\":"Backslash","|":"Shift-Backslash","?":"Shift-Slash"," ":"Spacebar"},Ri={delegateKeyboardEvents:ji,select:ji.select,keyboardEventToString:Bi,eventToChar:Ii,charToEvent:qi},Xi=function(){function e(t){Ui(this,e),this.mathlist=t,this.stack=[],this.index=-1,this.maximumDepth=1e3}return Wi(e,[{key:"canUndo",value:function(){return this.index>=0}},{key:"canRedo",value:function(){return this.index!==this.stack.length-1}},{key:"undo",value:function(t){this.canUndo()&&(t&&typeof t.onUndoStateWillChange=="function"&&t.onUndoStateWillChange(this.mathlist.target,"undo"),this.restore(this.stack[this.index],t),this.index-=1,t&&typeof t.onUndoStateDidChange=="function"&&t.onUndoStateDidChange(this.mathlist.target,"undo"))}},{key:"redo",value:function(t){this.canRedo()&&(t&&t.onUndoStateWillChange==="function"&&t.onUndoStateWillChange(this.mathlist.target,"redo"),this.index+=1,this.restore(this.stack[this.index],t),t&&typeof t.onUndoStateDidChange=="function"&&t.onUndoStateDidChange(this.mathlist.target,"redo"))}},{key:"snapshot",value:function(t){t&&t.onUndoStateWillChange==="function"&&t.onUndoStateWillChange(this.mathlist.target,"snapshot"),this.stack.splice(this.index+1,this.stack.length-this.index-1),this.stack.push({latex:this.mathlist.root.toLatex(),selection:this.mathlist.toString()}),this.index++,this.stack.length>this.maximumDepth&&this.stack.shift(),t&&typeof t.onUndoStateDidChange=="function"&&t.onUndoStateDidChange(this.mathlist.target,"snapshot")}},{key:"save",value:function(){return{latex:this.mathlist.root.toLatex(),selection:this.mathlist.toString()}}},{key:"restore",value:function(t,n){this.mathlist.insert(t.latex,Object.assign({insertionMode:"replaceAll",selectionMode:"after",format:"latex"},n)),this.mathlist.setPath(t.selection)}}]),e}(),Vi={UndoManager:Xi},$i={Left:"moveToPreviousChar",Right:"moveToNextChar",Up:"moveUp",Down:"moveDown","Shift-Left":"extendToPreviousChar","Shift-Right":"extendToNextChar","Shift-Up":"extendUp","Shift-Down":"extendDown",Backspace:"deletePreviousChar","Alt-Del":"deletePreviousChar",Del:"deleteNextChar","Alt-Backspace":"deleteNextChar","Alt-Left":"moveToPreviousWord","Alt-Right":"moveToNextWord","Alt-Shift-Left":"extendToPreviousWord","Alt-Shift-Right":"extendToNextWord","Ctrl-Left":"moveToGroupStart","Ctrl-Right":"moveToGroupEnd","Ctrl-Shift-Left":"extendToGroupStart","Ctrl-Shift-Right":"extendToGroupEnd",Spacebar:"moveAfterParent","Shift-Spacebar":"moveBeforeParent",Home:"moveToMathFieldStart","mac:Meta-Left":"moveToMathFieldStart","Shift-Home":"extendToMathFieldStart","mac:Meta-Shift-Left":"extendToMathFieldStart",End:"moveToMathFieldEnd","mac:Meta-Right":"moveToMathFieldEnd","Shift-End":"extendToMathFieldEnd","mac:Meta-Shift-Right":"extendToMathFieldEnd",PageUp:"moveToGroupStart",PageDown:"moveToGroupEnd","math:Tab":"moveToNextPlaceholder","math:F8":"moveToNextPlaceholder","math:Shift-Tab":"moveToPreviousPlaceholder","math:Shift-F8":"moveToPreviousPlaceholder","math:Esc":"enterCommandMode","math:Backslash":"enterCommandMode","math:IntlBackslash":"enterCommandMode","command:Spacebar":"complete","command:Esc":"complete","command:Tab":"complete","command:Return":"complete","command:Enter":"complete","command:Shift-Esc":"complete","command:Down":"nextSuggestion","ios:command:Tab":"nextSuggestion","command:Up":"previousSuggestion","!mac:math:Ctrl-KeyA":"selectAll","mac:math:Meta-KeyA":"selectAll",Cut:"cut",Copy:"copy",Paste:"paste",Clear:"delete","!mac:Ctrl-KeyZ":"undo","mac:Meta-KeyZ":"undo",Undo:"undo","!mac:Ctrl-KeyY":"redo","mac:Meta-Shift-KeyY":"redo","!mac:Ctrl-Shift-KeyZ":"redo","mac:Meta-Shift-KeyZ":"redo",Redo:"redo",EraseEof:"deleteToGroupEnd","mac:Ctrl-KeyB":"moveToPreviousChar","mac:Ctrl-KeyF":"moveToNextChar","mac:Ctrl-KeyP":"moveUp","mac:Ctrl-KeyN":"moveDown","mac:Ctrl-KeyA":"moveToMathFieldStart","mac:Ctrl-KeyE":"moveToMathFieldEnd","mac:Ctrl-Shift-KeyB":"extendToPreviousChar","mac:Ctrl-Shift-KeyF":"extendToNextChar","mac:Ctrl-Shift-KeyP":"extendUp","mac:Ctrl-Shift-KeyN":"extendDown","mac:Ctrl-Shift-KeyA":"extendToMathFieldStart","mac:Ctrl-Shift-KeyE":"extendToMathFieldEnd","mac:Ctrl-Alt-KeyB":"moveToPreviousWord","mac:Ctrl-Alt-KeyF":"moveToNextWord","mac:Ctrl-Shift-Alt-KeyB":"extendToPreviousWord","mac:Ctrl-Shift-Alt-KeyF":"extendToNextWord","mac:Ctrl-KeyH":"deletePreviousChar","mac:Ctrl-KeyD":"deleteNextChar","mac:Ctrl-KeyL":"scrollIntoView","mac:Ctrl-KeyT":"transpose","math:Ctrl-Digit2":["insert","\\sqrt{#0}"],"math:Ctrl-Digit5":"moveToOpposite","math:Ctrl-Digit6":"moveToSuperscript","math:Ctrl-Minus":"moveToSubscript","math:Alt-BracketLeft":["insert","\\left[ #0 \\right]"],"math:Alt-Shift-BracketLeft":["insert","\\left{ #0 \\right}"],"math:Ctrl-Enter":"addRowAfter","math:Ctrl-Comma":"addColumnAfter","math:Alt-KeyQ":["insert","\\theta"],"math:Alt-KeyP":["insert","\\pi"],"math:Alt-KeyV":["insert","\\sqrt{#0}"],"math:Alt-KeyW":["insert","\\sum_{i=#?}^{#?}"],"math:Alt-KeyB":["insert","\\int_{#?}^{#?}"],"math:Alt-KeyU":["insert","\\cup"],"math:Alt-KeyN":["insert","\\cap"],"math:Alt-KeyO":["insert","\\emptyset"],"math:Alt-KeyD":["insert","\\differentialD"],"math:Alt-Shift-KeyO":["insert","\\varnothing"],"math:Alt-Shift-KeyD":["insert","\\partial"],"math:Alt-Shift-KeyP":["insert","\\prod_{i=#?}^{#?}"],"math:Alt-Shift-KeyU":["insert","\\bigcup"],"math:Alt-Shift-KeyN":["insert","\\bigcap"],"math:Alt-Shift-KeyA":["insert","\\forall"],"math:Alt-Shift-KeyE":["insert","\\exists"],"math:Alt-Digit5":["insert","\\infty"],"math:Alt-Digit6":["insert","\\wedge"],"math:Alt-Shift-Digit6":["insert","\\vee"],"math:Alt-Digit9":["insert","("],"math:Alt-Digit0":["insert",")"],"math:Slash":["insert","\\frac{#@}{#?}"],"math:Alt-Slash":["insert","\\frac{#?}{#@}"],"math:NumpadDivide":["insert","\\frac{#@}{#?}"],"math:Alt-NumpadDivide":["insert","\\frac{#?}{#@}"],"math:Shift-Backquote":["insert","\\~"],"math:Alt-Shift-Slash":["insert","\\/"],"Alt-Shift-KeyK":"toggleKeystrokeCaption","Alt-Space":"toggleVirtualKeyboard","mac:Ctrl-Meta-Up":"speakParent","!mac:Ctrl-Alt-Up":"speakParent","mac:Ctrl-Meta-Down":"speakGroup","!mac:Ctrl-Alt-Down":"speakGroup","mac:Ctrl-Meta-Left":"speakLeftSibling","!mac:Ctrl-Alt-Left":"speakLeftSibling","mac:Ctrl-Meta-Right":"speakRightSibling","!mac:Ctrl-Alt-Right":"speakRightSibling","mac:Ctrl-Meta-Shift-Down":"speakAllWithSynchronizedHighlighting","!mac:Ctrl-Alt-Shift-Down":"speakAllWithSynchronizedHighlighting"},Ji={"\\theta":"Alt-KeyQ","\\sqrt":["Alt-KeyV","Ctrl-Digit2"],"\\pi":"Alt-KeyP","\\prod":"Alt-Shift-KeyP","\\sum":"Alt-KeyW","\\int":"Alt-KeyB","\\cup":"Alt-KeyU","\\cap":"Alt-KeyN","\\bigcup":"Alt-Shift-KeyU","\\bigcap":"Alt-Shift-KeyN","\\forall":"Alt-Shift-KeyA","\\exists":"Alt-Shift-KeyE","\\infty":"Alt-Digit5","\\wedge":"Alt-Digit5","\\vee":"Alt-Shift-Digit6","\\differentialD":"Alt-keyD","\\partial":"Alt-Shift-KeyD","\\frac":"Slash","\\emptyset":"Alt-KeyO","\\varnothing":"Alt-Shift-KeyO","\\~":"~"},Ki={alpha:"\\alpha",delta:"\\delta",Delta:"\\Delta",pi:"\\pi","π":"\\pi",Pi:"\\Pi",theta:"\\theta",Theta:"\\Theta",ii:"\\imaginaryI",jj:"\\imaginaryJ",ee:"\\exponentialE",nabla:"\\nabla",grad:"\\nabla",del:"\\partial","∞":"\\infty",oo:"\\infty","∑":"\\sum",sum:"\\sum_{#?}^{#?}",prod:"\\prod_{#?}^{#?}",sqrt:"\\sqrt","∫":"\\int","∆":"\\differentialD","∂":"\\differentialD",sin:"\\sin",cos:"\\cos",tan:"\\tan",tanh:"\\tanh",log:"\\log",ln:"\\ln",exp:"\\exp",lim:"\\lim_{#?}",AA:"\\forall",EE:"\\exists","!EE":"\\nexists","&&":"\\land","in":"\\in","!in":"\\notin",NN:"\\N",ZZ:"\\Z",QQ:"\\Q",RR:"\\R",CC:"\\C",PP:"\\P",xx:"\\times","+-":"\\pm","!=":"\\ne",">=":"\\ge","<=":"\\le","<<":"\\ll",">>":"\\gg","~~":"\\approx","≈":"\\approx","?=":"\\questeq","÷":"\\div","¬":"\\neg",":=":"\\coloneq","::":"\\Colon","(:":"\\langle",":)":"\\rangle",beta:"\\beta",chi:"\\chi",epsilon:"\\epsilon",varepsilon:"\\varepsilon",eta:"\\eta",gamma:"\\gamma",Gamma:"\\Gamma",iota:"\\iota",kappa:"\\kappa",lambda:"\\lambda",Lambda:"\\Lambda",mu:"\\mu",nu:"\\nu","µ":"\\mu",phi:"\\phi",Phi:"\\Phi",varphi:"\\varphi",psi:"\\psi",Psi:"\\Psi",rho:"\\rho",sigma:"\\sigma",Sigma:"\\Sigma",tau:"\\tau",vartheta:"\\vartheta",upsilon:"\\upsilon",xi:"\\xi",Xi:"\\Xi",zeta:"\\zeta",omega:"\\omega",Omega:"\\Omega","Ω":"\\omega",forall:"\\forall",exists:"\\exists","!exists":"\\nexists",":.":"\\therefore",liminf:"\\mathop{lim~inf}\\limits_{#?}",limsup:"\\mathop{lim~sup}\\limits_{#?}",argmin:"\\mathop{arg~min}\\limits_{#?}",argmax:"\\mathop{arg~max}\\limits_{#?}",det:"\\det",mod:"\\mod",max:"\\max",min:"\\min",erf:"\\mathop{erf}",erfc:"\\mathop{erfc}",bessel:"\\mathop{bessel}",mean:"\\mathop{mean}",median:"\\mathop{median}",fft:"\\mathop{fft}",lcm:"\\mathop{lcm}",gcd:"\\mathop{gcd}",randomReal:"\\mathop{randomReal}",randomInteger:"\\mathop{randomInteger}",mm:"\\mathop{mm}",cm:"\\mathop{cm}",km:"\\mathop{km}",kg:"\\mathop{kg}","...":"\\ldots","+...":"+\\cdots","-...":"-\\cdots","->...":"\\to\\cdots","->":"\\to","|->":"\\mapsto","-->":"\\longrightarrow","<--":"\\longleftarrow","=>":"\\Rightarrow","==>":"\\Longrightarrow","<=>":"\\Leftrightarrow","<->":"\\leftrightarrow","(.)":"\\odot","(+)":"\\oplus","(/)":"\\oslash","(*)":"\\otimes","(-)":"\\ominus","||":"\\Vert","{":"\\{","}":"\\}"},rs={KEYBOARD_SHORTCUTS:$i,INLINE_SHORTCUTS:Ki,stringify:ns,startsWithString:Qi,forString:Gi,selectorForKeystroke:Zi,forCommand:ts},is={"\\mathrm":"\\mathrm{x=+3.14, x\\in A}","\\mathbf":"\\mathbf{x=+3.14, x\\in A}","\\bf":"\\bf{x=+3.14, x\\in A}","\\bm":"\\bm{x=+3.14, x\\in A}","\\bold":"\\bold{x=+3.14, x\\in A}","\\mathit":"\\mathbb{x=+3.14}","\\mathbb":"\\mathbb{ABCD}","\\Bbb":"\\mathbb{ABCD}","\\frak":"\\frak{ABCD}","\\mathfrak":"\\mathfrak{ABCD}","\\mathscr":"\\mathscr{ABCD}","\\mathsf":"\\mathsf{ABab01}","\\mathtt":"\\mathtt{x=+3.14, x\\in A}","\\mathcal":"\\mathcal{ABCD}","\\boldsymbol":"\\boldsymbol{ABab01+=}","\\text":"\\text{ABC abc}","\\textrm":"\\textrm{ABC abc}","\\textnormal":"\\textnormal{ABC abc}","\\textit":"\\textit{ABC abc}","\\textbf":"\\textbf{ABC abc}","\\texttt":"\\texttt{ABC abc}","\\textsf":"\\textsf{ABC abc}","\\textcolor":"{\\textcolor{m0}A}{\\textcolor{m1}B}{\\textcolor{m2}C }{\\textcolor{m3}a}{\\textcolor{m4}b}{\\textcolor{m5}c}{\\textcolor{m6}8}","\\color":"{\\color{m0}A}{\\color{m1}B}{\\color{m2}C}{\\color{m3}a}{\\color{m4}b}{\\color{m5}c}{\\color{m6}8}","\\underline":'\\underline{\\unicode{"2B1A}}',"\\overline":'\\overline{\\unicode{"2B1A}}',"\\vec":'\\vec{\\unicode{"25CC}}',"\\check":'\\check{\\unicode{"25CC}}',"\\acute":'\\acute{\\unicode{"25CC}}',"\\breve":'\\breve{\\unicode{"25CC}}',"\\tilde":'\\tilde{\\unicode{"25CC}}',"\\hat":'\\hat{\\unicode{"25CC}}',"\\ddot":'\\ddot{\\unicode{"25CC}}',"\\dot":'\\dot{\\unicode{"25CC}}',"\\bar":'\\bar{\\unicode{"25CC}}',"\\!":'\\unicode{"203A}\\!\\unicode{"2039}',"\\,":'\\unicode{"203A}\\,\\unicode{"2039}',"\\:":'\\unicode{"203A}\\:\\unicode{"2039}',"\\;":'\\unicode{"203A}\\;\\unicode{"2039}',"\\quad":'\\unicode{"203A}\\quad\\unicode{"2039}',"\\qquad":'\\unicode{"203A}\\qquad\\unicode{"2039}',"\\enskip":'\\unicode{"203A}\\enskip\\unicode{"2039}',"\\space":'\\unicode{"203A}\\space\\unicode{"2039}',"\\frac":'\\frac{\\unicode{"2B1A}}{\\unicode{"2B1A}}',"\\dfrac":'\\dfrac{\\unicode{"2B1A}}{\\unicode{"2B1A}}',"\\cfrac":'\\cfrac{\\unicode{"2B1A}}{\\unicode{"2B1A}}',"\\tfrac":'\\tfrac{\\unicode{"2B1A}}{\\unicode{"2B1A}}',"\\dbinom":'\\dbinom{\\unicode{"2B1A}}{\\unicode{"2B1A}}',"\\tbinom":'\\tbinom{\\unicode{"2B1A}}{\\unicode{"2B1A}}',"\\binom":'\\binom{\\unicode{"2B1A}}{\\unicode{"2B1A}}',"\\pdiff":'\\pdiff{\\unicode{"2B1A}}{\\unicode{"2B1A}}',"\\in":"n\\in\\N","\\notin":"n\\notin\\N","\\not":"B \\not A","\\ni":"N\\in n","\\owns":"N\\owns n","\\subset":"A\\subset B","\\supset":"B\\supset A","\\subseteq":"A\\subseteq B","\\supseteq":"B\\supseteq A","\\nsubseteq":"A\\nsubseteq B","\\nsupseteq":"B\\nsupseteq A","\\subsetneq":"A\\subsetneq B","\\supsetneq":"B\\supsetneq A","\\varsubsetneq":"A\\varsubsetneq B","\\varsupsetneq":"B\\varsupsetneq A","\\nsubseteqq":"A\\varsupsetneq B","\\subsetneqq":"A\\subsetneqq B","\\varsubsetneqq":"A\\varsubsetneqq B","\\nsubset":"A\\nsubset B","\\nsupset":"B\\nsupset A","\\complement":"A^\\complement","\\bigcup":'\\bigcup_{\\unicode{"2B1A}}',"\\bigcap":'\\bigcap_{\\unicode{"2B1A}}',"\\sqrt":'\\sqrt{\\unicode{"2B1A}}',"\\prod":'\\prod_{\\unicode{"2B1A}}^{\\unicode{"2B1A}}',"\\sum":'\\sum_{\\unicode{"2B1A}}^{\\unicode{"2B1A}}',"\\int":'\\int_{\\unicode{"2B1A}}^{\\unicode{"2B1A}}',"\\stackrel":'\\stackrel{\\unicode{"2B1A}}{\\unicode{"2B1A}}',"\\stackbin":'\\stackbin{\\unicode{"2B1A}}{\\unicode{"2B1A}}',"\\underset":'\\underset{\\unicode{"2B1A}}{\\unicode{"2B1A}}',"\\overset":'\\overset{\\unicode{"2B1A}}{\\unicode{"2B1A}}',"\\prime":'\\unicode{"2B1A}^{\\prime}',"\\boxed":'\\boxed{\\unicode{"2B1A}}',"\\colorbox":'\\colorbox{#fbc0bd}{\\unicode{"2B1A}}',"\\bbox":'\\bbox[#ffd400, solid 2px #ffd400]{\\unicode{"2B1A}}',"\\enclose":'\\enclose{updiagonalstrike,roundedbox}[1px solid red, mathbackground="#fbc0bd"]{23+45}',"\\fcolorbox":'\\fcolorbox{#cd0030}{#ffd400}{\\unicode{"2B1A}}',"\\ ":'\\char"2423',"\\top":"{\\color{red}P}\\top","\\bot":"{\\color{#0F0}P}\\bot","\\mid":"P(p\\mid q)","\\rlap":"\\rlap{x}o","\\llap":"o\\llap{/}"},ss={"\\text":"roman text","\\textrm":"roman text","\\textnormal":"roman text","\\textit":"italic text","\\textbf":"bold text","\\texttt":"monospaced text","\\textsf":"sans-serif text","\\mathrm":["roman","(upright)"],"\\mathbf":"bold","\\bf":"bold","\\bold":"bold","\\mathit":"italic","\\mathbb":"blackboard","\\Bbb":"blackboard","\\mathscr":"script","\\mathtt":["typewriter","(monospaced)"],"\\mathsf":"sans-serif","\\mathcal":"caligraphic","\\frak":["fraktur","(gothic)"],"\\mathfrak":["fraktur","(gothic)"],"\\textcolor":"text color","\\color":"color","\\forall":"for all","\\exists":"there exists","\\nexists":"there does not exist","\\frac":"fraction","\\dfrac":"display fraction","\\cfrac":"continuous fraction","\\tfrac":"text fraction","\\binom":"binomial coefficient","\\dbinom":"display binomial coefficient","\\tbinom":"text binomial coefficient","\\pdiff":"partial differential","\\vec":"vector","\\check":"caron","\\acute":"acute","\\breve":"breve","\\tilde":"tilde","\\dot":"dot","\\hat":["hat","circumflex"],"\\ddot":"double dot","\\bar":"bar","\\prime":"prime","\\varnothing":"empty set","\\emptyset":"empty set","\\subseteq":"subset of or <br>equal to","\\supseteq":"superset of or <br>equal to","\\supset":"superset of","\\subset":"subset of","\\partial":"partial derivative","\\bigcup":"union","\\bigcap":"intersection","\\approx":"approximately equal to","\\notin":"not an element of","\\in":["element of","included in"],"\\infty":"infinity","\\land":"logical and","\\sqrt":"square root","\\prod":"product","\\sum":"summation","\\amalg":["amalgamation","coproduct","free product","disjoint union"],"\\cup":"union with","\\cap":"intersection with","\\int":"integral","\\iint":"surface integral","\\oint":"curve integral","\\iiint":"volume integral","\\iff":"if and only if","\\ln":"natural logarithm","\\boldsymbol":"bold","\\setminus":"set substraction","\\stackrel":"relation with symbol above","\\stackbin":"operator with symbol above","\\underset":"symbol with annotation below","\\overset":"symbol with annotation above","\\hslash":["h-bar","Planck constant"],"\\gtrsim":"greater than or <br>similar to","\\propto":"proportional to","\\equiv":"equivalent to","\\!":["negative thin space","(-3 mu)"],"\\ ":["space","(6 mu)"],"\\,":["thin space","(3 mu)"],"\\:":["medium space","(4 mu)"],"\\;":["thick space","(5 mu)"],"\\quad":["1 em space","(18 mu)"],"\\qquad":["2 em space","(36 mu)"],"\\enskip":["&#189; em space","(9 mu)"],"\\mp":"minus or plus","\\pm":"plus or minus","\\Im":"Imaginary part of","\\Re":"Real part of","\\gothicCapitalR":"Real part of","\\gothicCapitalI":"Imaginary part part of","\\differentialD":"differential d","\\aleph":["aleph","infinite cardinal",'<a target="_blank" href="https://en.wikipedia.org/wiki/Cardinal_number">Wikipedia <big>&#x203A;</big></a>'],"\\beth":["beth","beth number",'<a target="_blank" href="https://en.wikipedia.org/wiki/Beth_number">Wikipedia <big>&#x203A;</big></a>'],"\\gimel":["gimel","gimel function",'<a target="_blank" href="https://en.wikipedia.org/wiki/Gimel_function">Wikipedia <big>&#x203A;</big></a>'],"\\O":"empty set","\\N":"set of <br>natural numbers","\\Z":"set of <br>integers","\\Q":"set of <br>rational numbers","\\C":"set of <br>complex numbers","\\R":"set of <br>real numbers","\\P":"set of <br>prime numbers","\\lesseqqgtr":"less than, equal to or<br> greater than","\\gnapprox":"greater than and <br>not approximately","\\lnapprox":"lesser than and <br>not approximately","\\j":"dotless j","\\i":"dotless i","\\cdot":"centered dot","\\lmoustache":"left moustache","\\rmoustache":"right moustache","\\nabla":["nabla","del","differential vector operator"],"\\square":["square","d’Alembert operator",'<a target="_blank" href="https://en.wikipedia.org/wiki/D%27Alembert_operator">Wikipedia <big>&#x203A;</big></a>'],"\\blacksquare":["black square","end of proof","tombstone","Halmos symbol"],"\\Box":"end of proof","\\colon":["such that","ratio"],"\\coloneq":["is defined by","is assigned"],"\\Colon":["is defined by","as"],"\\_":["underbar","underscore"],"\\ll":"much less than","\\gg":"much greater than","\\doteq":"approximately equal to","\\Doteq":"approximately equal to","\\doteqdot":"approximately equal to","\\cong":["isomorphism of","(for algebras, modules...)"],"\\det":["determinant of","(of a matrix)"],"\\dotplus":"Cartesian product algebra","\\otimes":["tensor product","(of algebras)","Kronecker product","(of matrices)"],"\\oplus":["direct sum","(of modules)"],"\\lb":"base-2 logarithm","\\lg":"base-10 logarithm","\\wp":["Weierstrass P",'<a target="_blank" href="https://en.wikipedia.org/wiki/Weierstrass%27s_elliptic_functions">Wikipedia <big>&#x203A;</big></a>'],"\\wr":["wreath product",'<a target="_blank" href="https://en.wikipedia.org/wiki/Wreath_product">Wikipedia <big>&#x203A;</big></a>'],"\\top":["tautology","Proposition P is universally true"],"\\bot":["contradiction","Proposition P is contradictory"],"\\mid":["probability","of event A given B"],"\\mho":["Siemens","electrical conductance in SI unit",'<a target="_blank" href="https://en.wikipedia.org/wiki/Siemens_(unit)">Wikipedia <big>&#x203A;</big></a>'],"\\Longrightarrow":"implies","\\Longleftrightarrow":"if, and only if,","\\prec":"precedes","\\preceq":"precedes or is equal to","\\succ":"succeedes","\\succeq":"succeedes or is equal to","\\perp":["is perpendicular to","is independent of"],"\\models":["entails","double-turnstyle, models","is a semantic consequence of",'<a target="_blank" href="https://en.wikipedia.org/wiki/Double_turnstile">Wikipedia <big>&#x203A;</big></a>'],"\\vdash":["satisfies","turnstyle, assertion sign","syntactic inference",'<a target="_blank" href="https://en.wikipedia.org/wiki/Turnstile_(symbol)">Wikipedia <big>&#x203A;</big></a>'],"\\implies":["implies","logical consequence"],"\\impliedby":["implied by","logical consequence"],"\\surd":["surd","root of","checkmark"],"\\ltimes":["semi direct product",'<a target="_blank" href="https://en.wikipedia.org/wiki/Semidirect_product">Wikipedia <big>&#x203A;</big></a>'],"\\rtimes":["semi direct product",'<a target="_blank" href="https://en.wikipedia.org/wiki/Semidirect_product">Wikipedia <big>&#x203A;</big></a>'],"\\leftthreetimes":["semi direct product",'<a target="_blank" href="https://en.wikipedia.org/wiki/Semidirect_product">Wikipedia <big>&#x203A;</big></a>'],"\\rightthreetimes":["semi direct product",'<a target="_blank" href="https://en.wikipedia.org/wiki/Semidirect_product">Wikipedia <big>&#x203A;</big></a>'],"\\divideontimes":["divide on times"],"\\curlywedge":"nor","\\curlyvee":"nand","\\simeq":"is group isomorphic with","\\vartriangleleft":["is a normal subgroup of","is an ideal ring of"],"\\circ":["circle","ring","function composition"],"\\rlap":["overlap right","\\rlap{x}o"],"\\llap":["overlap left","o\\llap{/}"],"\\colorbox":["color box","\\colorbox{#fbc0bd}{...}"],"\\ast":["asterisk","reflexive closure (as a superscript)"],"\\bullet":"bullet","\\lim":"limit"},hs={getNote:os,SAMPLES:is,NOTES:ss,showPopoverWithLatex:as,showPopover:ls,hidePopover:cs,updatePopoverPosition:fs};ei.MathAtom.prototype.toLatex=function(e){e=e===undefined?!1:e;var t="",n,r=0,i=0,s=this.latex?this.latex.trim():null;switch(this.type){case"group":t+=this.latexOpen||"{",t+=e?ps(this.body,!0):this.latex||ps(this.body,!1),t+=this.latexClose||"}";break;case"array":t+="\\begin{"+this.env.name+"}";if(this.env.name==="array"){t+="{";if(this.colFormat)for(i=0;i<this.colFormat.length;i++)this.colFormat[i].align?t+=this.colFormat[i].align:this.colFormat[i].rule&&(t+="|");t+="}"}for(r=0;r<this.array.length;r++){for(n=0;n<this.array[r].length;n++)n>0&&(t+=" & "),t+=ps(this.array[r][n],e);r<this.array.length-1&&(t+=" \\\\ ")}t+="\\end{"+this.env.name+"}";break;case"root":t=ps(this.body,e);break;case"genfrac":/^(choose|atop|over)$/.test(this.body)?(t+="{",t+=ps(this.numer,e),t+="\\"+this.body+" ",t+=ps(this.denom,e),t+="}"):(t+=this.latex,t+="{".concat(ps(this.numer,e),"}{").concat(ps(this.denom,e),"}"));break;case"surd":t+="\\sqrt",this.index&&(t+="[",t+=ps(this.index,e),t+="]"),t+="{".concat(ps(this.body,e),"}");break;case"leftright":this.inner?(t+="\\left"+(this.leftDelim||"."),this.leftDelim&&this.leftDelim.length>1&&(t+=" "),t+=ps(this.body,e),t+="\\right"+(this.rightDelim||"."),this.rightDelim&&this.rightDelim.length>1&&(t+=" ")):(t+=this.leftDelim||"",this.leftDelim&&this.leftDelim.length>1&&(t+=" "),t+=ps(this.body,e),t+=this.rightDelim==="?"||this.rightDelim==="."?"":this.rightDelim,this.rightDelim&&this.rightDelim.length>1&&(t+=" "));break;case"delim":case"sizeddelim":t+=s+"{"+this.delim+"}";break;case"rule":t+=s,this.shift&&(t+="[".concat(ps(this.shift,e),"em]")),t+="{".concat(ps(this.width,e),"em}{").concat(ps(this.height,e),"em}");break;case"line":case"overlap":case"font":case"accent":t+="".concat(s,"{").concat(ps(this.body,e),"}");break;case"overunder":t+="".concat(s,"{").concat(ps(this.overscript||this.underscript,e),"}{").concat(ps(this.body,e),"}");break;case"mord":case"minner":case"mbin":case"mrel":case"mpunct":case"mopen":case"mclose":case"textord":if(s==="\\mathbin"||s==="\\mathrel"||s==="\\mathopen"||s==="\\mathclose"||s==="\\mathpunct"||s==="\\mathord"||s==="\\mathinner")t+=s+"{"+ps(this.body,e)+"}";else if(s==="\\unicode")t+='\\unicode{"',t+=("000000"+this.body.charCodeAt(0).toString(16)).toUpperCase().substr(-6),t+="}";else if(this.latex||typeof this.body=="string")this.latex&&this.latex[0]==="\\"?t+=this.latex+" ":this.latex?t+=this.latex:t+=this.body!=="​"?this.body:"";break;case"mop":this.body!=="​"&&(s==="\\mathop"||s==="\\operatorname"?t+=s+"{"+ps(this.body,e)+"}":t+=this.latex||this.body),this.explicitLimits&&(this.limits==="limits"&&(t+="\\limits "),this.limits==="nolimits"&&(t+="\\nolimits "));break;case"color":t+=s,this.color?t+="{".concat(this.color,"}"):this.textcolor&&(t+="{"+this.textcolor+"}{"+ps(this.body,e)+"}");break;case"box":if(s==="\\bbox"){t+=s;if(this.padding||this.border||this.backgroundcolor){var o=ps(this.padding,e);this.border&&(o&&(o+=","),o+="border:"+ps(this.border,e)),this.backgroundcolor&&(o&&(o+=","),o+=ps(this.backgroundcolor,e)),t+="[".concat(o,"]")}t+="{".concat(ps(this.body,e),"}")}else s==="\\boxed"?t+="\\boxed{".concat(ps(this.body,e),"}"):(t+=s,this.framecolor&&(t+="{".concat(ps(this.framecolor,e),"}")),this.backgroundcolor&&(t+="{".concat(ps(this.backgroundcolor,e),"}")),t+="{".concat(ps(this.body,e),"}"));break;case"spacing":t+=s,this.width?t+="{".concat(ps(this.width,e),"}"):t+=" ";break;case"enclose":t+=s;if(s==="\\enclose"){t+="{";var u="";for(var a in this.notation)this.notation.hasOwnProperty(a)&&this.notation[a]&&(t+=u+a,u=" ");t+="}";var f="";u="",this.backgroundcolor&&this.backgroundcolor!=="transparent"&&(f+=u+'mathbackground="'+this.backgroundcolor+'"',u=","),this.shadow&&this.shadow!=="auto"&&(f+=u+'shadow="'+this.shadow+'"',u=","),this.strokeWidth!==1||this.strokeStyle!=="solid"?(f+=u+this.borderStyle,u=","):this.strokeColor&&this.strokeColor!=="currentColor"&&(f+=u+'mathcolor="'+this.strokeColor+'"',u=","),f&&(t+="[".concat(f,"]"))}t+="{".concat(ps(this.body,e),"}");break;case"mathstyle":t+="\\"+this.mathstyle+" ";break;case"sizing":t={size1:"\\tiny ",size2:"\\scriptsize ",size3:"\\footnotesize ",size4:"\\small ",size5:"\\normalsize ",size6:"\\large ",size7:"\\Large ",size8:"\\LARGE ",size9:"\\huge ",size10:"\\Huge "}[this.size]||"";break;case"space":t+=this.latex;break;case"placeholder":t+="\\placeholder{"+(this.value||"")+"}";break;case"first":case"command":case"msubsup":break;case"error":t+=this.latex;break;default:console.log('unknown atom type "'+this.type+'"')}if(this.superscript){var l=ps(this.superscript,e);l.length===1?t+="^"+l:t+="^{"+l+"}"}if(this.subscript){var c=ps(this.subscript,e);c.length===1?t+="_"+c:t+="_{"+c+"}"}return t};var ds={},ms={numeric:{tooltip:"Numeric",layer:"math",label:"123",layers:["math"]},roman:{tooltip:"Symbols and Roman Letters",layer:"lower-roman",label:"ABC",layers:["lower-roman","upper-roman","symbols"]},greek:{tooltip:"Greek Letters",layer:"lower-greek",label:"&alpha;&beta;&gamma;",classes:"tex-math",layers:["lower-greek","upper-greek"]},functions:{tooltip:"Functions",layer:"functions",label:"<i>f</i>&thinsp;()",classes:"tex",layers:["functions"]},command:{tooltip:"LaTeX Command Mode",command:"enterCommandMode",label:"<svg><use xlink:href='#svg-command' /></svg>",layers:["lower-command","upper-command","symbols-command"]}},gs={"\\varphi ":{label:"&Phi;",insert:"\\Phi "},"\\varsigma ":{label:"&Sigma;",insert:"\\Sigma "},"\\epsilon ":{label:"&#x0190;",insert:'{\\char"0190}'},"\\rho ":{label:"&#x3A1",insert:'{\\char"3A1}'},"\\tau ":{label:"&#x3A4;",insert:'{\\char"3A4}'},"\\upsilon ":{label:"&Upsilon;",insert:"\\Upsilon "},"\\theta ":{label:"&Theta;",insert:"\\Theta "},"\\iota ":{label:"&Iota;",insert:'{\\char"399}'},"\\omicron ":{label:"&#x039F;",insert:'{\\char"39F}'},"\\pi ":{label:"&Pi;",insert:"\\Pi "},"\\alpha ":{label:"&Alpha;",insert:'{\\char"391}'},"\\sigma ":{label:"&Sigma;",insert:"\\Sigma "},"\\delta ":{label:"&Delta;",insert:"\\Delta "},"\\phi ":{label:"&#x03a6;",insert:"\\Phi "},"\\gamma ":{label:"&Gamma;",insert:"\\Gamma "},"\\eta ":{label:"&Eta;",insert:'{\\char"397}'},"\\xi ":{label:"&Xi;",insert:"\\Xi "},"\\kappa ":{label:"&Kappa;",insert:'{\\char"39A}'},"\\lambda ":{label:"&Lambda;",insert:"\\Lambda "},"\\zeta ":{label:"&Zeta;",insert:'{\\char"396}'},"\\chi ":{label:"&Chi;",insert:'{\\char"3A7}'},"\\psi ":{label:"&Psi;",insert:"\\Psi "},"\\omega ":{label:"&Omega;",insert:"\\Omega "},"\\beta ":{label:"&Beta;",insert:'{\\char"392}'},"\\nu ":{label:"&Nu;",insert:'{\\char"39D}'},"\\mu ":{label:"&Mu;",insert:'{\\char"39C}'}},ys={0:["\\emptyset","\\varnothing","\\infty",{latex:"#?_0",insert:"#@_0"},"\\circ","\\bigcirc","\\bullet"],2:["\\frac{1}{2}",{latex:"#?^2",insert:"#@^2"}],3:["\\frac{1}{3}",{latex:"#?^3",insert:"#@^3"}],".":[",",";","\\colon",{latex:":",aside:"ratio"},{latex:"\\cdotp",aside:"center dot",classes:"box"},{latex:"\\cdots",aside:"center ellipsis",classes:"box"},{latex:"\\ldotp",aside:"low dot",classes:"box"},{latex:"\\ldots",aside:"low ellipsis",classes:"box"},{latex:"\\vdots",aside:"",classes:"box"},{latex:"\\ddots",aside:"",classes:"box"},"\\odot","\\oslash","\\circledcirc"],"*":["\\cdot","\\ast","\\star","\\bigstar","\\ltimes","\\rtimes","\\rightthreetimes","\\leftthreetimes","\\intercal","\\prod",{latex:"\\prod_{n\\mathop=0}^{\\infty}",classes:"small"}],"+":["\\pm","\\mp","\\sum",{latex:"\\sum_{n\\mathop=0}^{\\infty}",classes:"small"},"\\dotplus","\\oplus"],"-":["\\pm","\\mp","\\ominus","\\vert #0  \\vert"],"/":["\\divideontimes","/","\\div"],"(":["\\left( #0\\right)","\\left[ #0\\right]","\\left\\{ #0\\right\\}","\\left\\langle #0\\right\\rangle","\\lfloor","\\llcorner","(","\\lbrack","\\lvert","\\lVert","\\lgroup","\\langle","\\lceil","\\ulcorner","\\lmoustache","\\lbrace"],")":["\\rfloor","\\lrcorner",")","\\rbrack","\\rvert","\\rVert","\\rgroup","\\rangle","\\rceil","\\urcorner","\\rmoustache","\\rbrace"],"=":["\\cong","\\asymp","\\equiv","\\differencedelta","\\varpropto","\\thickapprox","\\approxeq","\\thicksim","\\backsim","\\eqsim","\\simeq","\\Bumpeq","\\bumpeq","\\doteq","\\Doteq","\\fallingdotseq","\\risingdotseq","\\coloneq","\\eqcirc","\\circeq","\\triangleq","\\between"],"!=":["\\neq","\\ncong","","\\nsim"],"<":["\\leq","\\leqq","\\lneqq","\\ll","\\nless","\\nleq","\\precsim","\\lesssim","\\lessgtr","\\prec","\\preccurlyeq","\\lessdot","\\nprec"],">":["\\geq","\\geqq","\\gneqq","\\gg","\\ngtr","\\ngeq","\\succsim","\\gtrsim","\\gtrless","\\succ","\\succcurlyeq","\\gtrdot","\\nsucc"],set:["\\in","\\owns","\\subset","\\nsubset","\\supset","\\nsupset"],"!set":["\\notin","\\backepsilon"],subset:[],supset:[],infinity:["\\aleph_0","\\aleph_1","\\omega","\\mathfrak{m}"],"numeric-pi":["\\prod","\\theta","\\rho","\\sin","\\cos","\\tan"],ee:["\\times 10^{#?}","\\ln","\\ln_{10}","\\log"],"^":["_{#?}"],"int":[{latex:"\\int_{#?}^{#?}",classes:"small"},{latex:"\\int",classes:"small"},{latex:"\\smallint",classes:"small"},{latex:"\\iint",classes:"small"},{latex:"\\iiint",classes:"small"},{latex:"\\oint",classes:"small"},{latex:"\\dfrac{\\rd}{\\rd x}",classes:"small"},{latex:"\\frac{\\partial}{\\partial x}",classes:"small"},"\\capitalDifferentialD","\\rd","\\partial"],nabla:["\\nabla\\times","\\nabla\\cdot","\\nabla^{2}"],"!":["!!","\\Gamma","\\Pi"],accents:["\\bar{#@}","\\vec{#@}","\\hat{#@}","\\check{#@}","\\dot{#@}","\\ddot{#@}","\\mathring{#@}","\\breve{#@}","\\acute{#@}","\\tilde{#@}","\\grave{#@}"],A:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"}],a:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"}],b:[{latex:"\\beth",aside:"beth"}],B:[{latex:"\\beth",aside:"beth"}],c:[{latex:"\\C",aside:"set of complex numbers"}],d:[{latex:"\\daleth",aside:"daleth"}],D:[{latex:"\\daleth",aside:"daleth"}],e:[{latex:"\\exponentialE",aside:"exponential e"},{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isn’t"}],g:[{latex:"\\gimel",aside:"gimel"}],G:[{latex:"\\gimel",aside:"gimel"}],h:[{latex:"\\hbar",aside:"h bar"},{latex:"\\hslash",aside:"h slash"}],i:[{latex:"\\imaginaryI",aside:"imaginary i"}],j:[{latex:"\\imaginaryJ",aside:"imaginary j"}],l:[{latex:"\\ell",aside:"ell"}],n:[{latex:"\\N",aside:"set of natural numbers"}],p:[{latex:"\\P",aside:"set of primes"}],q:[{latex:"\\Q",aside:"set of rational numbers"}],r:[{latex:"\\R",aside:"set of real numbers"}],z:[{latex:"\\Z",aside:"set of integers"}],"x-var":["y","z","t","r",{latex:"f(#?)",classes:"small"},{latex:"g(#?)",classes:"small"},"x^2","x^n","x_n","x_{n+1}","x_i","x_{i+1}"],"n-var":["i","j","p","k","a","u"],ii:["\\Re","\\Im","\\imaginaryJ","\\Vert #0 \\Vert"],logic:[{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isn’t"},{latex:"\\ni",aside:"such that"},{latex:"\\Colon",aside:"such that"},{latex:"\\implies",aside:"implies"},{latex:"\\impliedby",aside:"implied by"},{latex:"\\iff",aside:"if and only if"},{latex:"\\land",aside:"and"},{latex:"\\lor",aside:"or"},{latex:"\\oplus",aside:"xor"},{latex:"\\lnot",aside:"not"},{latex:"\\downarrow",aside:"nor"},{latex:"\\uparrow",aside:"nand"},{latex:"\\curlywedge",aside:"nor"},{latex:"\\bar\\curlywedge",aside:"nand"},{latex:"\\therefore",aside:"therefore"},{latex:"\\because",aside:"because"},{latex:"^\\biconditional",aside:"biconditional"},"\\leftrightarrow","\\Leftrightarrow","\\to","\\models","\\vdash","\\gets","\\dashv","\\roundimplies"],"set-operators":["\\cap","\\cup","\\setminus","\\smallsetminus","\\complement"],"set-relations":["\\in","\\notin","\\ni","\\owns","\\subset","\\supset","\\subseteq","\\supseteq","\\subsetneq","\\supsetneq","\\varsubsetneq","\\subsetneqq","\\nsubset","\\nsupset","\\nsubseteq","\\nsupseteq"],space:[{latex:'\\char"203A\\!\\char"2039',insert:"\\!",aside:"negative thin space<br>⁻³⧸₁₈ em"},{latex:'\\unicode{"203A}\\,\\unicode{"2039}',insert:"\\,",aside:"thin space<br>³⧸₁₈ em"},{latex:'\\unicode{"203A}\\:\\unicode{"2039}',insert:"\\:",aside:"medium space<br>⁴⧸₁₈ em"},{latex:'\\unicode{"203A}\\;\\unicode{"2039}',insert:"\\;",aside:"thick space<br>⁵⧸₁₈ em"},{latex:'\\unicode{"203A}\\ \\unicode{"2039}',insert:"\\ ",aside:"⅓ em"},{latex:'\\unicode{"203A}\\enspace\\unicode{"2039}',insert:"\\enspace",aside:"½ em"},{latex:'\\unicode{"203A}\\quad\\unicode{"2039}',insert:"\\quad",aside:"1 em"},{latex:'\\unicode{"203A}\\qquad\\unicode{"2039}',insert:"\\qquad",aside:"2 em"}],"delete":[{label:'<span class="warning"><svg><use xlink:href="#svg-trash" /></svg></span>',command:'"deleteAll"'}],"->|":[]},bs={},ws={math:"\n        <div class='rows'>\n            <ul>\n                <li class='keycap tex' data-alt-keys='x-var'><i>x</i></li>\n                <li class='keycap tex' data-alt-keys='n-var'><i>n</i></li>\n                <li class='separator w5'></li>\n                <row name='numpad-1'/>\n                <li class='separator w5'></li>\n                <li class='keycap tex' data-key='ee' data-alt-keys='ee'>e</li>\n                <li class='keycap tex' data-key='ii' data-alt-keys='ii'>i</li>\n                <li class='keycap tex' data-latex='\\pi' data-alt-keys='numeric-pi'></li>\n            </ul>\n            <ul>\n                <li class='keycap tex' data-key='<' data-alt-keys='<'>&lt;</li>\n                <li class='keycap tex' data-key='>' data-alt-keys='>'>&gt;</li>\n                <li class='separator w5'></li>\n                <row name='numpad-2'/>\n                <li class='separator w5'></li>\n                <li class='keycap tex' data-alt-keys='x2' data-insert='#@^{2}'><span><i>x</i>&thinsp;²</span></li>\n                <li class='keycap tex' data-alt-keys='^' data-insert='#@^{#?}'><span><i>x</i><sup>&thinsp;<small>&#x2b1a;</small></sup></span></li>\n                <li class='keycap tex' data-alt-keys='sqrt' data-insert='\\sqrt{#0}' data-latex='\\sqrt{#0}'></li>\n            </ul>\n            <ul>\n                <li class='keycap tex' data-alt-keys='(' >(</li>\n                <li class='keycap tex' data-alt-keys=')' >)</li>\n                <li class='separator w5'></li>\n                <row name='numpad-3'/>\n                <li class='separator w5'></li>\n                <li class='keycap tex small' data-alt-keys='int' data-latex='\\int_0^\\infty'><span></span></li>\n                <li class='keycap tex' data-latex='\\forall' data-alt-keys='logic' ></li>\n                <li class='action font-glyph bottom right' data-alt-keys='delete' data-command='[\"performWithFeedback\",\"deletePreviousChar\"]'>&#x232b;</li></ul>\n            </ul>\n            <ul>\n                <li class='keycap' data-alt-keys='foreground-color' data-command='[\"applyStyle\",{\"color\":\"#cc2428\"}]'><span style='border-radius: 50%;width:22px;height:22px; background:#cc2428'></span><aside>text</aside></li>\n                <li class='keycap' data-alt-keys='background-color' data-command='[\"applyStyle\",{\"backgroundColor\":\"#fff590\"}]'><span style='border-radius: 50%;width:22px;height:22px; background:#fff590'></span><aside>highlight</aside></li>\n                <li class='separator w5'></li>\n                <row name='numpad-4'/>\n                <li class='separator w5'></li>\n                <arrows/>\n            </ul>\n        </div>\n    ","lower-roman":"\n        <div class='rows'>\n            <ul>\n                <row name='numpad-1' class='if-wide'/>\n                <row name='lower-1' shift-layer='upper-roman'/>\n            </ul>\n            <ul>\n                <row name='numpad-2' class='if-wide'/>\n                <row name='lower-2'  shift-layer='upper-roman''/>\n            </ul>\n            <ul>\n                <row name='numpad-3' class='if-wide'/>\n                <row name='lower-3'  shift-layer='upper-roman''/>\n            </ul>\n            <ul>\n                <row name='numpad-4' class='if-wide'/>\n                <li class='layer-switch font-glyph modifier bottom left' data-layer='symbols'>&infin;≠</li>\n                <li class='keycap' data-alt-keys=','>,</li>\n                <li class='keycap w50' data-key=' ' data-alt-keys='space'>&nbsp;</li>\n                <arrows/>\n            </ul>\n        </div>","upper-roman":"\n        <div class='rows'>\n            <ul>\n                <row name='numpad-1' class='if-wide'/>\n                <row name='upper-1'  shift-layer='lower-roman'/>\n            </ul>\n            <ul>\n                <row name='numpad-2' class='if-wide'/>\n                <row name='upper-2' shift-layer='lower-roman'/>\n            </ul>\n            <ul>\n                <row name='numpad-3' class='if-wide'/>\n                <row name='upper-3' shift-layer='lower-roman'/>\n            </ul>\n            <ul>\n                <row name='numpad-4' class='if-wide'/>\n                <li class='layer-switch font-glyph modifier bottom left' data-layer='symbols'>&infin;≠</li>\n                <li class='keycap' data-alt-keys='.'>;</li>\n                <li class='keycap w50' data-key=' '>&nbsp;</li>\n                <arrows/>\n            </ul>\n        </div>",symbols:"\n        <div class='rows'>\n            <ul>\n                <row name='numpad-1' class='if-wide'/>\n                <li class='keycap tex' data-alt-keys='(' data-insert='\\lbrace '>{</li>\n                <li class='keycap tex' data-alt-keys=')' data-insert='\\rbrace '>}</li>\n                <li class='separator w5'></li>\n                <li class='keycap tex' data-alt-keys='set' data-insert='\\in '>&#x2208;</li>\n                <li class='keycap tex' data-alt-keys='!set' data-insert='\\notin '>&#x2209;</li>\n                <li class='keycap tex' data-insert='\\Re '>&#x211c;<aside>Real</aside></li>\n                <li class='keycap tex' data-insert='\\Im '>&#x2111;<aside>Imaginary</aside></li>\n                <li class='keycap w15' data-insert='\\ulcorner#0\\urcorner '><span><sup>&#x250c;</sup><span><span style='color:#ddd'>o</span><sup>&#x2510;</sup></span><aside>ceil</aside></li>\n                <li class='keycap tex' data-alt-keys='nabla' data-insert='\\nabla '>&#x2207;<aside>nabla</aside></li>\n                <li class='keycap tex' data-alt-keys='infinity' data-insert='\\infty '>&#x221e;</li>\n\n            </ul>\n            <ul>\n                <row name='numpad-2' class='if-wide'/>\n                <li class='keycap tex' data-alt-keys='(' data-insert='\\lbrack '>[</li>\n                <li class='keycap tex' data-alt-keys=')' data-insert='\\rbrack '>]</li>\n                <li class='separator w5'></li>\n                <li class='keycap tex' data-alt-keys='subset' data-insert='\\subset '>&#x2282;</li>\n                <li class='keycap tex' data-alt-keys='supset' data-insert='\\supset '>&#x2283;</li>\n                <li class='keycap tex' data-key='!' data-alt-keys='!'>!<aside>factorial</aside></li>\n                <li class='keycap' data-insert='^\\prime '><span><sup><span><span style='color:#ddd'>o</span>&#x2032</sup></span><aside>prime</aside></li>\n                <li class='keycap w15' data-insert='\\llcorner#0\\lrcorner '><span><sub>&#x2514;</sub><span style='color:#ddd'>o</span><sub>&#x2518;</sub></span><aside>floor</aside></li>\n                <li class='keycap tex' data-insert='\\partial '>&#x2202;<aside>partial<br>derivative</aside></li>\n                <li class='keycap tex' data-insert='\\emptyset '>&#x2205;<aside>empty set</aside></li>\n\n            </ul>\n            <ul>\n                <row name='numpad-3' class='if-wide'/>\n                <li class='keycap tex' data-alt-keys='(' data-insert='\\langle '>&#x27e8;</li>\n                <li class='keycap tex' data-alt-keys=')' data-insert='\\rangle '>&#x27e9;</li>\n                <li class='separator w5'></li>\n                <li class='keycap tex' data-insert='\\subseteq '>&#x2286;</li>\n                <li class='keycap tex' data-insert='\\supseteq '>&#x2287;</li>\n                <li class='keycap tex' data-alt-keys='accents' data-insert='\\vec{#@}' data-latex='\\vec{#?}' data-aside='vector'></li>\n                <li class='keycap tex' data-alt-keys='accents' data-insert='\\bar{#@}' data-latex='\\bar{#?}' data-aside='bar'></li>\n                <li class='keycap tex' data-alt-keys='absnorm' data-insert='\\lvert #@ \\rvert ' data-latex='\\lvert #? \\rvert' data-aside='abs'></li>\n                <li class='keycap tex' data-insert='\\ast '>&#x2217;<aside>asterisk</aside></li>\n\n                <li class='action font-glyph bottom right w15'\n                    data-shifted='<span class=\"warning\"><svg><use xlink:href=\"#svg-trash\" /></svg></span>'\n                    data-shifted-command='\"deleteAll\"'\n                    data-alt-keys='delete' data-command='[\"performWithFeedback\",\"deletePreviousChar\"]'\n                >&#x232b;</li>\n            </ul>\n            <ul>\n                <row name='numpad-4' class='if-wide'/>\n                <li class='layer-switch font-glyph modifier bottom left' data-layer='lower-roman'>abc</li>\n                <li class='keycap tex' data-insert='\\cdot '>&#x22c5;<aside>centered dot</aside></li>\n                <li class='keycap tex' data-insert='\\colon '>:<aside>colon</aside></li>\n                <li class='keycap tex' data-insert='\\circ '>&#x2218;<aside>circle</aside></li>\n                <li class='keycap tex' data-insert='\\approx '>&#x2248;<aside>approx.</aside></li>\n                <li class='keycap tex' data-insert='\\ne '>&#x2260;</li>\n                <li class='keycap tex' data-insert='\\pm '>&#x00b1;</li>\n                <arrows/>\n            </ul>\n        </div>","lower-greek":"\n        <div class='rows'>\n            <ul><li class='keycap tex' data-insert='\\varphi '><i>&#x03c6;</i><aside>phi var.</aside></li>\n                <li class='keycap tex' data-insert='\\varsigma '><i>&#x03c2;</i><aside>sigma var.</aside></li>\n                <li class='keycap tex' data-insert='\\epsilon '><i>&#x03f5;</i></li>\n                <li class='keycap tex' data-insert='\\rho '><i>&rho;</i></li>\n                <li class='keycap tex' data-insert='\\tau '><i>&tau;</i></li>\n                <li class='keycap tex' data-insert='\\upsilon '><i>&upsilon;</i></li>\n                <li class='keycap tex' data-insert='\\theta '><i>&theta;</i></li>\n                <li class='keycap tex' data-insert='\\iota '><i>&iota;</i></li>\n                <li class='keycap tex' data-insert='\\omicron '>&omicron;</i></li>\n                <li class='keycap tex' data-insert='\\pi '><i>&pi;</i></li>\n            </ul>\n            <ul><li class='keycap tex' data-insert='\\alpha ' data-shifted='&Alpha;' data-shifted-command='[\"insert\",\"{\\\\char\\\"391}\"]'><i>&alpha;</i></li>\n                <li class='keycap tex' data-insert='\\sigma '><i>&sigma;</i></li>\n                <li class='keycap tex' data-insert='\\delta '><i>&delta;</i></li>\n                <li class='keycap tex' data-insert='\\phi '><i>&#x03d5;</i></i></li>\n                <li class='keycap tex' data-insert='\\gamma '><i>&gamma;</i></li>\n                <li class='keycap tex' data-insert='\\eta '><i>&eta;</i></li>\n                <li class='keycap tex' data-insert='\\xi '><i>&xi;</i></li>\n                <li class='keycap tex' data-insert='\\kappa '><i>&kappa;</i></li>\n                <li class='keycap tex' data-insert='\\lambda '><i>&lambda;</i></li>\n            </ul>\n            <ul><li class='shift modifier font-glyph bottom left w15 layer-switch' data-layer='upper-greek'>&#x21e7;</li>\n                <li class='keycap tex' data-insert='\\zeta '><i>&zeta;</i></li>\n                <li class='keycap tex' data-insert='\\chi '><i>&chi;</i></li>\n                <li class='keycap tex' data-insert='\\psi '><i>&psi;</i></li>\n                <li class='keycap tex' data-insert='\\omega '><i>&omega;</i></li>\n                <li class='keycap tex' data-insert='\\beta '><i>&beta;</i></li>\n                <li class='keycap tex' data-insert='\\nu '><i>&nu;</i></li>\n                <li class='keycap tex' data-insert='\\mu '><i>&mu;</i></li>\n                <li class='action font-glyph bottom right w15'\n                    data-shifted='<span class=\"warning\"><svg><use xlink:href=\"#svg-trash\" /></svg></span>'\n                    data-shifted-command='\"deleteAll\"'\n                    data-alt-keys='delete' data-command='[\"performWithFeedback\",\"deletePreviousChar\"]'\n                >&#x232b;</li>\n            </ul>\n            <ul>\n                <li class='keycap ' data-key=' '>&nbsp;</li>\n                <li class='keycap'>,</li>\n                <li class='keycap tex' data-insert='\\varepsilon '><i>&#x03b5;</i><aside>epsilon var.</aside></li>\n                <li class='keycap tex' data-insert='\\vartheta '><i>&#x03d1;</i><aside>theta var.</aside></li>\n                <li class='keycap tex' data-insert='\\varkappa '><i>&#x3f0;</i><aside>kappa var.</aside></li>\n                <li class='keycap tex' data-insert='\\varpi '><i>&#x03d6;<aside>pi var.</aside></i></li>\n                <li class='keycap tex' data-insert='\\varrho '><i>&#x03f1;</i><aside>rho var.</aside></li>\n                <arrows/>\n            </ul>\n        </div>","upper-greek":"\n        <div class='rows'>\n            <ul><li class='keycap tex' data-insert='\\Phi '>&Phi;<aside>phi</aside></li>\n                <li class='keycap tex' data-insert='\\Sigma '>&Sigma;<aside>sigma</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"0190}'>&#x0190;<aside>epsilon</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"3A1}'>&#x3A1;<aside>rho</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"3A4}'>&#x3A4;<aside>tau</aside></li>\n                <li class='keycap tex' data-insert='\\Upsilon '>&Upsilon;<aside>upsilon</aside></li>\n                <li class='keycap tex' data-insert='\\Theta '>&Theta;<aside>theta</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"399}'>&Iota;<aside>iota</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"39F}'>&#x039F;<aside>omicron</aside></li>\n                <li class='keycap tex' data-insert='\\Pi '>&Pi;<aside>pi</aside></li></ul>\n            <ul><li class='keycap tex' data-insert='{\\char\"391}'>&#x391;<aside>alpha</aside></li>\n                <li class='keycap tex' data-insert='\\Sigma '>&Sigma;<aside>sigma</aside></li>\n                <li class='keycap tex' data-insert='\\Delta '>&Delta;<aside>delta</aside></li>\n                <li class='keycap tex' data-insert='\\Phi '>&#x03a6;<aside>phi</aside></li>\n                <li class='keycap tex' data-insert='\\Gamma '>&Gamma;<aside>gamma</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"397}'>&Eta;<aside>eta</aside></li>\n                <li class='keycap tex' data-insert='\\Xi '>&Xi;<aside>xi</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"39A}'>&Kappa;<aside>kappa</aside></li>\n                <li class='keycap tex' data-insert='\\Lambda '>&Lambda;<aside>lambda</aside></li></ul>\n            <ul><li class='shift modifier font-glyph bottom left selected w15 layer-switch' data-layer='lower-greek'>&#x21e7;</li>\n                <li class='keycap tex' data-insert='{\\char\"396}'>&Zeta;<aside>zeta</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"3A7}'>&Chi;<aside>chi</aside></li>\n                <li class='keycap tex' data-insert='\\Psi '>&Psi;<aside>psi</aside></li>\n                <li class='keycap tex' data-insert='\\Omega '>&Omega;<aside>omega</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"392}'>&Beta;<aside>beta</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"39D}'>&Nu;<aside>nu</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"39C}'>&Mu;<aside>mu</aside></li>\n                <li class='action font-glyph bottom right w15' data-command='[\"performWithFeedback\",\"deletePreviousChar\"]'>&#x232b;</li></ul>\n            <ul>\n                <li class='separator w10'>&nbsp;</li>\n                <li class='keycap'>.</li>\n                <li class='keycap w50' data-key=' '>&nbsp;</li>\n                <arrows/>\n            </ul>\n        </div>","lower-command":"\n        <div class='rows'>\n            <ul><row name='lower-1' class='tt' shift-layer='upper-command'/></ul>\n            <ul><row name='lower-2' class='tt' shift-layer='upper-command'/></ul>\n            <ul><row name='lower-3' class='tt' shift-layer='upper-command'/></ul>\n            <ul>\n                <li class='layer-switch font-glyph modifier bottom left' data-layer='symbols-command'>01#</li>\n                <li class='keycap tt' data-shifted='[' data-shifted-command='[\"insertAndUnshiftKeyboardLayer\", \"[\"]'>{</li>\n                <li class='keycap tt' data-shifted=']' data-shifted-command='[\"insertAndUnshiftKeyboardLayer\", \"]\"]'>}</li>\n                <li class='keycap tt' data-shifted='(' data-shifted-command='[\"insertAndUnshiftKeyboardLayer\", \"(\"]'>^</li>\n                <li class='keycap tt' data-shifted=')' data-shifted-command='[\"insertAndUnshiftKeyboardLayer\", \")\"]'>_</li>\n                <li class='keycap w20' data-key=' '>&nbsp;</li>\n                <arrows/>\n            </ul>\n        </div>","upper-command":"\n        <div class='rows'>\n            <ul><row name='upper-1' class='tt' shift-layer='lower-command'/></ul>\n            <ul><row name='upper-2' class='tt' shift-layer='lower-command'/></ul>\n            <ul><row name='upper-3' class='tt' shift-layer='lower-command'/></ul>\n            <ul>\n                <li class='layer-switch font-glyph modifier bottom left' data-layer='symbols-command'01#</li>\n                <li class='keycap tt'>[</li>\n                <li class='keycap tt'>]</li>\n                <li class='keycap tt'>(</li>\n                <li class='keycap tt'>)</li>\n                <li class='keycap w20' data-key=' '>&nbsp;</li>\n                <arrows/>\n            </ul>\n        </div>","symbols-command":"\n        <div class='rows'>\n            <ul><li class='keycap tt'>1</li><li class='keycap tt'>2</li><li class='keycap tt'>3</li><li class='keycap tt'>4</li><li class='keycap tt'>5</li><li class='keycap tt'>6</li><li class='keycap tt'>7</li><li class='keycap tt'>8</li><li class='keycap tt'>9</li><li class='keycap tt'>0</li></ul>\n            <ul><li class='keycap tt'>!</li><li class='keycap tt'>@</li><li class='keycap tt'>#</li><li class='keycap tt'>$</li><li class='keycap tt'>%</li><li class='keycap tt'>^</li><li class='keycap tt'>&</li><li class='keycap tt'>*</li><li class='keycap tt'>+</li><li class='keycap tt'>=</li></ul>\n            <ul>\n                <li class='keycap tt'>\\</li>\n                <li class='keycap tt'>|</li>\n                <li class='keycap tt'>/</li>\n                <li class='keycap tt'>`</li>\n                <li class='keycap tt'>;</li>\n                <li class='keycap tt'>:</li>\n                <li class='keycap tt'>?</li>\n                <li class='keycap tt'>'</li>\n                <li class='keycap tt'>\"</li>\n                <li class='action font-glyph bottom right'\n                    data-shifted='<span class=\"warning\"><svg><use xlink:href=\"#svg-trash\" /></svg></span>'\n                    data-shifted-command='\"deleteAll\"'\n                    data-alt-keys='delete' data-command='[\"performWithFeedback\",\"deletePreviousChar\"]'\n                >&#x232b;</li>\n            </ul>\n            <ul>\n                <li class='layer-switch font-glyph modifier bottom left' data-layer='lower-command'>abc</li>\n                <li class='keycap tt'>&lt;</li>\n                <li class='keycap tt'>&gt;</li>\n                <li class='keycap tt'>~</li>\n                <li class='keycap tt'>,</li>\n                <li class='keycap tt'>.</li>\n                <li class='keycap' data-key=' '>&nbsp;</li>\n                <arrows/>\n            </ul>\n        </div>",functions:"\n        <div class='rows'>\n            <ul><li class='separator'></li>\n                <li class='fnbutton' data-insert='\\sin'></li>\n                <li class='fnbutton' data-insert='\\sin^{-1}'></li>\n                <li class='fnbutton' data-insert='\\ln'></li>\n                <li class='fnbutton' data-insert='\\exponentialE^{#?}'></li>\n                <li class='bigfnbutton' data-insert='\\mathop{lcm}(#?)' data-latex='\\mathop{lcm}()'></li>\n                <li class='bigfnbutton' data-insert='\\mathop{ceil}(#?)' data-latex='\\mathop{ceil}()'></li>\n                <li class='bigfnbutton' data-insert='\\lim_{n\\to\\infty}'></li>\n                <li class='bigfnbutton' data-insert='\\int'></li>\n                <li class='bigfnbutton' data-insert='\\mathop{abs}(#?)' data-latex='\\mathop{abs}()'></li>\n            </ul>\n            <ul><li class='separator'></li>\n                <li class='fnbutton' data-insert='\\cos'></li>\n                <li class='fnbutton' data-insert='\\cos^{-1}'></li>\n                <li class='fnbutton' data-insert='\\ln_{10}'></li>\n                <li class='fnbutton' data-insert='10^{#?}'></li>\n                <li class='bigfnbutton' data-insert='\\mathop{gcd}(#?)' data-latex='\\mathop{gcd}()'></li>\n                <li class='bigfnbutton' data-insert='\\mathop{floor}(#?)' data-latex='\\mathop{floor}()'></li>\n                <li class='bigfnbutton' data-insert='\\sum_{n\\mathop=0}^{\\infty}'></li>\n                <li class='bigfnbutton' data-insert='\\int_{0}^{\\infty}'></li>\n                <li class='bigfnbutton' data-insert='\\mathop{sign}(#?)' data-latex='\\mathop{sign}()'></li>\n            </ul>\n            <ul><li class='separator'></li>\n                <li class='fnbutton' data-insert='\\tan'></li>\n                <li class='fnbutton' data-insert='\\tan^{-1}'></li>\n                <li class='fnbutton' data-insert='\\log_{#?}'></li>\n                <li class='fnbutton' data-insert='\\sqrt[#?]{#0}'></li>\n                <li class='bigfnbutton' data-insert='#0 \\mod' data-latex='\\mod'></li>\n                <li class='bigfnbutton' data-insert='\\mathop{round}(#?) ' data-latex='\\mathop{round}()'></li>\n                <li class='bigfnbutton' data-insert='\\prod_{n\\mathop=0}^{\\infty}' data-latex='{\\tiny \\prod_{n=0}^{\\infty}}'></li>\n                <li class='bigfnbutton' data-insert='\\frac{\\differentialD #0}{\\differentialD x}'></li>\n                <li class='action font-glyph bottom right' data-command='[\"performWithFeedback\",\"deletePreviousChar\"]'>&#x232b;</li></ul>\n            <ul><li class='separator'></li>\n                <li class='fnbutton'>(</li>\n                <li class='fnbutton'>)</li>\n                <li class='fnbutton' data-insert='^{#?} ' data-latex='x^{#?} '></li>\n                <li class='fnbutton' data-insert='_{#?} ' data-latex='x_{#?} '></li>\n                <li class='keycap w20 ' data-key=' '>&nbsp;</li>\n                <arrows/>\n            </ul>\n        </div>"},Cs={make:Ns,makeKeycap:xs},ks={"\\pm":"&PlusMinus;","\\times":"&times;","\\colon":":","\\vert":"|","\\Vert":"∥","\\mid":"∣","\\lbrace":"{","\\rbrace":"}","\\langle":"⟨","\\rangle":"⟩","\\lfloor":"⌊","\\rfloor":"⌋","\\lceil":"⌈","\\rceil":"⌉","\\vec":"&#x20d7;","\\acute":"&#x00b4;","\\grave":"&#x0060;","\\dot":"&#x02d9;","\\ddot":"&#x00a8;","\\tilde":"&#x007e;","\\bar":"&#x00af;","\\breve":"&#x02d8;","\\check":"&#x02c7;","\\hat":"&#x005e;"};ei.MathAtom.prototype.toMathML=function(e){var t={"\\exponentialE":"&ExponentialE;","\\imaginaryI":"&ImaginaryI;","\\differentialD":"&DifferentialD;","\\capitalDifferentialD":"&CapitalDifferentialD;","\\alpha":"&alpha;","\\pi":"&pi;","\\infty":"&infin;","\\forall":"&forall;","\\nexists":"&nexists;","\\exists":"&exist;","\\hbar":"ℏ","\\cdotp":"⋅","\\ldots":"…","\\cdots":"⋯","\\ddots":"⋱","\\vdots":"⋮","\\ldotp":"."},n={mathbb:"double-struck",mathbf:"bold",mathcal:"script",mathfrak:"fraktur",mathscr:"script",mathsf:"sans-serif",mathtt:"monospace"},r={"\\!":-3/18,"\\ ":6/18,"\\,":3/18,"\\:":4/18,"\\;":5/18,"\\enspace":.5,"\\quad":1,"\\qquad":2,"\\enskip":.5},i="",s="",o,u,a,f,l,c,h=n[this.fontFamily||this.font]||"";h&&(h=' mathvariant="'+h+'"');var p=this.latex?this.latex.trim():null,d;switch(this.type){case"group":case"root":i=Fs(this.body,0,0,e).mathML;break;case"array":if(this.lFence&&this.lFence!=="."||this.rFence&&this.rFence!==".")i+="<mrow>",this.lFence&&this.lFence!=="."&&(i+="<mo>"+(ks[this.lFence]||this.lFence)+"</mo>");i+="<mtable";if(this.colFormat){i+=' columnalign="';for(a=0;a<this.colFormat.length;a++)this.colFormat[a].align&&(i+={l:"left",c:"center",r:"right"}[this.colFormat[a].align]+" ");i+='"'}i+=">";for(u=0;u<this.array.length;u++){i+="<mtr>";for(o=0;o<this.array[u].length;o++)i+="<mtd>"+Fs(this.array[u][o],0,0,e).mathML+"</mtd>";i+="</mtr>"}i+="</mtable>";if(this.lFence&&this.lFence!=="."||this.rFence&&this.rFence!==".")this.rFence&&this.rFence!=="."&&(i+="<mo>"+(ks[this.lFence]||this.rFence)+"</mo>"),i+="</mrow>";break;case"genfrac":if(this.leftDelim||this.rightDelim)i+="<mrow>";this.leftDelim&&this.leftDelim!=="."&&(i+="<mo"+As(this.id,e)+">"+(ks[this.leftDelim]||this.leftDelim)+"</mo>"),this.hasBarLine?(i+="<mfrac>",i+=Fs(this.numer,0,0,e).mathML||"<mi>&nbsp;</mi>",i+=Fs(this.denom,0,0,e).mathML||"<mi>&nbsp;</mi>",i+="</mfrac>"):(i+="<mtable"+As(this.id,e)+">",i+="<mtr>"+Fs(this.numer,0,0,e).mathML+"</mtr>",i+="<mtr>"+Fs(this.denom,0,0,e).mathML+"</mtr>",i+="</mtable>"),this.rightDelim&&this.rightDelim!=="."&&(i+="<mo"+As(this.id,e)+">"+(ks[this.rightDelim]||this.rightDelim)+"</mo>");if(this.leftDelim||this.rightDelim)i+="</mrow>";break;case"surd":this.index?(i+="<mroot"+As(this.id,e)+">",i+=Fs(this.body,0,0,e).mathML,i+=Fs(this.index,0,0,e).mathML,i+="</mroot>"):(i+="<msqrt"+As(this.id,e)+">",i+=Fs(this.body,0,0,e).mathML,i+="</msqrt>");break;case"leftright":i="<mrow>",this.leftDelim&&this.leftDelim!=="."&&(i+="<mo"+As(this.id,e)+">"+(ks[this.leftDelim]||this.leftDelim)+"</mo>"),this.body&&(i+=Fs(this.body,0,0,e).mathML),this.rightDelim&&this.rightDelim!=="."&&(i+="<mo"+As(this.id,e)+">"+(ks[this.rightDelim]||this.rightDelim)+"</mo>"),i+="</mrow>";break;case"sizeddelim":case"delim":i+='<mo separator="true"'+As(this.id,e)+">"+(ks[this.delim]||this.delim)+"</mo>";break;case"font":p==="\\text"||p==="\\textrm"||p==="\\textsf"||p==="\\texttt"||p==="\\textnormal"||p==="\\textbf"||p==="\\textit"?(i+="<mtext"+h+As(this.id,e)+">",i+=qs(this.body).replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;"),i+="</mtext>"):i+="<mi"+h+">"+qs(this.body)+"</mi>";break;case"accent":i+='<mover accent="true"'+As(this.id,e)+">",i+=Fs(this.body,0,0,e).mathML,i+="<mo>"+(ks[p]||this.accent)+"</mo>",i+="</mover>";break;case"line":case"overlap":break;case"overunder":l=this.overscript,f=this.underscript,l&&f?c=this.body:l?(c=this.body,this.body[0]&&this.body[0].underscript?(f=this.body[0].underscript,c=this.body[0].body):this.body[0]&&this.body[0].type==="first"&&this.body[1]&&this.body[1].underscript&&(f=this.body[1].underscript,c=this.body[1].body)):f&&(c=this.body,this.body[0]&&this.body[0].overscript?(l=this.body[0].overscript,c=this.body[0].body):this.body[0]&&this.body[0].type==="first"&&this.body[1]&&this.body[1].overscript&&(l=this.body[1].overscript,c=this.body[1].body)),l&&f?(i+="<munderover"+h+As(this.id,e)+">"+Fs(c,0,0,e).mathML,i+=Fs(f,0,0,e).mathML,i+=Fs(l,0,0,e).mathML,i+="</munderover>"):l?(i+="<mover"+h+As(this.id,e)+">"+Fs(c,e).mathML,i+=Fs(l,0,0,e).mathML,i+="</mover>"):f&&(i+="<munder"+h+As(this.id,e)+">"+Fs(c,e).mathML,i+=Fs(f,0,0,e).mathML,i+="</munder>");break;case"mord":i=t[p]||p||(typeof this.body=="string"?this.body:""),d=p?p.match(/[{]?\\char"([0-9abcdefABCDEF]*)[}]?/):null,d?i="&#x"+d[1]+";":i.length>0&&i.charAt(0)==="\\"&&(typeof this.body=="string"&&this.body.charCodeAt(0)>255?i="&#x"+("000000"+this.body.charCodeAt(0).toString(16)).substr(-4)+";":typeof this.body=="string"?i=this.body.charAt(0):i=this.latex),i="<mi"+h+As(this.id,e)+">"+Ls(i)+"</mi>";break;case"mbin":case"mrel":case"textord":case"minner":p&&t[p]?i="<mi"+As(this.id,e)+">"+t[p]+"</mi>":p&&ks[p]?i="<mo"+As(this.id,e)+">"+ks[p]+"</mo>":i=Is(this,e);break;case"mpunct":i='<mo separator="true"'+As(this.id,e)+">"+(ks[p]||p)+"</mo>";break;case"mop":this.body!=="​"&&(i="<mo"+As(this.id,e)+">",p==="\\operatorname"?i+=this.body:i+=p||this.body,i+="</mo>");break;case"color":this.textcolor&&(i+='<mstyle color="'+oi.stringToColor(this.textcolor)+'"',i+=As(this.id,e)+">",i+=Fs(this.body,0,0,e).mathML,i+="</mstyle>");break;case"mathstyle":break;case"box":i='<menclose notation="box"',this.backgroundcolor&&(i+=' mathbackground="'+oi.stringToColor(this.backgroundcolor)+'"'),i+=As(this.id,e)+">"+Fs(this.body,0,0,e).mathML+"</menclose>";break;case"spacing":i+='<mspace width="'+(r[p]||0)+'em"/>';break;case"enclose":i='<menclose notation="';for(var v in this.notation)this.notation.hasOwnProperty(v)&&this.notation[v]&&(i+=s+v,s=" ");i+=As(this.id,e)+'">'+Fs(this.body,0,0,e).mathML+"</menclose>";break;case"sizing":break;case"space":i+="&nbsp;"}return i},ei.toMathML=function(e,t){return Fs(e,0,0,t).mathML};var Rs={},zs={"\\imaginaryI":"ⅈ","\\imaginaryJ":"ⅉ","\\pi":"π","\\exponentialE":"ℯ","﹢":"+","＋":"+","−":"-","-":"-","﹣":"-","－":"-","\\times":"*","⨉":"*","️✖":"*","️×":"*",".":"*","÷":"/","⁄":"/","／":"/","!":"factorial","️\\pm":"plusminus","\\mp":"minusplus","\\land":"and","\\wedge":"and","\\lor":"or","\\vee":"or","\\oplus":"xor","\\veebar":"xor","\\lnot":"not","\\neg":"not","\\exists":"exists","\\nexists":"!exists","\\forall":"forAll","\\backepsilon":"suchThat","\\therefore":"therefore","\\because":"because","\\nabla":"nabla","\\circ":"circle","\\ominus":"ominus","\\odot":"odot","\\otimes":"otimes","\\zeta":"Zeta","\\Gamma":"Gamma","\\min":"min","\\max":"max","\\mod":"mod","\\lim":"lim","\\sum":"sum","\\prod":"prod","\\int":"integral","\\iint":"integral2","\\iiint":"integral3","\\Re":"Re","\\gothicCapitalR":"Re","\\Im":"Im","\\gothicCapitalI":"Im","\\binom":"nCr","\\partial":"partial","\\differentialD":"differentialD","\\capitalDifferentialD":"capitalDifferentialD","\\Finv":"Finv","\\Game":"Game","\\wp":"wp","\\ast":"ast","\\star":"star","\\asymp":"asymp","\\to":"to","\\gets":"gets","\\rightarrow":"shortLogicalImplies","\\leftarrow":"shortLogicalImpliedBy","\\leftrightarrow":"shortLogicalEquivalent","\\longrightarrow":"logicalImplies","\\longleftarrow":"logicalImpliedBy","\\longleftrightarrow":"logicalEquivalent","\\Rightarrow":"shortImplies","\\Leftarrow":"shortImpliedBy","\\Leftrightarrow":"shortEquivalent","\\implies":"implies","\\Longrightarrow":"implies","\\impliedby":"impliedBy","\\Longleftarrow":"impliedBy","\\iff":"equivalent","\\Longleftrightarrow":"equivalent"},Ws={sin:"\\sin%_%^ %",cos:"\\cos%_%^ %",tan:"\\tan%_%^ %",cot:"\\cot%_%^ %",sec:"\\sec%_%^ %",csc:"\\csc%_%^ %",sinh:"\\sinh %",cosh:"\\cosh %",tanh:"\\tanh %",csch:"\\csch %",sech:"\\sech %",coth:"\\coth %",arcsin:"\\arcsin %",arccos:"\\arccos %",arctan:"\\arctan %",arccot:"\\arcctg %",arcsec:"\\arcsec %",arccsc:"\\arccsc %",arsinh:"\\arsinh %",arcosh:"\\arcosh %",artanh:"\\artanh %",arcsch:"\\arcsch %",arsech:"\\arsech %",arcoth:"\\arcoth %",ln:"\\ln%_%^ %",log:"\\log%_%^ %",lg:"\\lg %",lb:"\\lb %",sum:"\\sum%_%^ %",Zeta:"\\zeta%_%^ %",Gamma:"\\Gamma %",min:"\\min%_%^ %",max:"\\max%_%^ %",mod:"\\mod%_%^ %",lim:"\\lim%_%^ %",binom:"\\binom %",nabla:"\\nabla %",curl:"\\nabla\\times %",div:"\\nabla\\cdot %",floor:"\\lfloor % \\rfloor%_%^",ceil:"\\lceil % \\rceil%_%^",abs:"\\vert % \\vert%_%^",norm:"\\lVert % \\rVert%_%^",ucorner:"\\ulcorner % \\urcorner%_%^",lcorner:"\\llcorner % \\lrcorner%_%^",angle:"\\langle % \\rangle%_%^",group:"\\lgroup % \\rgroup%_%^",moustache:"\\lmoustache % \\rmoustache%_%^",brace:"\\lbrace % \\rbrace%_%^",sqrt:"\\sqrt[%^]{%}",lcm:"\\mathop{lcm}%",gcd:"\\mathop{gcd}%",erf:"\\mathop{erf}%",erfc:"\\mathop{erfc}%",randomReal:"\\mathop{randomReal}%",randomInteger:"\\mathop{randomInteger}%","*":"%0 \\times %1",and:"%0 \\land %1",or:"%0 \\lor %1",xor:"%0 \\oplus %1",not:"%0 \\lnot %1",circle:"%0 \\circ %1",ast:"%0 \\ast %1",star:"%0 \\star %1",asymp:"%0 \\asymp %1","/":"\\frac{%0}{%1}",Re:"\\Re{%}",Im:"\\Im{%}",factorial:"%!",factorial2:"%!!"},Xs={degree:880,nabla:740,curl:740,partial:740,differentialD:740,capitalDifferentialD:740,odot:710,not:680,div:660,solidus:660,"/":660,setminus:650,"%":640,otimes:410,union:350,intersection:350,"*":390,ast:390,".":390,oplus:300,ominus:300,"+":275,"-":275,"+-":275,"-+":275,circle:265,circledast:265,circledcirc:265,star:265,"..":263,to:262,"in":262,"=":260,"!=":255,approx:247,"<":245,">":243,"≥":242,"≤":241,complement:240,subset:240,superset:240,elementof:240,"!elementof":240,exists:230,"!exists":230,forall:230,and:200,xor:195,or:190,suchThat:110,":":100,":=":80,therefore:70,because:70,shortLogicalImplies:52,shortImplies:51,logicalImplies:50,implies:49,shortLogicalImpliedBy:48,shortImpliedBy:47,logicalImpliedBy:46,impliedBy:45,shortLogicalEquivalent:44,shortEquivalent:43,logicalEquivalent:42,equivalent:41,",":40,";":30},to={"\\lfloor\\rfloor":"floor","\\lceil\\rceil":"ceil","\\vert\\vert":"abs","\\lvert\\rvert":"abs","||":"abs","\\Vert\\Vert":"norm","\\lVert\\rVert":"norm","\\ulcorner\\urcorner":"ucorner","\\llcorner\\lrcorner":"lcorner","\\langle\\rangle":"angle","\\lgroup\\rgroup":"group","\\lmoustache\\rmoustache":"moustache","\\lbrace\\rbrace":"brace"},no={"!":"factorial","\\dag":"dagger","\\dagger":"dagger","\\ddager":"dagger2","\\maltese":"maltese","\\backprime":"backprime","\\backdoubleprime":"backprime2","\\prime":"prime","\\doubleprime":"prime2","\\$":"$","\\%":"%","\\_":"_","\\degree":"degree"},ro={"+":"+","-":"+","*":"*",",":"list",";":"list2",and:"and",or:"or",xor:"xor",union:"union",shortLogicalEquivalent:"logicalEquivalent",logicalEquivalent:"logicalEquivalent",shortEquivalent:"equivalent",equivalent:"equivalent"},io={",":"list",";":"list2"};ei.MathAtom.prototype.toAST=function(e){var t={mathrm:"normal",mathbb:"double-struck",mathbf:"bold",mathcal:"script",mathfrak:"fraktur",mathscr:"script",mathsf:"sans-serif",mathtt:"monospace"},n={},r="",i,s,o,u=t[this.fontFamily||this.font],a=this.latex?this.latex.trim():null;switch(this.type){case"root":case"group":this.latex&&this.latex.startsWith("\\nicefrac")?(i=this.latex.slice(9).match(/({.*}|[^}])({.*}|[^}])/),i?(i[1].length===1?s=i[1]:s=i[1].substr(1,i[1].length-2),s=vi.parseTokens(A.tokenize(s),"math",null,e.macros),n.lhs=Eo(s,e),i[2].length===1?o=i[2]:o=i[2].substr(1,i[2].length-2),o=vi.parseTokens(A.tokenize(o),"math",null,e.macros),n.op="/",n.rhs=Eo(o,e)):n.op="/"):n.group=Eo(this.body,e);break;case"genfrac":s=Eo(this.numer,e),o=Eo(this.denom,e),n.lhs=s,n.op="/",n.rhs=o;break;case"surd":this.index?(n.fn="pow",n.arg=[Eo(this.body,e)],n.arg[1]={lhs:1,op:"/",rhs:Eo(this.index,e)}):(n.fn="sqrt",n.arg=Eo(this.body,e));break;case"rule":break;case"font":this.latex==="\\text "?(n.text=yo(this.body),this.toLatex&&(n.latex=this.toLatex())):n.sym=yo(this.body);break;case"line":case"overlap":case"accent":break;case"overunder":break;case"mord":case"textord":i=a?a.match(/[{]?\\char"([0-9abcdefABCDEF]*)[}]?/):undefined,i?r=String.fromCodePoint(parseInt(i[1],16)):(r=Ys(so(this)),r.length>0&&r.charAt(0)==="\\"&&typeof this.body=="string"&&(r=this.body)),n=bo(lr.mathVariantToUnicode(r,this.fontFamily||this.font)),u&&u!=="normal"?n.sym=bo(r):n=bo(r);break;case"minner":break;case"mop":break;case"color":case"box":n=Eo(this.body,e);break;case"enclose":break;case"array":this.env.name==="cardinality"&&(n={fn:"card",arg:[Eo(this.array,e)]});break;case"spacing":case"space":case"sizing":case"mathstyle":break;default:n=undefined,console.log("Unhandled atom "+this.type+" - "+this.body)}return n&&u&&u!=="normal"&&(n.variant=u),n},ei.toAST=function(e,t){return So(Eo(e,t))};var ko={asLatex:Co,asMachineNumber:uo,isNumber:ao,asSymbol:oo},Lo={"\\alpha":"alpha ","\\mu":"mew ","\\sigma":"sigma ","\\pi":"pie ","\\imaginaryI":"eye ","\\sum":"Summation ","\\prod":"Product ",";":'<break time="150ms"/> semi-colon <break time="150ms"/>',",":'<break time="150ms"/> comma  <break time="150ms"/>',"|":'<break time="150ms"/>Vertical bar<break time="150ms"/>',"(":'<break time="150ms"/>Open paren. <break time="150ms"/>',")":'<break time="150ms"/> Close paren. <break time="150ms"/>',"=":"equals ","<":"is less than ","\\lt":"is less than ","<=":"is less than or equal to ","\\le":"is less than or equal to ","\\gt":"is greater than ",">":"is greater than ","\\ge":"is greater than or equal to ","\\geq":"is greater than or equal to ","\\leq":"is less than or equal to ","!":"factorial ","\\sin":"sine ","\\cos":"cosine ","​":"","−":"minus ",":":'<break time="150ms"/> such that <break time="200ms"/> ',"\\colon":'<break time="150ms"/> such that <break time="200ms"/> ',"\\hbar":"etch bar ","\\iff":'<break time="200ms"/>if, and only if, <break time="200ms"/>',"\\Longleftrightarrow":'<break time="200ms"/>if, and only if, <break time="200ms"/>',"\\land":"and ","\\lor":"or ","\\neg":"not ","\\div":"divided by ","\\forall":"for all ","\\exists":"there exists ","\\nexists":"there does not exists ","\\in":"element of ","\\N":'the set <break time="150ms"/><say-as interpret-as="character">n</say-as>',"\\C":'the set <break time="150ms"/><say-as interpret-as="character">c</say-as>',"\\Z":'the set <break time="150ms"/><say-as interpret-as="character">z</say-as>',"\\Q":'the set <break time="150ms"/><say-as interpret-as="character">q</say-as>',"\\infty":"infinity ","\\nabla":"nabla ","\\partial":"partial derivative of ","\\cdots":"dot dot dot ","\\Rightarrow":"implies ","\\lbrace":'<break time="150ms"/>open brace<break time="150ms"/>',"\\{":'<break time="150ms"/>open brace<break time="150ms"/>',"\\rbrace":'<break time="150ms"/>close brace<break time="150ms"/>',"\\}":'<break time="150ms"/>close brace<break time="150ms"/>',"\\langle":'<break time="150ms"/>left angle bracket<break time="150ms"/>',"\\rangle":'<break time="150ms"/>right angle bracket<break time="150ms"/>',"\\lfloor":'<break time="150ms"/>open floor<break time="150ms"/>',"\\rfloor":'<break time="150ms"/>close floor<break time="150ms"/>',"\\lceil":'<break time="150ms"/>open ceiling<break time="150ms"/>',"\\rceil":'<break time="150ms"/>close ceiling<break time="150ms"/>',"\\vert":'<break time="150ms"/>vertical bar<break time="150ms"/>',"\\mvert":'<break time="150ms"/>divides<break time="150ms"/>',"\\lvert":'<break time="150ms"/>left vertical bar<break time="150ms"/>',"\\rvert":'<break time="150ms"/>right vertical bar<break time="150ms"/>',"\\lbrack":'<break time="150ms"/> open square bracket <break time="150ms"/>',"\\rbrack":'<break time="150ms"/> close square bracket <break time="150ms"/>'};ei.toSpeakableFragment=function(e,t){function n(e){var n="";return t.textToSpeechMarkup?/[a-z]/.test(e)?n+=' <say-as interpret-as="character">'+e+"</say-as>":/[A-Z]/.test(e)?n+="capital "+e.toLowerCase()+"":n+=e:/[a-z]/.test(e)?n+=" '"+e.toUpperCase()+"'":/[A-Z]/.test(e)?n+=" 'capital "+e.toUpperCase()+"'":n+=e,n}function r(e){return"<emphasis>"+e+"</emphasis>"}if(!e)return"";var i="";e.id&&t.speechMode==="math"&&(i+='<mark name="'+e.id.toString()+'"/>');if(Array.isArray(e)){var s=!1;for(var o=0;o<e.length;o++)o<e.length-2&&e[o].type==="mopen"&&e[o+2].type==="mclose"&&e[o+1].type==="mord"?(i+=" of ",i+=r(ei.toSpeakableFragment(e[o+1],t)),o+=2):e[o].type==="mord"&&/[0123456789,.]/.test(e[o].latex)?s?i+=e[o].latex:(s=!0,i+=ei.toSpeakableFragment(e[o],t)):(s=!1,i+=ei.toSpeakableFragment(e[o],t))}else{var u="",a="",f="",l=!1;switch(e.type){case"group":case"root":i+=ei.toSpeakableFragment(e.body,t);break;case"genfrac":u=ei.toSpeakableFragment(e.numer,t),a=ei.toSpeakableFragment(e.denom,t);if(Mo(e.numer)&&Mo(e.denom)){var c={"1/2":" half ","1/3":" one third ","2/3":" two third","1/4":" one quarter ","3/4":" three quarter ","1/5":" one fifth ","2/5":" two fifths ","3/5":" three fifths ","4/5":" four fifths ","1/6":" one sixth ","5/6":" five sixths ","1/8":" one eight ","3/8":" three eights ","5/8":" five eights ","7/8":" seven eights ","1/9":" one ninth ","2/9":" two ninths ","4/9":" four ninths ","5/9":" five ninths ","7/9":" seven ninths ","8/9":" eight ninths "},h=c[Do(e.numer)+"/"+Do(e.denom)];h?i=h:i+=u+" over "+a}else i+=' the fraction <break time="150ms"/>'+u+', over <break time="150ms"/>'+a+'.<break time="150ms"/> End fraction.<break time="150ms"/>';break;case"surd":f=ei.toSpeakableFragment(e.body,t);if(!e.index)Mo(e.body)?i+=" the square root of "+f+" , ":i+=' the square root of <break time="200ms"/>'+f+'. <break time="200ms"/> End square root';else{var p=ei.toSpeakableFragment(e.index,t);p=p.trim();var d=p.replace(/<mark([^/]*)\/>/g,"");d==="3"?i+=' the cube root of <break time="200ms"/>'+f+'. <break time="200ms"/> End cube root':d==="n"?i+=' the nth root of <break time="200ms"/>'+f+'. <break time="200ms"/> End root':i+=' the root with index: <break time="200ms"/>'+p+', of <break time="200ms"/>'+f+'. <break time="200ms"/> End root'}break;case"accent":break;case"leftright":i+=Lo[e.leftDelim]||e.leftDelim,i+=ei.toSpeakableFragment(e.body,t),i+=Lo[e.rightDelim]||e.rightDelim;break;case"line":break;case"rule":break;case"overunder":break;case"overlap":break;case"placeholder":i+="placeholder "+e.body;break;case"delim":case"sizeddelim":case"mord":case"minner":case"mbin":case"mrel":case"mpunct":case"mopen":case"mclose":case"textord":var v=e.latex?e.latex.trim():"";if(v==="\\mathbin"||v==="\\mathrel"||v==="\\mathopen"||v==="\\mathclose"||v==="\\mathpunct"||v==="\\mathord"||v==="\\mathinner"){i=ei.toSpeakableFragment(e.body,t);break}var m=e.body,g=e.latex;if(e.type==="delim"||e.type==="sizeddelim")m=g=e.delim;if(t.speechMode==="text")i+=m;else{e.type==="mbin"&&(i+='<break time="150ms"/>');if(m){var y=Lo[m]||(g?Lo[g.trim()]:"");if(y)i+=" "+y;else{var b=g?Ao(g.trim()):"";i+=b?b:n(m)}}else i+=ei.toSpeakableFragment(e.body,t);e.type==="mbin"&&(i+='<break time="150ms"/>')}break;case"mop":if(e.body!=="​"){var w=e.latex?e.latex.trim():"";if(w==="\\sum")if(e.superscript&&e.subscript){var E=ei.toSpeakableFragment(e.superscript,t);E=E.trim();var S=ei.toSpeakableFragment(e.subscript,t);S=S.trim(),i+=' the summation from <break time="200ms"/>'+S+'<break time="200ms"/> to  <break time="200ms"/>'+E+'<break time="200ms"/> of <break time="150ms"/>',l=!0}else if(e.subscript){var x=ei.toSpeakableFragment(e.subscript,t);x=x.trim(),i+=' the summation from <break time="200ms"/>'+x+'<break time="200ms"/> of <break time="150ms"/>',l=!0}else i+=" the summation of";else if(w==="\\prod")if(e.superscript&&e.subscript){var T=ei.toSpeakableFragment(e.superscript,t);T=T.trim();var N=ei.toSpeakableFragment(e.subscript,t);N=N.trim(),i+=' the product from <break time="200ms"/>'+N+'<break time="200ms"/> to <break time="200ms"/>'+T+'<break time="200ms"/> of <break time="150ms"/>',l=!0}else if(e.subscript){var C=ei.toSpeakableFragment(e.subscript,t);C=C.trim(),i+=' the product from <break time="200ms"/>'+C+'<break time="200ms"/> of <break time="150ms"/>',l=!0}else i+=" the product  of ";else if(w==="\\int")if(e.superscript&&e.subscript){var k=ei.toSpeakableFragment(e.superscript,t);k=k.trim();var L=ei.toSpeakableFragment(e.subscript,t);L=L.trim(),i+=' the integral from <break time="200ms"/>'+r(L)+'<break time="200ms"/> to <break time="200ms"/>'+r(k)+' <break time="200ms"/> of ',l=!0}else i+=' the integral of <break time="200ms"/> ';else if(typeof e.body=="string"){var A=Lo[e.body]||Lo[e.latex.trim()];A?i+=A:i+=" "+e.body}else e.latex&&e.latex.length>0&&(e.latex[0]==="\\"?i+=" "+e.latex.substr(1):i+=" "+e.latex)}break;case"font":t.speechMode="text",i+='<break time="200ms"/>',i+=ei.toSpeakableFragment(e.body,t),i+='<break time="200ms"/>',t.speechMode="math";break;case"enclose":f=ei.toSpeakableFragment(e.body,t),Mo(e.body)?i+=" crossed out "+f+" , ":i+=" crossed out "+f+". End cross out";break;case"space":case"spacing":case"color":case"sizing":case"mathstyle":case"box":}if(!l&&e.superscript){var O=ei.toSpeakableFragment(e.superscript,t);O=O.trim();var M=O.replace(/<[^>]*>/g,"");if(Mo(e.superscript)){if(t.speechMode==="math"){var _=_o(e.superscript);_&&(i+='<mark name="'+_+'"/>')}M==="′"?i+=" prime ":M==="2"?i+=" squared ":M==="3"?i+=" cubed ":isNaN(parseInt(M))?i+=" to the "+O+"; ":i+=' to the <say-as interpret-as="ordinal">'+M+"</say-as> power; "}else isNaN(parseInt(M))?i+=" raised to the "+O+"; ":i+=' raised to the <say-as interpret-as="ordinal">'+M+"</say-as> power; "}if(!l&&e.subscript){var D=ei.toSpeakableFragment(e.subscript,t);D=D.trim(),Mo(e.subscript)?i+=" sub "+D:i+=" subscript "+D+". End subscript. "}}return i},ei.toSpeakableText=function(e,t){t||(t={textToSpeechMarkup:"",textToSpeechRules:"mathlive"}),t.speechMode="math";if(window.sre&&t.textToSpeechRules==="sre"){t.generateID=!0;var n=ei.toMathML(e,t);return n?(t.textToSpeechMarkup&&(t.textToSpeechRulesOptions=t.textToSpeechRulesOptions||{},t.textToSpeechRulesOptions.markup=t.textToSpeechMarkup,t.textToSpeechRulesOptions.markup==="ssml"&&(t.textToSpeechRulesOptions.markup="arno"),t.textToSpeechRulesOptions.rate=t.speechEngineRate),t.textToSpeechRulesOptions&&window.sre.System.getInstance().setupEngine(t.textToSpeechRulesOptions),window.sre.System.getInstance().toSpeech(n)):""}var r=ei.toSpeakableFragment(e,t);if(t.textToSpeechMarkup==="ssml"){var i="";t.speechEngineRate&&(i='<prosody rate="'+t.speechEngineRate+'">'),r='<?xml version="1.0"?><speak version="1.1" xmlns="http://www.w3.org/2001/10/synthesis" xml:lang="en-US"><amazon:auto-breaths>'+i+"<p><s>"+r+"</s></p>"+(i?"</prosody>":"")+"</amazon:auto-breaths>"+"</speak>"}else t.textToSpeechMarkup==="mac"&&Oo("mac")==="mac"?r=r.replace(/<mark([^/]*)\/>/g,"").replace(/<emphasis>/g,"[[emph+]]").replace(/<\/emphasis>/g,"").replace(/<break time="([0-9]*)ms"\/>/g,"[[slc $1]]").replace(/<say-as[^>]*>/g,"").replace(/<\/say-as>/g,""):r=r.replace(/<[^>]*>/g,"").replace(/\s{2,}/g," ");return r};var Po={},qo=3,Ro=.5;Wo.prototype.handleEvent=function(e){switch(e.type){case"focus":this._onFocus(e);break;case"blur":this._onBlur(e);break;case"touchstart":this._onPointerDown(e);break;case"mousedown":this._onPointerDown(e);break;case"resize":this._onResize(e);break;case"cut":this._onCut(e);break;case"copy":this._onCopy(e);break;case"paste":this._onPaste(e);break;default:console.log("unexpected event type",e.type)}},Wo.prototype.revertToOriginalContent=Wo.prototype.$revertToOriginalContent=function(){this.element.innerHTML=this.originalContent,this.element.mathfield=null,delete this.accessibleNode,delete this.ariaLiveText,delete this.field,zo(this.textarea,"cut",this),zo(this.textarea,"copy",this),zo(this.textarea,"paste",this),this.textarea.remove(),delete this.textarea,this.virtualKeyboardToggleDOMNode.remove(),delete this.virtualKeyboardToggleDOMNode,this.popover.remove(),delete this.popover,delete this.keystrokeCaption,delete this.virtualKeyboard,zo(this.element,"touchstart:active mousedown",this),zo(this.element,"focus",this),zo(this.element,"blur",this),zo(window,"resize",this),zo(window,"focus",this),zo(window,"blur",this)},Wo.prototype._resetInlineShortcutBuffer=function(){this.inlineShortcutBuffer="",this.inlineShortcutStates=[],clearTimeout(this.inlineShortcutBufferResetTimer)},Wo.prototype._getCaretPosition=function(){var e=Xo(this.field);if(e){var t=e.getBoundingClientRect();return{x:t.right+window.scrollX,y:t.bottom+window.scrollY}}return null},Wo.prototype._pathFromPoint=function(e,t){var n,r=Vo(this.field,e,t),i=r.element,s=i?i.getAttribute("data-atom-id"):null;if(s){var o=this.mathlist.filter(function(e,t){return t.captureSelection?t.filter(function(e){return e.id===s}).length>0:t.id===s});if(o&&o.length>0){var u=i.getBoundingClientRect();n=Ei.pathFromString(o[0]).path,e<u.left+u.width/2&&!i.classList.contains("ML__placeholder")&&(n[n.length-1].offset=Math.max(0,n[n.length-1].offset-1))}}return n};var $o,Jo,Ko=0;Wo.prototype._onPointerDown=function(e){function s(e){zo(n.field,"touchmove",o),zo(n.field,"touchend touchleave",s),zo(window,"mousemove",o),zo(window,"mouseup blur",s),r=!1,e.preventDefault(),e.stopPropagation()}function o(e){var r=e.touches?e.touches[0].clientX:e.clientX,i=e.touches?e.touches[0].clientY:e.clientY,s=n._pathFromPoint(r,i);t&&s&&n.mathlist.setRange(t,s)&&setTimeout(n._render.bind(n),0),e.preventDefault(),e.stopPropagation()}var t,n=this,r=!1,i=!1;e.touches&&e.touches.length===1&&($o&&Math.abs($o.pageX-e.touches[0].pageX)<5&&Math.abs($o.pageY-e.touches[0].pageY)<5&&Date.now()<Jo+500?Ko+=1:($o=e.touches[0],Ko=1),Jo=Date.now()),zo(this.field,"touchmove",o),zo(this.field,"touchend touchleave",s),zo(window,"mousemove",o),zo(window,"mouseup blur",s);var u=this.element.getBoundingClientRect(),a=e.touches?e.touches[0].clientX:e.clientX,f=e.touches?e.touches[0].clientY:e.clientY;if(a>u.left&&a<u.right&&f>u.top&&f<u.bottom){this.hasFocus()||(i=!0,this.textarea.focus&&this.textarea.focus()),this._resetInlineShortcutBuffer();if(e.buttons&&e.buttons!==1)return;t=this._pathFromPoint(a,f),t&&(e.shiftKey?(this.mathlist.setRange(this.mathlist.path,t),t=Ei.clone(this.mathlist.path),t[t.length-1].offset-=1):this.mathlist.setPath(t,0),i=!0,e.detail===2||e.detail===3||Ko>1?(zo(this.field,"touchmove",o),zo(this.field,"touchend",s),zo(window,"mousemove",o),zo(window,"mouseup blur",s),r=!1,e.detail===3||Ko===3?this.mathlist.selectAll_():(e.detail===2||Ko===2)&&this.mathlist.selectGroup_()):r||(r=!0,Uo(window,"blur",s),e.touches?(Uo(e.target,"touchmove",o),Uo(e.target,"touchend",s)):(Uo(window,"mousemove",o),Uo(window,"mouseup",s))))}else $o=null;i&&this._render(),e.preventDefault()},Wo.prototype._onSelectionDidChange=function(){this.mathlist.commitCommandStringBeforeInsertionPoint();var e="";this.mathlist.forEachSelected(function(t){e+=t.toLatex()}),e?(this.textarea.value=e,this.hasFocus()&&this.textarea.select&&this.textarea.select()):(this.textarea.value="",this.textarea.setAttribute("aria-label","")),hs.updatePopoverPosition(this,{deferred:!0}),typeof this.config.onSelectionDidChange=="function"&&this.config.onSelectionDidChange(this)},Wo.prototype._onContentDidChange=function(){this.undoManager.canRedo()?this.element.classList.add("can-redo"):this.element.classList.remove("can-redo"),this.undoManager.canUndo()?this.element.classList.add("can-undo"):this.element.classList.remove("can-undo"),typeof this.config.onContentDidChange=="function"&&this.config.onContentDidChange(this)},Wo.prototype._nextAtomSpeechText=function(e){function t(e,t){var n={numer:"numerator",denom:"denominator",index:"index",body:"parent",subscript:"subscript",superscript:"superscript"},r={enclose:"cross out",leftright:"fence",surd:"square root",root:"math field"};return t.relation==="body"?r[e.type]:n[t.relation]}var n=e?e.path:[],r=this.mathlist.path,i=r[r.length-1],s="";while(n.length>r.length)s+="out of "+t(e.parent(),n[n.length-1])+"; ",n.pop();if(!this.mathlist.isCollapsed())return Qo(this,"",this.mathlist.extractContents());var o=t(this.mathlist.parent(),i);i.offset===0&&(s+=(o?"start of "+o:"unknown")+": ");var u=this.mathlist.sibling(Math.max(1,this.mathlist.extent));return u?s+=Qo(this,"",u):i.offset!==0&&(s+=o?"end of "+o:"unknown"),s},Wo.prototype._announce=function(e,t,n){typeof this.config.onAnnounce=="function"&&this.config.onAnnounce(this,e,t,n)},Wo.prototype._onFocus=function(){this.blurred&&(this.blurred=!1,this.textarea.focus&&this.textarea.focus(),this.config.virtualKeyboardMode==="onfocus"&&this.showVirtualKeyboard_(),hs.updatePopoverPosition(this),this.config.onFocus&&this.config.onFocus(this),this._render())},Wo.prototype._onBlur=function(){this.blurred||(this.blurred=!0,this.ariaLiveText.textContent="",this.config.virtualKeyboardMode==="onfocus"&&this.hideVirtualKeyboard_(),hs.updatePopoverPosition(this),this._render(),this.config.onBlur&&this.config.onBlur(this))},Wo.prototype._onResize=function(){this.element.classList.remove("ML__isNarrowWidth","ML__isWideWidth","ML__isExtendedWidth"),window.innerWidth>=1024?this.element.classList.add("ML__isExtendedWidth"):window.innerWidth>=768?this.element.classList.add("ML__isWideWidth"):this.element.classList.add("ML__isNarrowWidth"),hs.updatePopoverPosition(this)},Wo.prototype.toggleKeystrokeCaption_=function(){this.keystrokeCaptionVisible=!this.keystrokeCaptionVisible,this.keystrokeCaption.innerHTML="",this.keystrokeCaptionVisible||(this.keystrokeCaption.style.visibility="hidden")},Wo.prototype._showKeystroke=function(e){var t=this.keystrokeCaption;if(t&&this.keystrokeCaptionVisible){var n=this.element.getBoundingClientRect();t.style.left=n.left+"px",t.style.top=n.top-64+"px",t.innerHTML="<span>"+(rs.stringify(e)||e)+"</span>"+t.innerHTML,t.style.visibility="visible",setTimeout(function(){t.childNodes.length>0&&t.removeChild(t.childNodes[t.childNodes.length-1]),t.childNodes.length===0&&(t.style.visibility="hidden")},3e3)}},Wo.prototype.perform=Wo.prototype.$perform=function(e){if(!e)return!1;var t=!1,n,r=[],i=!1;Array.isArray(e)?(n=e[0],r=e.slice(1)):n=e,n=n.replace(/-\w/g,function(e){return e[1].toUpperCase()}),n+="_";if(typeof this.mathlist[n]=="function"){var s;/^(delete|transpose|deleteToMathFieldEnd|deleteToGroupEnd|deleteToGroupStart|deletePreviousWord|deleteNextWord|deletePreviousChar|deleteNextChar)_$/.test(n)&&(this.undoManager.snapshot(this.config),this.selectionIsCollapsed()&&n==="deletePreviousChar_"?(this.inlineShortcutBuffer=this.inlineShortcutBuffer.substring(0,this.inlineShortcutBuffer.length-1),this.inlineShortcutStates.pop()):this._resetInlineShortcutBuffer()),(s=this.mathlist)[n].apply(s,Bo(r)),i=!0,t=!0}else typeof this[n]=="function"&&(n==="complete_"&&this.undoManager.snapshot(this.config),i=this[n].apply(this,Bo(r)),t=!0);return(!this.mathlist.isCollapsed()||/^(transpose|paste|((move|extent).*))_$/.test(n))&&this._resetInlineShortcutBuffer(),i&&this._render(),t},Wo.prototype.performWithFeedback_=function(e){return this.focus(),this.config.keypressVibration&&navigator.vibrate&&navigator.vibrate(qo),e=e.replace(/-\w/g,function(e){return e[1].toUpperCase()}),e==="moveToNextPlaceholder"||e==="moveToPreviousPlaceholder"||e==="complete"?this.returnKeypressSound?(this.returnKeypressSound.load(),this.returnKeypressSound.play()["catch"](function(e){return console.log(e)})):this.keypressSound&&(this.keypressSound.load(),this.keypressSound.play()["catch"](function(e){return console.log(e)})):e==="deletePreviousChar"||e==="deleteNextChar"||e==="deletePreviousWord"||e==="deleteNextWord"||e==="deleteToGroupStart"||e==="deleteToGroupEnd"||e==="deleteToMathFieldStart"||e==="deleteToMathFieldEnd"?this.deleteKeypressSound?(this.deleteKeypressSound.load(),this.deleteKeypressSound.play()["catch"](function(e){return console.log(e)})):this.keypressSound&&(this.keypressSound.load(),this.keypressSound.play()["catch"](function(e){return console.log(e)})):this.keypressSound&&(this.keypressSound.load(),this.keypressSound.play()["catch"](function(e){return console.log(e)})),this.perform(e)},Wo.prototype._onKeystroke=function(e,t){var n=this;this._showKeystroke(e),clearTimeout(this.inlineShortcutBufferResetTimer);if(this.config.onKeystroke&&!this.config.onKeystroke(this,e,t))return t&&t.preventDefault&&(t.preventDefault(),t.stopPropagation()),!1;var r,i,s,o=!1;if((!t||!t.ctrlKey&&!t.metaKey)&&this.mathlist.parseMode()==="math"){var u=Ri.eventToChar(t);if(u!=="Backspace")if(!u||u.length>1)this._resetInlineShortcutBuffer();else{var a=this.inlineShortcutBuffer+u,f=0;while(!r&&f<=a.length)r=rs.forString(a.slice(f),this.config),f+=1;i=f-1,this.inlineShortcutBuffer+=u,this.inlineShortcutStates.push(this.undoManager.save()),rs.startsWithString(a,this.config).length<=1?o=!0:this.config.inlineShortcutTimeout&&(clearTimeout(this.inlineShortcutBufferResetTimer),this.inlineShortcutBufferResetTimer=setTimeout(function(){n._resetInlineShortcutBuffer()},this.config.inlineShortcutTimeout))}else this.mathlist.isCollapsed()&&this.inlineShortcutBuffer.length>0&&(s="undo",this._announce("delete"))}return!r&&!s&&(s=rs.selectorForKeystroke(this.mathlist.parseMode(),e)),!r&&!s?!0:(this.mathlist.decorateCommandStringAroundInsertionPoint(!1),this.perform(s)||r&&(this.undoManager.snapshot(this.config),this.mathlist.insert(Ri.eventToChar(t)),this.undoManager.snapshot(this.config),this.undoManager.restore(this.inlineShortcutStates[i],this.config),this.mathlist.insert(r,{format:"latex"}),this._render(),this._announce("replacement"),o&&this._resetInlineShortcutBuffer()),t&&t.preventDefault&&(t.preventDefault(),t.stopPropagation()),!1)},Wo.prototype._onTypedText=function(e,t){t=t||{},t.focus&&this.focus(),t.feedback&&(this.config.keypressVibration&&navigator.vibrate&&navigator.vibrate(qo),this.keypressSound&&(this.keypressSound.load(),this.keypressSound.play()["catch"](function(e){return console.log(e)}))),t.commandMode&&this.mathlist.parseMode()!=="command"&&this.enterCommandMode_(),this.mathlist.decorateCommandStringAroundInsertionPoint(!1);if(t.simulateKeystroke){var n=e.charAt(0),r=Ri.charToEvent(n);if(!this.$keystroke(Ri.keyboardEventToString(r),r))return}var i="",s=!1;if(this.pasteInProgress)this.pasteInProgress=!1,this.mathlist.insert(e,{smartFence:this.config.smartFence});else{var o=S.splitGraphemes(e),u=!0,a=!1,f=undefined;try{for(var l=o[Symbol.iterator](),c;!(u=(c=l.next()).done);u=!0){var h=c.value;if(this.mathlist.parseMode()==="command"){this.mathlist.removeSuggestion(),this.suggestionIndex=0;var p=this.mathlist.extractCommandStringAroundInsertionPoint(),d=lr.suggest(p+h);s=d.length>1,d.length===0?(this.mathlist.insert(h),/^\\[a-zA-Z\\*]+$/.test(p+h)&&this.mathlist.decorateCommandStringAroundInsertionPoint(!0),hs.hidePopover(this)):(this.mathlist.insert(h),d[0].match!==p+h&&this.mathlist.insertSuggestion(d[0].match,-d[0].match.length+p.length+1),i=d[0].match)}else if(this.mathlist.parseMode()==="math"){var v={"^":"moveToSuperscript",_:"moveToSubscript"," ":"moveAfterParent"}[h];v?this.perform(v):(this.undoManager.snapshot(this.config),this.mathlist._insertSmartFence(h)||this.mathlist.insert(h))}}}catch(m){a=!0,f=m}finally{try{!u&&l["return"]!=null&&l["return"]()}finally{if(a)throw f}}}this._render(),hs.showPopoverWithLatex(this,i,s)},Wo.prototype._hash=function(){var e=0,t=this.mathlist.root.toLatex(!1);for(var n=0;n<t.length;n++)e=e*31+t.charCodeAt(n),e|=0;return Math.abs(e)},Wo.prototype._render=function(e){e=e||{},window.mathlive||(window.mathlive={}),this.mathlist.anchor()||(console.log("Invalid selection. Resetting it."+Ei.pathToString(this.mathlist.path)),this.mathlist.path=[{relation:"body",offset:0}]),this.mathlist.forEach(function(e){e.hasCaret=!1,e.isSelected=!1});var t=this.hasFocus();this.mathlist.isCollapsed()?this.mathlist.anchor().hasCaret=t:this.mathlist.forEachSelected(function(e){e.isSelected=!0});var n=ei.decompose({mathstyle:"displaystyle",generateID:{seed:this._hash(),groupNumbers:e.forHighlighting},macros:this.config.macros},this.mathlist.root.body),r=sn.makeSpan(n,"ML__base");r.attributes={"aria-hidden":"true"};var i=sn.makeSpan("","ML__strut");i.setStyle("height",r.height,"em");var s=[i];if(r.depth!==0){var o=sn.makeSpan("","ML__strut--bottom");o.setStyle("height",r.height+r.depth,"em"),o.setStyle("vertical-align",-r.depth,"em"),s.push(o)}s.push(r);var u=sn.makeSpan(s,"ML__mathlive"+(t?" ML__focused":" ML__blurred"));this.field.innerHTML=u.toMarkup(0,this.config.horizontalSpacingScale),this.accessibleNode.innerHTML="<math xmlns='http://www.w3.org/1998/Math/MathML'>"+ei.toMathML(this.mathlist.root,this.config)+"</math>",this.scrollIntoView_()},Wo.prototype._onPaste=function(){return this.pasteInProgress=!0,!0},Wo.prototype._onCut=function(){return setTimeout(function(){this.clearSelection(),this._render()}.bind(this),0),!0},Wo.prototype._onCopy=function(e){this.mathlist.isCollapsed()?(e.clipboardData.setData("text/plain",this.text("latex-expanded")),e.clipboardData.setData("application/json",this.text("json")),e.clipboardData.setData("application/xml",this.text("mathML"))):(e.clipboardData.setData("text/plain",this.selectedText("latex-expanded")),e.clipboardData.setData("application/json",this.selectedText("json")),e.clipboardData.setData("application/xml",this.selectedText("mathML"))),e.preventDefault()},Wo.prototype.formatMathlist=function(e,t){Array.isArray(e)||(e=[e]),t=t||"latex";var n="";if(t==="latex"||t==="latex-expanded"){var r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){var a=u.value;n+=a.toLatex(t==="latex-expanded")}}catch(f){i=!0,s=f}finally{try{!r&&o["return"]!=null&&o["return"]()}finally{if(i)throw s}}}else if(t==="mathML"){var l=!0,c=!1,h=undefined;try{for(var p=e[Symbol.iterator](),d;!(l=(d=p.next()).done);l=!0){var v=d.value;n+=v.toMathML(this.config)}}catch(f){c=!0,h=f}finally{try{!l&&p["return"]!=null&&p["return"]()}finally{if(c)throw h}}}else if(t==="spoken"){var m=!0,g=!1,y=undefined;try{for(var b=e[Symbol.iterator](),w;!(m=(w=b.next()).done);m=!0){var E=w.value;n+=ei.toSpeakableText(E,this.config)}}catch(f){g=!0,y=f}finally{try{!m&&b["return"]!=null&&b["return"]()}finally{if(g)throw y}}}else if(t==="spoken-text"){var S=this.config.textToSpeechMarkup;this.config.textToSpeechMarkup="";var x=!0,T=!1,N=undefined;try{for(var C=e[Symbol.iterator](),k;!(x=(k=C.next()).done);x=!0){var L=k.value;n+=ei.toSpeakableText(L,this.config)}}catch(f){T=!0,N=f}finally{try{!x&&C["return"]!=null&&C["return"]()}finally{if(T)throw N}}this.config.textToSpeechMarkup=S}else if(t==="spoken-ssml"){var A=this.config.textToSpeechMarkup;this.config.textToSpeechMarkup="ssml";var O=!0,M=!1,_=undefined;try{for(var D=e[Symbol.iterator](),P;!(O=(P=D.next()).done);O=!0){var H=P.value;n+=ei.toSpeakableText(H,this.config)}}catch(f){M=!0,_=f}finally{try{!O&&D["return"]!=null&&D["return"]()}finally{if(M)throw _}}this.config.textToSpeechMarkup=A}else if(t==="json"){var B=[],j=!0,F=!1,I=undefined;try{for(var q=e[Symbol.iterator](),R;!(j=(R=q.next()).done);j=!0){var U=R.value;B.push(ei.toAST(U,this.config))}}catch(f){F=!0,I=f}finally{try{!j&&q["return"]!=null&&q["return"]()}finally{if(F)throw I}}n=JSON.stringify(B)}return n},Wo.prototype.text=Wo.prototype.$text=function(e){return this.formatMathlist(this.mathlist.root,e)},Wo.prototype.selectedText=Wo.prototype.$selectedText=function(e){return this.formatMathlist(this.mathlist.extractContents(),e)},Wo.prototype.selectionIsCollapsed=Wo.prototype.$selectionIsCollapsed=function(){return this.mathlist.isCollapsed()},Wo.prototype.selectionDepth=Wo.prototype.$selectionDepth=function(){return this.mathlist.path.length},Wo.prototype.selectionAtStart=Wo.prototype.$selectionAtStart=function(){return this.mathlist.startOffset()===0},Wo.prototype.selectionAtEnd=Wo.prototype.$selectionAtEnd=function(){return this.mathlist.endOffset()>=this.mathlist.siblings().length-1},Wo.prototype.latex=Wo.prototype.$latex=function(e,t){if(e){var n=this.mathlist.root.toLatex();return e!==n&&(t=t||{},this.undoManager.snapshot(this.config),this.mathlist.insert(e,Object.assign(this.config,{insertionMode:"replaceAll",selectionMode:"after",format:"latex",suppressContentChangeNotifications:t.suppressContentChangeNotifications})),this._render()),e}return this.mathlist.root.toLatex()},Wo.prototype.el=Wo.prototype.$el=function(){return this.element},Wo.prototype.undo_=Wo.prototype.undo=function(){return this.undoManager.undo(this.config),!0},Wo.prototype.redo_=Wo.prototype.redo=function(){return this.undoManager.redo(this.config),!0},Wo.prototype.scrollIntoView_=Wo.prototype.scrollIntoView=function(){return!1},Wo.prototype.scrollToStart_=Wo.prototype.scrollToStart=function(){return!0},Wo.prototype.scrollToEnd_=Wo.prototype.scrollToEnd=function(){return!0},Wo.prototype.enterCommandMode_=function(){return this.mathlist.decorateCommandStringAroundInsertionPoint(!1),this.mathlist.removeSuggestion(),hs.hidePopover(this),this.suggestionIndex=0,this.virtualKeyboardVisible&&this.switchKeyboardLayer_("lower-command"),this.undoManager.snapshot(this.config),this.mathlist.insert(""),!0},Wo.prototype.copyToClipboard_=function(){return this.focus(),this.mathlist.isCollapsed()&&this.select(),document.execCommand("copy"),!1},Wo.prototype.cutToClipboard_=function(){return this.focus(),document.execCommand("cut"),!0},Wo.prototype.pasteFromClipboard_=function(){return this.focus(),document.execCommand("paste"),!0},Wo.prototype.insert_=Wo.prototype.insert=Wo.prototype.$insert=function(e,t){return typeof e=="string"&&e.length>0?(t=t||{},t.focus&&this.focus(),t.feedback&&(this.config.keypressVibration&&navigator.vibrate&&navigator.vibrate(qo),this.keypressSound&&(this.keypressSound.load(),this.keypressSound.play())),this.undoManager.snapshot(this.config),e==="\\\\"?this.mathlist.addRowAfter_():e==="&"?this.mathlist.addColumnAfter_():this.mathlist.insert(e,t),!0):!1},Wo.prototype.complete_=function(){hs.hidePopover(this);var e=this.mathlist.extractCommandStringAroundInsertionPoint();if(e){if(e==="\\("||e==="\\)")this.mathlist.spliceCommandStringAroundInsertionPoint([]),this.mathlist.insert(e.slice(1));else{var t="math",n=lr.matchFunction(t,e);n||(n=lr.matchSymbol(t,e));if(n){var r=vi.parseTokens(A.tokenize(n.latexName),t,null,this.config.macros);this.mathlist.spliceCommandStringAroundInsertionPoint(r)}else{var i=vi.parseTokens(A.tokenize(e),t,null,this.config.macros);i?this.mathlist.spliceCommandStringAroundInsertionPoint(i):this.mathlist.decorateCommandStringAroundInsertionPoint(!0)}}return this._announce("replacement"),!0}return!1},Wo.prototype._updateSuggestion=function(){this.mathlist.positionInsertionPointAfterCommitedCommand(),this.mathlist.removeSuggestion();var e=this.mathlist.extractCommandStringAroundInsertionPoint(),t=lr.suggest(e);if(t.length===0)hs.hidePopover(this),this.mathlist.decorateCommandStringAroundInsertionPoint(!0);else{var n=this.suggestionIndex%t.length,r=e.length-t[n].match.length;r!==0&&this.mathlist.insertSuggestion(t[n].match,r),hs.showPopoverWithLatex(this,t[n].match,t.length>1)}this._render()},Wo.prototype.nextSuggestion_=function(){return this.suggestionIndex+=1,this._updateSuggestion(),!1},Wo.prototype.previousSuggestion_=function(){this.suggestionIndex-=1;if(this.suggestionIndex<0){this.mathlist.removeSuggestion();var e=this.mathlist.extractCommandStringAroundInsertionPoint(),t=lr.suggest(e);this.suggestionIndex=t.length-1}return this._updateSuggestion(),!1},Wo.prototype._attachButtonHandlers=function(e,t){var n=this;Ho(t)==="object"&&(t["default"]||t.pressed)?(t["default"]&&e.setAttribute("data-"+this.config.namespace+"command",JSON.stringify(t["default"])),t.alt&&e.setAttribute("data-"+this.config.namespace+"command-alt",JSON.stringify(t.alt)),t.altshift&&e.setAttribute("data-"+this.config.namespace+"command-altshift",JSON.stringify(t.altshift)),t.shift&&e.setAttribute("data-"+this.config.namespace+"command-shift",JSON.stringify(t.shift)),t.pressed&&e.setAttribute("data-"+this.config.namespace+"command-pressed",JSON.stringify(t.pressed)),t.pressAndHoldStart&&e.setAttribute("data-"+this.config.namespace+"command-pressAndHoldStart",JSON.stringify(t.pressAndHoldStart)),t.pressAndHoldEnd&&e.setAttribute("data-"+this.config.namespace+"command-pressAndHoldEnd",JSON.stringify(t.pressAndHoldEnd))):e.setAttribute("data-"+this.config.namespace+"command",JSON.stringify(t));var r,i,s,o,u;Uo(e,"mousedown touchstart:passive",function(t){if(t.type!=="mousedown"||t.buttons===1){t.stopPropagation(),e.classList.add("pressed"),r=Date.now(),t.type==="touchstart"&&(s=t.changedTouches[0].identifier);var o=e.getAttribute("data-"+n.config.namespace+"command-pressed");o&&n.perform(JSON.parse(o));var a=e.getAttribute("data-"+n.config.namespace+"command-pressAndHoldStart");a&&(i=e,u&&clearTimeout(u),u=window.setTimeout(function(){e.classList.contains("pressed")&&n.perform(JSON.parse(a))},300))}}),Uo(e,"mouseleave touchcancel",function(){e.classList.remove("pressed")}),Uo(e,"touchmove:passive",function(e){e.preventDefault();for(var t=0;t<e.changedTouches.length;t++)if(e.changedTouches[t].identifier===s){var n=document.elementFromPoint(e.changedTouches[t].clientX,e.changedTouches[t].clientY);n!==o&&o&&(o.dispatchEvent(new MouseEvent("mouseleave"),{bubbles:!0}),o=null),n&&(o=n,n.dispatchEvent(new MouseEvent("mouseenter",{bubbles:!0,buttons:1})))}}),Uo(e,"mouseenter",function(t){t.buttons===1&&e.classList.add("pressed")}),Uo(e,"mouseup touchend click",function(t){if(o){t.stopPropagation(),t.preventDefault();var s=o;o=null,s.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0}));return}e.classList.remove("pressed"),e.classList.add("active");if(t.type==="click"&&t.detail!==0){t.stopPropagation(),t.preventDefault();return}window.setTimeout(function(){e.classList.remove("active")},150);var u=e.getAttribute("data-"+n.config.namespace+"command-pressAndHoldEnd"),a=Date.now();if(e!==i||a<r+300)u=undefined;!u&&t.altKey&&t.shiftKey&&(u=e.getAttribute("data-"+n.config.namespace+"command-altshift")),!u&&t.altKey&&(u=e.getAttribute("data-"+n.config.namespace+"command-alt")),!u&&t.shiftKey&&(u=e.getAttribute("data-"+n.config.namespace+"command-shift")),u||(u=e.getAttribute("data-"+n.config.namespace+"command")),u&&n.perform(JSON.parse(u)),t.stopPropagation(),t.preventDefault()})},Wo.prototype._makeButton=function(e,t,n,r){var i=document.createElement("span");return i.innerHTML=e,t&&i.classList.add([].slice.call(t.split(" "))),n&&i.setAttribute("aria-label",n),this._attachButtonHandlers(i,r),i},Wo.prototype.showAlternateKeys_=function(e,t){var n=this.virtualKeyboard.getElementsByClassName("alternate-keys");if(!n||n.length===0)return!1;n=n[0],t.length>=7?n.style.width="286px":t.length===4||t.length===2?n.style.width="146px":t.length===1?n.style.width="86px":n.style.width="146px",n.style.height="auto";var r="",i=!0,s=!1,o=undefined;try{for(var u=t[Symbol.iterator](),a;!(i=(a=u.next()).done);i=!0){var f=a.value;r+="<li",typeof f=="string"?r+=' data-latex="'+f.replace(/"/g,"&quot;")+'"':(f.latex&&(r+=' data-latex="'+f.latex.replace(/"/g,"&quot;")+'"'),f.content&&(r+=' data-content="'+f.content.replace(/"/g,"&quot;")+'"'),f.insert&&(r+=' data-insert="'+f.insert.replace(/"/g,"&quot;")+'"'),f.command&&(r+=" data-command='"+f.command.replace(/"/g,"&quot;")+"'"),f.aside&&(r+=' data-aside="'+f.aside.replace(/"/g,"&quot;")+'"'),f.classes&&(r+=' data-classes="'+f.classes+'"')),r+=">",r+=f.label||"",r+="</li>"}}catch(l){s=!0,o=l}finally{try{!i&&u["return"]!=null&&u["return"]()}finally{if(s)throw o}}r="<ul>"+r+"</ul>",n.innerHTML=r,Cs.makeKeycap(this,n.getElementsByTagName("li"),"performAlternateKeys");var c=this.virtualKeyboard.querySelector('div.keyboard-layer.is-visible div.rows ul li[data-alt-keys="'+e+'"]'),h=c.getBoundingClientRect();return h&&(h.top-n.clientHeight<0&&(n.style.width="auto",t.length<=6?n.style.height="56px":t.length<=12?n.style.height="108px":n.style.height="205px"),n.style.top=(h.top-n.clientHeight+5).toString()+"px",n.style.left=Math.max(0,Math.min(window.innerWidth-n.offsetWidth,(h.left+h.right-n.offsetWidth)/2))+"px",n.classList.add("is-visible")),!1},Wo.prototype.hideAlternateKeys_=function(){var e=this.virtualKeyboard.getElementsByClassName("alternate-keys");return e&&e.length>0&&(e=e[0],e.classList.remove("is-visible"),e.innerHTML=""),!1},Wo.prototype.performAlternateKeys_=function(e){return this.hideAlternateKeys_(),this.perform(e)},Wo.prototype.switchKeyboardLayer_=function(e){if(this.config.virtualKeyboardMode!=="off"){e!=="lower-command"&&e!=="upper-command"&&e!=="symbols-command"&&this.complete_(),this.showVirtualKeyboard_(),this.hideAlternateKeys_(),this.unshiftKeyboardLayer_();var t=this.virtualKeyboard.getElementsByClassName("keyboard-layer"),n=!1;for(var r=0;r<t.length;r++)if(t[r].id===e){n=!0;break}if(n)for(var i=0;i<t.length;i++)t[i].id===e?t[i].classList.add("is-visible"):t[i].classList.remove("is-visible");this.focus()}return!0},Wo.prototype.shiftKeyboardLayer_=function(){var e=this.virtualKeyboard.querySelectorAll("div.keyboard-layer.is-visible .rows .keycap, div.keyboard-layer.is-visible .rows .action");if(e)for(var t=0;t<e.length;t++){var n=e[t],r=n.getAttribute("data-shifted");if(r||/^[a-z]$/.test(n.innerHTML)){n.setAttribute("data-unshifted-content",n.innerHTML),r||(r=n.innerHTML.toUpperCase()),n.innerHTML=r;var i=n.getAttribute("data-"+this.config.namespace+"command");if(i){n.setAttribute("data-unshifted-command",i);var s=n.getAttribute("data-shifted-command");if(s)n.setAttribute("data-"+this.config.namespace+"command",s);else{var o=JSON.parse(i);Array.isArray(o)&&(o[1]=o[1].toUpperCase()),n.setAttribute("data-"+this.config.namespace+"command",JSON.stringify(o))}}}}return!1},Wo.prototype.unshiftKeyboardLayer_=function(){var e=this.virtualKeyboard.querySelectorAll("div.keyboard-layer.is-visible .rows .keycap, div.keyboard-layer.is-visible .rows .action");if(e)for(var t=0;t<e.length;t++){var n=e[t],r=n.getAttribute("data-unshifted-content");r&&(n.innerHTML=r);var i=n.getAttribute("data-unshifted-command");i&&n.setAttribute("data-"+this.config.namespace+"command",i)}return!1},Wo.prototype.insertAndUnshiftKeyboardLayer_=function(e){return this.insert_(e),this.unshiftKeyboardLayer_(),!0},Wo.prototype.toggleVirtualKeyboardAlt_=function(){var e=!1;return this.virtualKeyboard&&(e=this.virtualKeyboard.classList.contains("material"),this.virtualKeyboard.remove(),delete this.virtualKeyboard,this.virtualKeyboard=null),this.showVirtualKeyboard_(e?"":"material"),!1},Wo.prototype.toggleVirtualKeyboardShift_=function(){this.config.virtualKeyboardLayout={qwerty:"azerty",azerty:"qwertz",qwertz:"dvorak",dvorak:"colemak",colemak:"qwerty"}[this.config.virtualKeyboardLayout];var e=this.virtualKeyboard?this.virtualKeyboard.querySelector("div.keyboard-layer.is-visible"):null;return e=e?e.id:"",this.virtualKeyboard&&(this.virtualKeyboard.remove(),delete this.virtualKeyboard,this.virtualKeyboard=null),this.showVirtualKeyboard_(),e&&this.switchKeyboardLayer_(e),!1},Wo.prototype.showVirtualKeyboard_=function(e){return this.virtualKeyboardVisible=!1,this.toggleVirtualKeyboard_(e),!1},Wo.prototype.hideVirtualKeyboard_=function(){return this.virtualKeyboardVisible=!0,this.toggleVirtualKeyboard_(),!1},Wo.prototype.toggleVirtualKeyboard_=function(e){this.virtualKeyboardVisible=!this.virtualKeyboardVisible;if(this.virtualKeyboardVisible){this.virtualKeyboard?this.virtualKeyboard.classList.add("is-visible"):(this.virtualKeyboard=Cs.make(this,e),Uo(this.virtualKeyboard,"touchstart:passive mousedown",function(){t.focus()}),this.element.appendChild(this.virtualKeyboard));var t=this;window.setTimeout(function(){t.virtualKeyboard.classList.add("is-visible")},1)}else this.virtualKeyboard&&this.virtualKeyboard.classList.remove("is-visible");return typeof this.config.onVirtualKeyboardToggle=="function"&&this.config.onVirtualKeyboardToggle(this,this.virtualKeyboardVisible,this.virtualKeyboard),!1},Wo.prototype.applyStyle_=function(e){return this.undoManager.snapshot(this.config),this.mathlist._applyStyle(e),!0},Wo.prototype.hasFocus=Wo.prototype.$hasFocus=function(){return document.hasFocus()&&document.activeElement===this.textarea},Wo.prototype.focus=Wo.prototype.$focus=function(){this.hasFocus()||(this.textarea.focus&&this.textarea.focus(),this._announce("line"))},Wo.prototype.blur=Wo.prototype.$blur=function(){this.hasFocus()&&this.textarea.blur&&this.textarea.blur()},Wo.prototype.select=Wo.prototype.$select=function(){this.mathlist.selectAll_()},Wo.prototype.clearSelection=Wo.prototype.$clearSelection=function(){this.mathlist.delete_()},Wo.prototype.keystroke=Wo.prototype.$keystroke=function(e,t){return this._onKeystroke(e,t)},Wo.prototype.typedText=Wo.prototype.$typedText=function(e){this._onTypedText(e)},Wo.prototype.typedText_=function(e,t){return this._onTypedText(e,t)},Wo.prototype.setConfig=Wo.prototype.$setConfig=function(e){this.config||(this.config={smartFence:!0,overrideDefaultInlineShortcuts:!1,virtualKeyboard:"",virtualKeyboardLayout:"qwerty",namespace:""}),this.config=Object.assign(this.config,e),this.config.onAnnounce=e.onAnnounce||Go,this.config.macros=Object.assign({},lr.MACROS,this.config.macros);if(!/^[a-z]*[-]?$/.test(this.config.namespace))throw Error("options.namespace must be a string of lowercase characters only");/-$/.test(this.config.namespace)||(this.config.namespace+="-"),this.keypressSound=undefined,this.spacebarKeypressSound=undefined,this.returnKeypressSound=undefined,this.deleteKeypressSound=undefined,this.config.keypressSound&&(typeof this.config.keypressSound=="string"?(this.keypressSound=new Audio,this.keypressSound.preload="none",this.keypressSound.src=this.config.keypressSound,this.keypressSound.volume=Ro,this.spacebarKeypressSound=this.keypressSound,this.returnKeypressSound=this.keypressSound,this.deleteKeypressSound=this.keypressSound):(console.assert(this.config.keypressSound["default"]),this.keypressSound=new Audio,this.keypressSound.preload="none",this.keypressSound.src=this.config.keypressSound["default"],this.keypressSound.volume=Ro,this.spacebarKeypressSound=this.keypressSound,this.returnKeypressSound=this.keypressSound,this.deleteKeypressSound=this.keypressSound,this.config.keypressSound.spacebar&&(this.spacebarKeypressSound=new Audio,this.spacebarKeypressSound.preload="none",this.spacebarKeypressSound.src=this.config.keypressSound.spacebar,this.spacebarKeypressSound.volume=Ro),this.config.keypressSound["return"]&&(this.returnKeypressSound=new Audio,this.returnKeypressSound.preload="none",this.returnKeypressSound.src=this.config.keypressSound["return"],this.returnKeypressSound.volume=Ro),this.config.keypressSound["delete"]&&(this.deleteKeypressSound=new Audio,this.deleteKeypressSound.preload="none",this.deleteKeypressSound.src=this.config.keypressSound["delete"],this.deleteKeypressSound.volume=Ro))),this.config.plonkSound&&(this.plonkSound=new Audio,this.plonkSound.preload="none",this.plonkSound.src=this.config.plonkSound,this.plonkSound.volume=Ro)},Wo.prototype._speakWithSynchronizedHighlighting=function(e){if(!this.config.handleReadAloud)return;this.config.handleReadAloud(this.field,e,this.config)},Wo.prototype._speak=function(e){if(!this.config.handleSpeak)return;this.config.handleSpeak(e,this.config)},Wo.prototype.speakSelection_=function(){var e="Nothing selected.";return this.isCollapsed()||(e=ei.toSpeakableText(this.extractContents(),this.config)),this._speak(e),!1},Wo.prototype.speakSelectionWithSynchronizedHighlighting_=function(){if(!this.mathlist.isCollapsed()){window.mathlive.readAloudMathField=this,this._render({forHighlighting:!0});var e=this.config;e.textToSpeechMarkup="ssml";var t=ei.toSpeakableText(this.mathlist.extractContents(),e);this._speakWithSynchronizedHighlighting(t)}else this._speak("Nothing selected.");return!1},Wo.prototype.speakParent_=function(){var e="No parent.",t=this.mathlist.parent();return t&&t.type!=="root"&&(e=ei.toSpeakableText(this.mathlist.parent(),this.config)),this._speak(e),!1},Wo.prototype.speakRightSibling_=function(){var e="At the end.",t=this.mathlist.siblings(),n=this.mathlist.startOffset()+1;if(n<t.length-1){var r=[];for(var i=n;i<=t.length-1;i++)r.push(t[i]);e=ei.toSpeakableText(r,this.config)}return this._speak(e),!1},Wo.prototype.speakLeftSibling_=function(){var e="At the beginning.",t=this.mathlist.siblings(),n=this.mathlist.isCollapsed()?this.mathlist.startOffset():this.mathlist.startOffset()-1;if(n>=1){var r=[];for(var i=1;i<=n;i++)r.push(t[i]);e=ei.toSpeakableText(r,this.config)}return this._speak(e),!1},Wo.prototype.speakGroup_=function(){return this._speak(ei.toSpeakableText(this.mathlist.siblings(),this.config)),!1},Wo.prototype.speakAll_=function(){return this._speak(ei.toSpeakableText(this.mathlist.root,this.config)),!1},Wo.prototype.speakAllWithSynchronizedHighlighting_=function(){window.mathlive.readAloudMathField=this,this._render({forHighlighting:!0});var e=this.config;e.textToSpeechMarkup="ssml";var t=ei.toSpeakableText(this.mathlist.root,e);return this._speakWithSynchronizedHighlighting(t),!1};var Yo={MathField:Wo},uu={namespace:"",skipTags:["noscript","style","textarea","pre","code","annotation","annotation-xml"],processScriptType:"math/tex",ignoreClass:"tex2jax_ignore",processClass:"tex2jax_process",preserveOriginalContent:!0,renderAccessibleContent:"mathml",TeX:{disabled:!1,processEnvironments:!0,delimiters:{inline:[["\\(","\\)"]],display:[["$$","$$"],["\\[","\\]"]]}}},fu={renderMathInElement:au},Au={latexToMarkup:lu,latexToMathML:hu,latexToSpeakableText:du,latexToAST:pu,makeMathField:cu,renderMathInDocument:xu,renderMathInElement:Nu,revertToOriginalContent:ku,getOriginalContent:Lu,readAloud:yu,readAloudStatus:bu,pauseReadAloud:wu,resumeReadAloud:Eu,playReadAloud:Su},Ou=t.a=Au},417:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s});var r=n(1),i={type:"present",slide:{config:{width:960,height:720,maxScale:1.5,minScale:.1,fragments:!0,keyboard:!0,center:!1,transition:"slide",backgroundTransition:"slide"},colors:{name:"white-blue","background-color":"#ffffff",color:"#000000",link:"#106bcc"},font:"modern",pages:[{id:Object(r.O)(),elements:[],numbers:{},magicmove:!1}],_t:0,_v:0,version:1},editor:{elementIndex:-1,pageIndex:0,groupIndex:!1,chain:[],ckeditorOperating:!1,grid:{width:960,height:720},slideConfig:{maxScale:1,fragments:!1,minScale:1,help:!1,showNotes:!1,history:!0,touch:!1,keyboard:!1},zoomScale:{zoom:!1,scale:!1},pagesPanelOffset:{top:0,left:0,editingLeftBias:240},pagebarPosition:"right",copyData:[],copyPages:[],slideInfo:{slide_title:SD.env.slide.defaultTitle,slide_desc:"",slide_autoplay_interval:0,slide_permission:0,slide_info_version:0},latestNotes:{},latestAudios:{},operation:-1,coverEdited:!1,rookie:!1},shadow:{z:[],y:[],x:null}},s=Object(r.e)(i)},418:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(1),i={};if(r.q){var s=n(378)["default"];i=new s({warn:!1})}var o={add:function(t){return i.POST("/api/share/add",{slide_id:t})},getcode:function(t){return i.GET("/api/share/getcode",{slide_id:t})},permissionvalidate:function(t){var n=t.slide_id,r=t.share_code;return i.POST("/api/share/permissionvalidate",{slide_id:n,share_code:r})}}},451:function(e,t,n){"use strict";function o(e,t,n){function b(e){var n=e.touches[0];d=n.pageX-h,v=n.pageY-p,m===undefined&&(m=Math.abs(v)>Math.abs(d)?s:i),t==="horizontal-swipe"&&m===i&&e.preventDefault(),t==="vertical-swipe"&&m===s&&e.preventDefault()}function w(e){l.removeEventListener("touchmove",b),l.removeEventListener("touchend",w),l.removeEventListener("touchcancel",w),y=new Date-g;if(Math.abs(d)<f&&Math.abs(v)<f)if(y<a){if(t!=="tap")return;n()}else if(y>u){if(t!=="longtap")return;n()}if(m===s){if(t!=="vertical-swipe")return;var r=v;if(Math.abs(r)>=o){var i=r>0?"down":"up";n(i)}}else{if(t!=="horizontal-swipe")return;var c=d;if(Math.abs(c)>=o){var h=c>0?"right":"left";n(h)}}}var r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{},i=1,s=2,o=30,u=1e3,a=250,f=5,l=document.body,c,h,p,d,v,m,g,y;e.addEventListener("touchstart",function(e){l.removeEventListener("touchmove",b),l.removeEventListener("touchend",w),l.removeEventListener("touchcancel",w),c=e.touches[0],h=c.pageX,p=c.pageY,d=0,v=0,m=undefined,g=new Date,l.addEventListener("touchmove",b,{passive:!1}),l.addEventListener("touchend",w,{passive:!1}),l.addEventListener("touchcancel",w,{passive:!1})})}var r=n(9),i=n.n(r),s={install:function(){i.a.directive("gesture",{inserted:function(t,n,r){var i=n.arg,s=n.value;o(t,i,s,n.modifiers)}})}};t.a=s},452:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}var r=n(1),i=n(88),s=n(381),o=n(64),u=n(90);r.q&&(n(35),n(490));var c=function(){function e(t){a(this,e),r.q&&this.init()}return l(e,[{key:"init",value:function(){this.remoteReady=!1,this.userCheck=!1,this.remoteTasks=[],this.myUser={},this.source={config:"remote",info:"remote",noLogin:!1,noSave:!1},this.asyncUser(),this.asyncSlide()}},{key:"getLocalSlide",value:function(){var t;if(!o.d||!this.myUser.user_name){t=u.a.getSlide("noLogin","noLogin");if(Object(r.w)(t)){if(!this.myUser.user_name)return;t=u.a.getSlide("noSave",this.myUser.user_name),this.source.noSave=!0}this.source.noLogin=!this.source.noSave}else t=u.a.getSlide(o.d,this.myUser.user_name);this.localSlide=t.slide_config,delete t.slide_config,this.localSlideInfo=t}},{key:"asyncSlide",value:function(){var t=this;o.d?i.d.detail(o.d).then(function(e){var n=e.slide_config;delete e.slide_config,t.remoteSlideInfo=e,Object(r.E)(n)&&(n=JSON.parse(n)),t.remoteSlide=n,t.remoteReady=!0,t.run()},function(e){t.remoteReady=!0,t.run()}):(SD.slide&&SD.slide.slide_config&&(this.remoteSlide=SD.slide.slide_config),this.remoteReady=!0,this.run())}},{key:"asyncUser",value:function(){var t=this;s.a.detail().then(function(e){t.myUser=e,t.getLocalSlide(),t.userCheck=!0,t.run()},function(e){t.getLocalSlide(),t.userCheck=!0,t.run()})}},{key:"awaitReturn",value:function(t){var n=this;return new Promise(function(e,r){n.remoteReady&&n.userCheck?t(e,r):n.remoteTasks.push(function(){return t(e,r)})})}},{key:"run",value:function(){this.remoteReady&&this.userCheck&&this.remoteTasks.forEach(function(e){return e()})}},{key:"getLatestSlide",value:function(){var t=this;return this.awaitReturn(function(e,n){!Object(r.w)(t.localSlide)&&!Object(r.w)(t.remoteSlide)&&!Object(r.w)(t.remoteSlideInfo)&&!Object(r.w)(t.localSlideInfo)&&t.remoteSlideInfo.slide_info_version===t.localSlideInfo.slide_info_version&&t.localSlide._t>t.remoteSlide._t?(t.source.config="local",e(t.localSlide)):!Object(r.w)(t.remoteSlide)&&!Object(r.w)(t.remoteSlideInfo)?e(t.remoteSlide):Object(r.w)(t.localSlide)?Object(r.w)(t.remoteSlide)?o.d?location.href="/editor":e():e(t.remoteSlide):(t.source.config="local",e(t.localSlide))})}},{key:"getSlideInfo",value:function(){var t=this;return this.awaitReturn(function(e,n){var i={};!Object(r.w)(t.remoteSlideInfo)&&!Object(r.w)(t.localSlideInfo)?t.remoteSlideInfo.slide_info_version===t.localSlideInfo.slide_info_version&&!Object(r.w)(t.localSlide)&&!Object(r.w)(t.remoteSlide)&&t.localSlide._t>t.remoteSlide._t?(i=t.localSlideInfo,t.source.info="local"):i=t.remoteSlideInfo:Object(r.w)(t.remoteSlideInfo)?Object(r.w)(t.localSlideInfo)||(i=t.localSlideInfo):i=t.remoteSlideInfo,i.user_name=t.myUser.user_name||"noLogin",e(i)})}},{key:"getRemoteSlide",value:function(){var t=this;return this.userCheck=!0,this.awaitReturn(function(e,n){return e(t.remoteSlide)})}}]),e}();t.a=new c},507:function(e,t,n){"use strict";var r=n(9),i=n.n(r),s=n(451),o=n(430),u=n(431),a=n(432),f=n(433),l=n(434),c=n(435),h=n(436),p=n(437),d=n(438),v=n(439),m=n(440),g=n(441),y=n(442),b=n(443);i.a.use(s.a),i.a.component("plugin-base",o.a),i.a.component("plugin-slide",u.a),i.a.component("plugin-page",a.a),i.a.component("plugin-group",f.a),i.a.component("plugin-text",l.a),i.a.component("plugin-image",c.a),i.a.component("plugin-shape",h.a),i.a.component("plugin-code",p.a),i.a.component("plugin-line",d.a),i.a.component("plugin-iframe",v.a),i.a.component("plugin-table",m.a),i.a.component("plugin-highlighter",g.a),i.a.component("plugin-math",y.a),i.a.component("plugin-tabledata",b.a)},531:function(e,t){function n(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(t){return typeof t}:n=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}(function(e){e.Jcrop=function(t,r){function f(e){return Math.round(e)+"px"}function l(e){return i.baseClass+"-"+e}function c(){return e.fx.step.hasOwnProperty("backgroundColor")}function h(t){var n=e(t).offset();return[n.left,n.top]}function p(e){return[e.pageX-s[0],e.pageY-s[1]]}function d(t){n(t)!=="object"&&(t={}),i=e.extend(i,t),e.each(["onChange","onSelect","onRelease","onDblClick"],function(e,t){typeof i[t]!="function"&&(i[t]=function(){})})}function v(e,t,n){s=h(O),rt.setCursor(e==="move"?e:e+"-resize");if(e==="move")return rt.activateHandlers(g(t),S,n);var r=et.getFixed(),i=y(e),o=et.getCorner(y(i));et.setPressed(et.getCorner(i)),et.setCurrent(o),rt.activateHandlers(m(e,r),S,n)}function m(e,t){return function(n){if(!i.aspectRatio)switch(e){case"e":n[1]=t.y2;break;case"w":n[1]=t.y2;break;case"n":n[0]=t.x2;break;case"s":n[0]=t.x2}else switch(e){case"e":n[1]=t.y+1;break;case"w":n[1]=t.y+1;break;case"n":n[0]=t.x+1;break;case"s":n[0]=t.x+1}et.setCurrent(n),nt.update()}}function g(e){var t=e;return it.watchKeys(),function(e){et.moveOffset([e[0]-t[0],e[1]-t[1]]),t=e,nt.update()}}function y(e){switch(e){case"n":return"sw";case"s":return"nw";case"e":return"nw";case"w":return"ne";case"ne":return"sw";case"nw":return"se";case"se":return"nw";case"sw":return"ne"}}function b(e){return function(t){return i.disabled?!1:e==="move"&&!i.allowMove?!1:(s=h(O),Q=!0,v(e,p(t)),t.stopPropagation(),t.preventDefault(),!1)}}function w(e,t,n){var r=e.width(),i=e.height();r>t&&t>0&&(r=t,i=t/e.width()*e.height()),i>n&&n>0&&(i=n,r=n/e.height()*e.width()),V=e.width()/r,J=e.height()/i,e.width(r).height(i)}function E(e){return{x:e.x*V,y:e.y*J,x2:e.x2*V,y2:e.y2*J,w:e.w*V,h:e.h*J}}function S(e){var t=et.getFixed();t.w>i.minSelect[0]&&t.h>i.minSelect[1]?(nt.enableHandles(),nt.done()):nt.release(),rt.setCursor(i.allowSelect?"crosshair":"default")}function x(e){if(i.disabled)return!1;if(!i.allowSelect)return!1;Q=!0,s=h(O),nt.disableHandles(),rt.setCursor("crosshair");var t=p(e);return et.setPressed(t),nt.update(),rt.activateHandlers(T,S,e.type.substring(0,5)==="touch"),it.watchKeys(),e.stopPropagation(),e.preventDefault(),!1}function T(e){et.setCurrent(e),nt.update()}function N(){var t=e("<div></div>").addClass(l("tracker"));return u&&t.css({opacity:0,backgroundColor:"white"}),t}function st(e){D.removeClass().addClass(l("holder")).addClass(e)}function ot(e,t){function b(){window.setTimeout(w,c)}var n=e[0]/V,r=e[1]/J,s=e[2]/V,o=e[3]/J;if(G)return;var u=et.flipCoords(n,r,s,o),a=et.getFixed(),f=[a.x,a.y,a.x2,a.y2],l=f,c=i.animationDelay,h=u[0]-f[0],p=u[1]-f[1],d=u[2]-f[2],v=u[3]-f[3],m=0,g=i.swingSpeed;n=l[0],r=l[1],s=l[2],o=l[3],nt.animMode(!0);var y,w=function(){return function(){m+=(100-m)/g,l[0]=Math.round(n+m/100*h),l[1]=Math.round(r+m/100*p),l[2]=Math.round(s+m/100*d),l[3]=Math.round(o+m/100*v),m>=99.8&&(m=100),m<100?(at(l),b()):(nt.done(),nt.animMode(!1),typeof t=="function"&&t.call(bt))}}();b()}function ut(e){at([e[0]/V,e[1]/J,e[2]/V,e[3]/J]),i.onSelect.call(bt,E(et.getFixed())),nt.enableHandles()}function at(e){et.setPressed([e[0],e[1]]),et.setCurrent([e[2],e[3]]),nt.update()}function ft(){return E(et.getFixed())}function lt(){return et.getFixed()}function ct(e){d(e),yt()}function ht(){i.disabled=!0,nt.disableHandles(),nt.setCursor("default"),rt.setCursor("default")}function pt(){i.disabled=!1,yt()}function dt(){nt.done(),rt.activateHandlers(null,null)}function vt(){D.remove(),k.show(),k.css("visibility","visible"),e(t).removeData("Jcrop")}function mt(e,t){nt.release(),ht();var n=new Image;n.onload=function(){var r=n.width,s=n.height,o=i.boxWidth,u=i.boxHeight;O.width(r).height(s),O.attr("src",e),P.attr("src",e),w(O,o,u),M=O.width(),_=O.height(),P.width(M).height(_),I.width(M+F*2).height(_+F*2),D.width(M).height(_),tt.resize(M,_),pt(),typeof t=="function"&&t.call(bt)},n.src=e}function gt(e,t,n){var r=t||i.bgColor;i.bgFade&&c()&&i.fadeTime&&!n?e.animate({backgroundColor:r},{queue:!1,duration:i.fadeTime}):e.css("backgroundColor",r)}function yt(e){i.allowResize?e?nt.enableOnly():nt.enableHandles():nt.disableHandles(),rt.setCursor(i.allowSelect?"crosshair":"default"),nt.setCursor(i.allowMove?"move":"default"),i.hasOwnProperty("trueSize")&&(V=i.trueSize[0]/M,J=i.trueSize[1]/_),i.hasOwnProperty("setSelect")&&(ut(i.setSelect),nt.done(),delete i.setSelect),tt.refresh(),i.bgColor!=q&&(gt(i.shade?tt.getShades():D,i.shade?i.shadeColor||i.bgColor:i.bgColor),q=i.bgColor),R!=i.bgOpacity&&(R=i.bgOpacity,i.shade?tt.refresh():nt.setBgOpacity(R)),U=i.maxSize[0]||0,z=i.maxSize[1]||0,W=i.minSize[0]||0,X=i.minSize[1]||0,i.hasOwnProperty("outerImage")&&(O.attr("src",i.outerImage),delete i.outerImage),nt.refresh()}var i=e.extend({},e.Jcrop.defaults),s,o=navigator.userAgent.toLowerCase(),u=/msie/.test(o),a=/msie [1-6]\./.test(o);n(t)!=="object"&&(t=e(t)[0]),n(r)!=="object"&&(r={}),d(r);var C={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0},k=e(t),L=!0;if(t.tagName=="IMG"){if(k[0].width!=0&&k[0].height!=0)k.width(k[0].width),k.height(k[0].height);else{var A=new Image;A.src=k[0].src,k.width(A.width),k.height(A.height)}var O=k.clone().removeAttr("id").css(C).show();O.width(k.width()),O.height(k.height()),k.after(O).hide()}else O=k.css(C).show(),L=!1,i.shade===null&&(i.shade=!0);w(O,i.boxWidth,i.boxHeight);var M=O.width(),_=O.height(),D=e("<div />").width(M).height(_).addClass(l("holder")).css({position:"relative",backgroundColor:i.bgColor}).insertAfter(k).append(O);i.addClass&&D.addClass(i.addClass);var P=e("<div />"),H=e("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),B=e("<div />").width("100%").height("100%").css("zIndex",320),j=e("<div />").css({position:"absolute",zIndex:600}).dblclick(function(){var e=et.getFixed();i.onDblClick.call(bt,e)}).insertBefore(O).append(H,B);L&&(P=e("<img />").attr("src",O.attr("src")).css(C).width(M).height(_),H.append(P)),a&&j.css({overflowY:"hidden"});var F=i.boundary,I=N().width(M+F*2).height(_+F*2).css({position:"absolute",top:f(-F),left:f(-F),zIndex:290}).mousedown(x),q=i.bgColor,R=i.bgOpacity,U,z,W,X,V,J,K=!0,Q,G,Y;s=h(O);var Z=function(){function e(){var e={},t=["touchstart","touchmove","touchend"],n=document.createElement("div"),r;try{for(r=0;r<t.length;r++){var i=t[r];i="on"+i;var s=i in n;s||(n.setAttribute(i,"return;"),s=typeof n[i]=="function"),e[t[r]]=s}return e.touchstart&&e.touchend&&e.touchmove}catch(o){return!1}}function t(){return i.touchSupport===!0||i.touchSupport===!1?i.touchSupport:e()}return{createDragger:function(t){return function(e){return i.disabled?!1:t==="move"&&!i.allowMove?!1:(s=h(O),Q=!0,v(t,p(Z.cfilter(e)),!0),e.stopPropagation(),e.preventDefault(),!1)}},newSelection:function(t){return x(Z.cfilter(t))},cfilter:function(t){return t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t},isSupported:e,support:t()}}(),et=function(){function u(i){i=p(i),n=e=i[0],r=t=i[1]}function a(e){e=p(e),s=e[0]-n,o=e[1]-r,n=e[0],r=e[1]}function f(){return[s,o]}function l(i){var s=i[0],o=i[1];0>e+s&&(s-=s+e),0>t+o&&(o-=o+t),_<r+o&&(o+=_-(r+o)),M<n+s&&(s+=M-(n+s)),e+=s,n+=s,t+=o,r+=o}function c(e){var t=h();switch(e){case"ne":return[t.x2,t.y];case"nw":return[t.x,t.y];case"se":return[t.x2,t.y2];case"sw":return[t.x,t.y2]}}function h(){if(!i.aspectRatio)return v();var s=i.aspectRatio,o=i.minSize[0]/V,u=i.maxSize[0]/V,a=i.maxSize[1]/J,f=n-e,l=r-t,c=Math.abs(f),h=Math.abs(l),p=c/h,g,y,b,w;return u===0&&(u=M*10),a===0&&(a=_*10),p<s?(y=r,b=h*s,g=f<0?e-b:b+e,g<0?(g=0,w=Math.abs((g-e)/s),y=l<0?t-w:w+t):g>M&&(g=M,w=Math.abs((g-e)/s),y=l<0?t-w:w+t)):(g=n,w=c/s,y=l<0?t-w:t+w,y<0?(y=0,b=Math.abs((y-t)*s),g=f<0?e-b:b+e):y>_&&(y=_,b=Math.abs(y-t)*s,g=f<0?e-b:b+e)),g>e?(g-e<o?g=e+o:g-e>u&&(g=e+u),y>t?y=t+(g-e)/s:y=t-(g-e)/s):g<e&&(e-g<o?g=e-o:e-g>u&&(g=e-u),y>t?y=t+(e-g)/s:y=t-(e-g)/s),g<0?(e-=g,g=0):g>M&&(e-=g-M,g=M),y<0?(t-=y,y=0):y>_&&(t-=y-_,y=_),m(d(e,t,g,y))}function p(e){return e[0]<0&&(e[0]=0),e[1]<0&&(e[1]=0),e[0]>M&&(e[0]=M),e[1]>_&&(e[1]=_),[Math.round(e[0]),Math.round(e[1])]}function d(e,t,n,r){var i=e,s=n,o=t,u=r;return n<e&&(i=n,s=e),r<t&&(o=r,u=t),[i,o,s,u]}function v(){var i=n-e,s=r-t,o;return U&&Math.abs(i)>U&&(n=i>0?e+U:e-U),z&&Math.abs(s)>z&&(r=s>0?t+z:t-z),X/J&&Math.abs(s)<X/J&&(r=s>0?t+X/J:t-X/J),W/V&&Math.abs(i)<W/V&&(n=i>0?e+W/V:e-W/V),e<0&&(n-=e,e-=e),t<0&&(r-=t,t-=t),n<0&&(e-=n,n-=n),r<0&&(t-=r,r-=r),n>M&&(o=n-M,e-=o,n-=o),r>_&&(o=r-_,t-=o,r-=o),e>M&&(o=e-_,r-=o,t-=o),t>_&&(o=t-_,r-=o,t-=o),m(d(e,t,n,r))}function m(e){return{x:e[0],y:e[1],x2:e[2],y2:e[3],w:e[2]-e[0],h:e[3]-e[1]}}var e=0,t=0,n=0,r=0,s,o;return{flipCoords:d,setPressed:u,setCurrent:a,getOffset:f,moveOffset:l,getCorner:c,getFixed:h}}(),tt=function(){function s(e,t){r.left.css({height:f(t)}),r.right.css({height:f(t)})}function o(){return u(et.getFixed())}function u(e){r.top.css({left:f(e.x),width:f(e.w),height:f(e.y)}),r.bottom.css({top:f(e.y2),left:f(e.x),width:f(e.w),height:f(_-e.y2)}),r.right.css({left:f(e.x2),width:f(M-e.x2)}),r.left.css({width:f(e.x)})}function a(){return e("<div />").css({position:"absolute",backgroundColor:i.shadeColor||i.bgColor}).appendTo(n)}function l(){t||(t=!0,n.insertBefore(O),o(),nt.setBgOpacity(1,0,1),P.hide(),c(i.shadeColor||i.bgColor,1),nt.isAwake()?p(i.bgOpacity,1):p(1,1))}function c(e,t){gt(v(),e,t)}function h(){t&&(n.remove(),P.show(),t=!1,nt.isAwake()?nt.setBgOpacity(i.bgOpacity,1,1):(nt.setBgOpacity(1,1,1),nt.disableHandles()),gt(D,0,1))}function p(e,r){t&&(i.bgFade&&!r?n.animate({opacity:1-e},{queue:!1,duration:i.fadeTime}):n.css({opacity:1-e}))}function d(){i.shade?l():h(),nt.isAwake()&&p(i.bgOpacity)}function v(){return n.children()}var t=!1,n=e("<div />").css({position:"absolute",zIndex:240,opacity:0}),r={top:a(),left:a().height(_),right:a().height(_),bottom:a()};return{update:o,updateRaw:u,getShades:v,setBgColor:c,enable:l,disable:h,resize:s,refresh:d,opacity:p}}(),nt=function(){function a(t){var n=e("<div />").css({position:"absolute",opacity:i.borderOpacity}).addClass(l(t));return H.append(n),n}function c(t,n){var r=e("<div />").mousedown(b(t)).css({cursor:t+"-resize",position:"absolute",zIndex:n}).addClass("ord-"+t);return Z.support&&r.bind("touchstart.jcrop",Z.createDragger(t)),B.append(r),r}function h(e){var t=i.handleSize,r=c(e,n++).css({opacity:i.handleOpacity}).addClass(l("handle"));return t&&r.width(t).height(t),r}function p(e){return c(e,n++).addClass("jcrop-dragbar")}function d(e){var t;for(t=0;t<e.length;t++)o[e[t]]=p(e[t])}function v(e){var t,n;for(n=0;n<e.length;n++){switch(e[n]){case"n":t="hline";break;case"s":t="hline bottom";break;case"e":t="vline right";break;case"w":t="vline"}r[e[n]]=a(t)}}function m(e){var t;for(t=0;t<e.length;t++)s[e[t]]=h(e[t])}function g(e,t){i.shade||P.css({top:f(-t),left:f(-e)}),j.css({top:f(t),left:f(e)})}function y(e,t){j.width(Math.round(e)).height(Math.round(t))}function w(){var e=et.getFixed();et.setPressed([e.x,e.y]),et.setCurrent([e.x2,e.y2]),S()}function S(e){if(t)return x(e)}function x(e){var n=et.getFixed();y(n.w,n.h),g(n.x,n.y),i.shade&&tt.updateRaw(n),t||C(),e?i.onSelect.call(bt,E(n)):i.onChange.call(bt,E(n))}function T(e,n,r){if(!t&&!n)return;i.bgFade&&!r?O.animate({opacity:e},{queue:!1,duration:i.fadeTime}):O.css("opacity",e)}function C(){j.show(),i.shade?tt.opacity(R):T(R,!0),t=!0}function k(){M(),j.hide(),i.shade?tt.opacity(1):T(1),t=!1,i.onRelease.call(bt)}function L(){u&&B.show()}function A(){u=!0;if(i.allowResize)return B.show(),!0}function M(){u=!1,B.hide()}function _(e){e?(G=!0,M()):(G=!1,A())}function D(){_(!1),w()}var t,n=370,r={},s={},o={},u=!1;i.dragEdges&&e.isArray(i.createDragbars)&&d(i.createDragbars),e.isArray(i.createHandles)&&m(i.createHandles),i.drawBorders&&e.isArray(i.createBorders)&&v(i.createBorders),e(document).bind("touchstart.jcrop-ios",function(t){e(t.currentTarget).hasClass("jcrop-tracker")&&t.stopPropagation()});var F=N().mousedown(b("move")).css({cursor:"move",position:"absolute",zIndex:360});return Z.support&&F.bind("touchstart.jcrop",Z.createDragger("move")),H.append(F),M(),{updateVisible:S,update:x,release:k,refresh:w,isAwake:function(){return t},setCursor:function(t){F.css("cursor",t)},enableHandles:A,enableOnly:function(){u=!0},showHandles:L,disableHandles:M,animMode:_,setBgOpacity:T,done:D}}(),rt=function(){function s(t){I.css({zIndex:450}),t?e(document).bind("touchmove.jcrop",l).bind("touchend.jcrop",c):r&&e(document).bind("mousemove.jcrop",u).bind("mouseup.jcrop",a)}function o(){I.css({zIndex:290}),e(document).unbind(".jcrop")}function u(e){return t(p(e)),!1}function a(e){return e.preventDefault(),e.stopPropagation(),Q&&(Q=!1,n(p(e)),nt.isAwake()&&i.onSelect.call(bt,E(et.getFixed())),o(),t=function(){},n=function(){}),!1}function f(e,r,i){return Q=!0,t=e,n=r,s(i),!1}function l(e){return t(p(Z.cfilter(e))),!1}function c(e){return a(Z.cfilter(e))}function h(e){I.css("cursor",e)}var t=function(){},n=function(){},r=i.trackDocument;return r||I.mousemove(u).mouseup(a).mouseout(a),O.before(I),{activateHandlers:f,setCursor:h}}(),it=function(){function r(){i.keySupport&&(t.show(),t.focus())}function s(e){t.hide()}function o(e,t,n){i.allowMove&&(et.moveOffset([t,n]),nt.updateVisible(!0)),e.preventDefault(),e.stopPropagation()}function u(e){if(e.ctrlKey||e.metaKey)return!0;Y=e.shiftKey?!0:!1;var t=Y?10:1;switch(e.keyCode){case 37:o(e,-t,0);break;case 39:o(e,t,0);break;case 38:o(e,0,-t);break;case 40:o(e,0,t);break;case 27:i.allowSelect&&nt.release();break;case 9:return!0}return!1}var t=e('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),n=e("<div />").css({position:"absolute",overflow:"hidden"}).append(t);return i.keySupport&&(t.keydown(u).blur(s),a||!i.fixedSupport?(t.css({position:"absolute",left:"-20px"}),n.append(t).insertBefore(O)):t.insertBefore(O)),{watchKeys:r}}();Z.support&&I.bind("touchstart.jcrop",Z.newSelection),B.hide(),yt(!0);var bt={setImage:mt,animateTo:ot,setSelect:ut,setOptions:ct,tellSelect:ft,tellScaled:lt,setClass:st,disable:ht,enable:pt,cancel:dt,release:nt.release,destroy:vt,focus:it.watchKeys,getBounds:function(){return[M*V,_*J]},getWidgetSize:function(){return[M,_]},getScaleFactor:function(){return[V,J]},getOptions:function(){return i},ui:{holder:D,selection:j}};return u&&D.bind("selectstart",function(){return!1}),k.data("Jcrop",bt),bt},e.fn.Jcrop=function(t,n){var r;return this.each(function(){if(e(this).data("Jcrop")){if(t==="api")return e(this).data("Jcrop");e(this).data("Jcrop").setOptions(t)}else this.tagName=="IMG"?e.Jcrop.Loader(this,function(){e(this).css({display:"block",visibility:"hidden"}),r=e.Jcrop(this,t),e.isFunction(n)&&n.call(r)}):(e(this).css({display:"block",visibility:"hidden"}),r=e.Jcrop(this,t),e.isFunction(n)&&n.call(r))}),this},e.Jcrop.Loader=function(t,n,r){function o(){s.complete?(i.unbind(".jcloader"),e.isFunction(n)&&n.call(s)):window.setTimeout(o,50)}var i=e(t),s=i[0];i.bind("load.jcloader",o).bind("error.jcloader",function(t){i.unbind(".jcloader"),e.isFunction(r)&&r.call(s)}),s.complete&&e.isFunction(n)&&(i.unbind(".jcloader"),n.call(s))},e.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,bgFade:!1,borderOpacity:.4,handleOpacity:.5,handleSize:null,aspectRatio:0,keySupport:!0,createHandles:["n","s","e","w","nw","ne","se","sw"],createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}})(jQuery)},64:function(e,t,n){"use strict";function o(){if(window.OfflineData&&window.OfflineData.slide_id){s=window.OfflineData.slide_id;return}s=location.pathname.match(/(d|p|embed|editor)\/([^/]+)/)?location.pathname.match(/(d|p|embed|editor)\/([^/]+)/)[2]:i.slide_id}n.d(t,"d",function(){return s}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return u}),n.d(t,"c",function(){return f}),n.d(t,"e",function(){return l});var r=n(1),i=r.q?Object(r.J)():{},s;r.q&&o();var u=i.style,a=r.q&&function(){var e=location.pathname.match(/\/([^/]+)(\/|$)/)&&location.pathname.match(/\/([^/]+)(\/|$)/)[1];if(!e)return"index";if(e.length===1){var t={d:"display",p:"present"};return t[e]}return e}(),f=r.q&&!Object(r.w)(window.SD&&window.SD.myself),l=r.q&&(f?window.SD.myself.user_name:"noLogin")},71:function(e,t,n){"use strict";function a(e){return c(e)||l(e)||f()}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function l(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function c(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function v(e,t,n,r){typeof n!="function"&&(r=n,n=null);if(!d){var o=document.createElement("div");p=new i.a({el:o,data:function(){return{title:"",msg:t,mode:e,callback:n,pos:"center",posRelativeTo:null,maskStyles:{},bodyStyle:{}}},template:h,components:{VueDialog:s.a}}),d=p.$children[0]}return p.title="",p.msg=t,p.mode=e,p.callback=n,r?(p.posRelativeTo=r.posRelativeTo,p.pos=r.pos,window.dialog=d):(p.posRelativeTo=null,p.pos="center",p.maskStyles={},p.bodyStyle={}),d.$nextTick(function(){d.open()}),d}var r=n(9),i=n.n(r),s=n(72),o=n(380),u=n.n(o);s.a.toast=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=document.querySelector(".Toast");n||(n=document.createElement("div"),document.body.appendChild(n)),n.innerHTML=u()(e);var r=t.classNames||[];n.className=["Toast"].concat(a(r)).join(" "),n.offsetWidth,n.classList.add("Toast--show")},s.a.alert=function(e,t,n){s.a.dialogVm=v("alert",e,t,n)},s.a.confirm=function(e,t,n){s.a.dialogVm=v("confirm",e,t,n)};var h='<vue-dialog :title="title" :msg="msg" :mode="mode"  :callback="callback" :pos="pos" :pos-relative-to="posRelativeTo" :mask-styles="maskStyles" :body-style="bodyStyle"></vue-dialog>',p,d;t.a=s.a},88:function(e,t,n){"use strict";n.d(t,"d",function(){return c}),n.d(t,"b",function(){return h}),n.d(t,"c",function(){return p}),n.d(t,"e",function(){return d}),n.d(t,"a",function(){return v});var r=n(1),i=n(90),s=n(64),o=n(2),u={};if(r.q){var a=n(378)["default"];u=new a({tipFn:function(t){return o.a.$emit("tips-error",{tips:t,lastTime:5})}})}var f={upload:function(t){return u.FORMDATA("/api/audio/upload",t)}},l=!1,c={add:function(t){var n=t.slide_config,i=n===void 0?{}:n,s=t.slide_title,o=t.slide_desc,a=o===void 0?"":o,f=t.slide_autoplay_interval,l=t.slide_create_status,c=l===void 0?0:l,h=t.slide_id,p=h===void 0?"":h;return Object(r.E)(i)||(i=JSON.stringify(i)),u.POST("/api/slide/add",{slide_config:i,slide_title:s,slide_desc:a,slide_autoplay_interval:f,slide_create_status:c,slide_id:p})},copy:function(t){return u.POST("/api/slide/copy",{slide_id:t})},detail:function(t){return r.q&&!Object(r.w)(window.SD.slide)?Promise.resolve(Object(r.e)(window.SD.slide)):u.GET("/api/slide/detail",{slide_id:t})},save:function(t,n,i,s){if(l)return Promise.resolve();l=!0;if(i===undefined)throw new Error("save 接口必须包含版本信息");if(!Object(r.E)(t))return Promise.reject(new Error("slideId need a string"));Object(r.E)(n)||(n=JSON.stringify(n));var a={slide_id:t,slide_config:n,slide_info_version:i},f="/api/slide/update";return u.POST(f,a).then(function(e){return e&&e.slide_info_version&&o.a.$emit("slide-info-version-update",e.slide_info_version),l=!1,e},function(){return Promise.reject(new Error("保存失败"))})["catch"](function(e){return l=!1,Promise.reject(e)})},updateInfo:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"noLogin",n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},a=arguments.length>2?arguments[2]:undefined;if(typeof n["slide_info_version"]=="undefined")throw new Error("updateInfo 接口必须包含版本信息");var f=i.a.getSlide(t,s.e);Object.assign(f,n),i.a.setSlide(f,t,s.e);if(!s.c||t==="noLogin")return Promise.resolve({errno:0});if(!Object(r.E)(t))return Promise.reject(new Error("slide_id must be a string"));n.slide_id=t;var c="/api/slide/update";return u.POST(c,n).then(function(e){return e&&e.slide_info_version&&o.a.$emit("slide-info-version-update",e.slide_info_version),l=!1,e},function(){return Promise.reject(new Error("保存失败"))})["catch"](function(e){return l=!1,Promise.reject(e)})},updateSlideCollaborator:function(t,n){var r="/api/slide/".concat(t,"/collaborator/update"),i=new FormData;return i.append("collaborators",n.join()),u.FORMDATA(r,i)},list:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20,r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:-1;return u.GET("/api/slide/list",{page:t,epage:n,tag_id:r})},"delete":function(t){return u.POST("/api/slide/delete",{slide_id:t})},publicList:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=t.user_name,i=t.page,s=i===void 0?1:i,o=t.epage,a=o===void 0?20:o,f=t.cache,l=f===void 0?!1:f;if(l&&r.q&&!Object(r.w)(window.SD.slides)&&!Object(r.w)(window.SD.author)){var c=window.SD.slides,h=window.SD.author;if(parseInt(c.currentPage,10)===s&&parseInt(c.pageSize,10)===a&&(n===h.user_name||!n))return Promise.resolve(c)}return!n&&r.q&&(window.SD.author&&window.SD.author.user_name?n=window.SD.author.user_name:window.SD.myself&&window.SD.myself.user_name&&(n=window.SD.myself.user_name)),u.GET("/api/slide/publiclist",{user_name:n,page:s,epage:a})},hotlist:function(t){return u.GET("/api/slide/hotlist",t)},collect:function(t){return u.POST("/api/slide/collect",{slide_id:t})},uncollect:function(t){return u.POST("/api/slide/uncollect",{slide_id:t})},settag:function(t,n){return u.POST("/api/slide/settag",{tag_id:t,slide_ids:n})},exportPDF:function(t,n){return u.POST("/api/slide/exportpdf",{slide_id:t,email:n})}},h={add:function(t){return u.FORMDATA("/api/image/add",t)},addByUrl:function(t){return u.POST("/api/image/addbyurl",{url:t})},addByCrop:function(t){return u.POST("/api/image/addbycrop",{url:t})},del:function(t){return u.POST("/api/image/delete",{id:t})},list:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;return u.GET("/api/image/list",{page:t,epage:n})},upload:function(t){return u.FORMDATA("/api/image/upload",t)}},p={publiclist:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:48;return u.GET("/api/shape/publiclist",{page:t,epage:n})}},d={add:function(t){return u.FORMDATA("/api/template/add",t)},del:function(t){return u.POST("/api/template/delete",{id:t})},list:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return u.GET("/api/template/list",{page:t,epage:n})},publiclist:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;return u.GET("/api/template/publiclist",{page:t,epage:n})},apply:function(t){return Object(r.E)(t.slide_config)||(t.slide_config=JSON.stringify(t.slide_config)),u.POST("/api/template/apply",t)},update:function(t){return Object(r.E)(t.slide_config)||(t.slide_config=JSON.stringify(t.slide_config)),u.POST("/api/template/update",t)},getstatus:function(t){var n=t.slide_id;return u.GET("/api/template/getstatus",{slide_id:n})},templatelist:function(t){return u.GET("/api/template/templatelist",{page:t.page,pagesize:t.pagesize})}},v={canExportZip:function(){return u.GET("/api/slide/canexportzip")}},m={api:{audio:f,image:h,shape:p,slide:c,template:d}}},90:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}var r=n(1),u={};try{window.localStorage&&(u.localStorage=window.localStorage)}catch(a){}r.q&&!u.localStorage&&Object.defineProperty(u,"localStorage",new function(){var e=[],t={};Object.defineProperty(t,"getItem",{value:function(t){return t?this[t]:null},writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(t,"key",{value:function(n){return e[n]},writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(t,"setItem",{value:function(t,n){if(!t)return;document.cookie=escape(t)+"="+escape(n)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/"},writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(t,"length",{get:function(){return e.length},configurable:!1,enumerable:!1}),Object.defineProperty(t,"removeItem",{value:function(t){if(!t)return;document.cookie=escape(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/"},writable:!1,configurable:!1,enumerable:!1}),this.get=function(){var n;for(var r in t)n=e.indexOf(r),n===-1?t.setItem(r,t[r]):e.splice(n,1),delete t[r];for(e;e.length>0;e.splice(0,1))t.removeItem(e[0]);for(var i,s,o=0,u=document.cookie.split(/\s*;\s*/);o<u.length;o++)i=u[o].split(/\s*=\s*/),i.length>1&&(t[s=unescape(i[0])]=unescape(i[1]),e.push(s));return t},this.configurable=!1,this.enumerable=!0});var f=function(){function e(){i(this,e)}return o(e,[{key:"setSlide",value:function(t,n,r){this.wrap({key:"slide-"+n,data:Object.assign({},t,{user_name:r})})}},{key:"getSlide",value:function(t,n){var i=this.unpack({key:"slide-"+t,parse:!0});return!Object(r.B)(i)||i.user_name!==n&&i.user_name!=="noLogin"?{}:i}},{key:"delSlide",value:function(t){this._delItem("slide-"+t)}},{key:"wrap",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=t.key,i=t.data,s=t.expire;Object(r.E)(i)||(i=JSON.stringify(i)),Object(r.A)(s)?s=Date.now()+s:s=Date.now()+2592e6;var o=JSON.stringify({data:i,expire:s,lastUpdate:Date.now()});this._setItem(n,o)||this._setItem(n,o)}},{key:"unpack",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=t.key,r=t.parse,i=t.expire,s=i===void 0?!0:i;try{var o=u.localStorage.getItem(n);if(!o)return;try{o=JSON.parse(o)}catch(a){throw new Error(n+"数据遭到破坏，无法解析"+a)}if(s&&Date.now()>o.expire)throw new Error(n+"本地存储已过期。"+Date.now()-o.expire);return r&&(o.data=JSON.parse(o.data)),o.data}catch(a){this._delItem(n)}}},{key:"_delItem",value:function(t){try{u.localStorage.removeItem(t)}catch(n){}}},{key:"_setItem",value:function(t,n){try{return u.localStorage.setItem(t,n),!0}catch(r){return this._clear(),!1}}},{key:"_clear",value:function(){try{var t=!0,n=u.localStorage.length;for(var i=0;i<n;i++){var s=u.localStorage.key(i);if(s==="spectrum")continue;var o=u.localStorage.getItem(s);if(!Object(r.E)(o))t=!1,u.localStorage.removeItem(s);else{var a=void 0;try{a=JSON.parse(o)}catch(f){t=!1,u.localStorage.removeItem(s);continue}if(!a.expire||a.expire<Date.now())t=!1,u.localStorage.removeItem(s)}}t&&u.localStorage.clear()}catch(l){}}},{key:"pageBackgroundSize",set:function(t){this.wrap({key:"page-background-size",data:t})},get:function(){var t=this.unpack({key:"page-background-size"});return!t||!t.match(/^cover|contain|initial$/)?"cover":t}},{key:"lineEndPoint",set:function(t){this.wrap({key:"line-end-point",data:t})},get:function(){var t=this.unpack({key:"line-end-point",parse:!0});return Object(r.w)(t)?{start:0,end:0}:t}},{key:"veteran",set:function(t){this.wrap({key:"veteran",data:t})},get:function(){return this.unpack({key:"veteran",expire:!1})}},{key:"introduction",set:function(t){this.wrap({key:"introduction",data:t})},get:function(){return this.unpack({key:"introduction",parse:!0,expire:!1})}},{key:"version",set:function(t){this.wrap({key:"version",data:t})},get:function(){return this.unpack({key:"version",expire:!1})}},{key:"tourRoute",set:function(t){this.wrap({key:"tour-route",data:t})},get:function(){return this.unpack({key:"tour-route",expire:!1,parse:!0})||{}}},{key:"tempid",get:function(){var t=this.unpack({key:"tempid",expire:!1});if(t)return t;t=Object(r.O)(),this.wrap({key:"tempid",data:t})}},{key:"chooseInGroup",set:function(t){this.wrap({key:"choose-in-group",data:t,expire:6048e5})},get:function(){return window._knewHowToChooseInGroup||(window._knewHowToChooseInGroup=this.unpack({key:"choose-in-group"})),window._knewHowToChooseInGroup}}]),e}();t.a=new f}}]);